/*! For license information please see main.07fd08cd.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case S:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,xe=null;function Se(e){if(e=mi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),ke(e.stateNode,e.type,t))}}function Te(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ae(){}var De=!1;function Ne(e,t,n){if(De)return e(t,n);De=!0;try{return Ie(e,t,n)}finally{De=!1,(null!==Ee||null!==xe)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Oe=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Be=null,Ve={onError:function(e){Me=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Re.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,Et,xt,St=!1,Tt=[],Ct=null,It=null,At=null,Dt=new Map,Nt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==It&&Ft(It)&&(It=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(jt),Nt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==It&&Vt(It,e),null!==At&&Vt(At,e),Dt.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=w.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Gt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)zr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Rt(Ct,e,t,n,r,i),!0;case"dragenter":return It=Rt(It,e,t,n,r,i),!0;case"mouseover":return At=Rt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Rt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Rt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&wt(a),null===(a=Ht(e,t,n,r))&&zr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Wt=null;function Ht(e,t,n,r){if(Wt=null,null!==(e=vi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=nn(fn),hn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return kn}var xn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=nn(xn),Tn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=nn(An),Nn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Rn=l&&(!Pn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Wn(e){Mr(e,0)}function Hn(e){if(H(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Gn&&(Gn.detachEvent("onpropertychange",er),Kn=Gn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,_e(e)),Ne(Wn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Gn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},kr={};function Er(e){if(_r[e])return _r[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var xr=Er("animationend"),Sr=Er("animationiteration"),Tr=Er("animationstart"),Cr=Er("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),s(t,[e])}for(var Nr=0;Nr<Ar.length;Nr++){var Pr=Ar[Nr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(xr,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Tr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Rr(i,u,c),a=s}}}if(je)throw e=Be,je=!1,Be=null,e}function Fr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=_e(n),o=[];e:{var u=Ir.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case xr:case Sr:case Tr:s=vn;break;case Cr:s=In;break;case"scroll":s=ln;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(qr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=dn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:yi(s),h=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,vi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(zn(u))if($n)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,Vn=!0)),0<(y=Gr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Pn&&jn(e,t)?(e=Jt(),Xt=Yt=$t=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,di="__reactEvents$"+si,hi="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],wi=-1;function _i(e){return{current:e}}function ki(e){0>wi||(e.current=bi[wi],bi[wi]=null,wi--)}function Ei(e,t){wi++,bi[wi]=e.current,e.current=t}var xi={},Si=_i(xi),Ti=_i(!1),Ci=xi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ti),ki(Si)}function Ni(e,t,n){if(Si.current!==xi)throw Error(a(168));Ei(Si,t),Ei(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ci=Si.current,Ei(Si,e),Ei(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Si),Ei(Si,e)):ki(Ti),Ei(Ti,n)}var Ri=null,Mi=!1,Fi=!1;function ji(e){null===Ri?Ri=[e]:Ri.push(e)}function Bi(){if(!Fi&&null!==Ri){Fi=!0;var e=0,t=gt;try{var n=Ri;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ri=null,Mi=!1}catch(i){throw null!==Ri&&(Ri=Ri.slice(e+1)),He(Ze,Bi),i}finally{gt=t,Fi=!1}}return null}var Vi=w.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=_i(null),qi=null,Gi=null,Ki=null;function Wi(){Ki=Gi=qi=null}function Hi(e){var t=zi.current;ki(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Ki=Gi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Gi){if(null===qi)throw Error(a(308));Gi=e,qi.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ss|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Gs(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Gs(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Gs(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ai(t)?Ci:Si.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ai(t)?Ci:Si.current,i.context=Ii(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ba=0,wa=null,_a=1,ka="";function Ea(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function xa(e,t,n){ga[ba++]=_a,ga[ba++]=ka,ga[ba++]=wa,wa=e;var r=_a;e=ka;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_a=1<<32-ot(t)+i|n<<i|r,ka=a+e}else _a=1<<a|n<<i|r,ka=e}function Sa(e){null!==e.return&&(Ea(e,1),xa(e,1,0))}function Ta(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===wa;)wa=ga[--ba],ga[ba]=null,ka=ga[--ba],ga[ba]=null,_a=ga[--ba],ga[ba]=null}var Ca=null,Ia=null,Aa=!1,Da=null;function Na(e,t){var n=wc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ca=e,Ia=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ca=e,Ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wa?{id:_a,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=wc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ca=e,Ia=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function La(e){if(Aa){var t=Ia;if(t){var n=t;if(!Pa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ca;t&&Pa(e,t)?Na(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ca=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ca=e}}}function Ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Ma(e){if(e!==Ca)return!1;if(!Aa)return Ra(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ia)){if(Oa(e)){for(e=Ia;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Na(e,t),t=oi(t.nextSibling)}if(Ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ia=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ia=null}}else Ia=Ca?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ia=Ca=null,Aa=!1}function ja(e){null===Da?Da=[e]:Da.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ua(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Ec(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=xc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ec(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case k:return(t=Cc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=xc(t,e.mode,n,null)).return=e,t;Va(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Va(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Aa&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Aa&&Ea(i,v),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Aa&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Aa&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ua(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=xc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ec(o.type,o.key,o.props,null,r.mode,s)).ref=Ba(r,a,o),s.return=r,r=s)}return u(r);case k:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Cc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(R(o))return m(r,a,o,s);Va(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Ga=za(!1),Ka={},Wa=_i(Ka),Ha=_i(Ka),Qa=_i(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Ei(Qa,t),Ei(Ha,e),Ei(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wa),Ei(Wa,t)}function Xa(){ki(Wa),ki(Ha),ki(Qa)}function Ja(e){$a(Qa.current);var t=$a(Wa.current),n=se(t,e.type);t!==n&&(Ei(Ha,e),Ei(Wa,n))}function Za(e){Ha.current===e&&(ki(Wa),ki(Ha))}var eo=_i(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=w.ReactCurrentDispatcher,ao=w.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function wo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function _o(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,uo.lanes|=f,Ss|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Ss|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=wo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function So(e,t){var n=uo,r=wo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Mo(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,Co.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Co(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Gs(e,1,-1)}function Io(e,t,n){return n((function(){Ao(t)&&Gs(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Do(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return wo().memoizedState}function Oo(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=wo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Ro(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Lo(2048,8,e,t)}function Fo(e,t){return Lo(4,2,e,t)}function jo(e,t){return Lo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Bo.bind(null,t,e),n)}function Uo(){}function zo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=wo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Go(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return wo().memoizedState}function Wo(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Gs(e,r,n=zs()))&&Xo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Gs(e,r,n=zs()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Ro,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Do,useDebugValue:Uo,useDeferredValue:function(e){var t=Do(e),n=t[0],r=t[1];return Ro((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Do(!1),t=e[0];return e=Go.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ro(Io.bind(null,r,o,e),[e]),r.flags|=2048,No(9,Co.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gs.identifierPrefix;if(Aa){var n=ka;t=":"+t+"R"+(n=(_a&~(1<<32-ot(_a)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:ko,useRef:Po,useState:function(){return ko(_o)},useDebugValue:Uo,useDeferredValue:function(e){var t=ko(_o),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[ko(_o)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:zo,useContext:Yi,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:Eo,useRef:Po,useState:function(){return Eo(_o)},useDebugValue:Uo,useDeferredValue:function(e){var t=Eo(_o),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Eo(_o)[0],wo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ls?Ls=new Set([this]):Ls.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function du(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function hu(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Di(),pu(t),null;case 3:return r=t.stateNode,Xa(),ki(Ti),ki(Si),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&($s(Da),Da=null))),pu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Wa.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Wa.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ca))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(ki(eo),r=t.memoizedState,Aa&&null!==Ia&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ia;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Da&&($s(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Es&&(Es=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Xa(),null===e&&Vr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(ki(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)hu(o,!1);else{if(0!==Es||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ns&&(t.flags|=128,r=!0,hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Xe()-o.renderingStartTime>Ns&&1073741824!==n&&(t.flags|=128,r=!0,hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,Ei(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_s)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Wa.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=w.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Ga(t,null,n,r):qa(t,e.child,n,r)}function bu(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Aa&&n&&Sa(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bu(e,t,i))}function wu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||_c(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ec(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Bu(e,t,i)}return t.flags|=1,(e=kc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Bu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return xu(e,t,n,r,i)}function ku(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ei(ks,_s),_s|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ei(ks,_s),_s|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ei(ks,_s),_s|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(ks,_s),_s|=r;return gu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,n,r,i){var a=Ai(n)?Ci:Si.current;return a=Ii(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Aa&&r&&Sa(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bu(e,t,i))}function Su(e,t,n,r,i){if(Ai(n)){var a=!0;Oi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ii(t,c=Ai(n)?Ci:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&da(t,o,r,c),Ji=!1;var d=t.memoizedState;o.state=d,aa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ti.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ui(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ii(t,s=Ai(n)?Ci:Si.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&da(t,o,r,s),Ji=!1,d=t.memoizedState,o.state=d,aa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ti.current||Ji?("function"===typeof h&&(sa(t,n,h,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Bu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Cu(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ya(e,t.containerInfo)}function Iu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null}}function Nu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(eo,1&o),null===e)return La(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Sc(o,i,0,null),e=xc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Ru(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Sc({mode:"visible",children:i.children},o,0,null),(u=xc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Ru(e,t,n,null);else if("$!"===r.data)t=Ru(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Gs(e,i,-1))}ic(),t=Ru(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ia=oi(r.nextSibling),Ca=t,Aa=!0,Da=null,null!==n&&(ga[ba++]=_a,ga[ba++]=ka,ga[ba++]=wa,_a=n.id,ka=n.overflow,wa=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Lu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Sc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=kc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Lu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=kc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=kc(o,r):(r=xc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ru(e,t,n,r){return null!==r&&ja(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ss|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=kc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vu(e,t){switch(Ta(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),ki(Ti),ki(Si),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(ki(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(eo),null;case 4:return Xa(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Uu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Gu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){hc(e,t,r)}else n.current=null}function Wu(e,t,n){try{n()}catch(r){hc(e,t,r)}}var Hu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Wu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Wu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){hc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[di],delete t[hi],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),Ut(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?de(n,s):b(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ut(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Gu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Gu;){var i=Gu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Uu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Uu;var c=zu;if(Uu=o,(zu=s)&&!c)for(Gu=i;null!==Gu;)s=(o=Gu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Gu=s):fs(i);for(;null!==a;)Gu=a,ss(a,t,n),a=a.sibling;Gu=i,Uu=u,zu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Gu=a):cs(e)}}function cs(e){for(;null!==Gu;){var t=Gu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Yu(t)}catch(h){hc(t,t.return,h)}}if(t===e){Gu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gu=n;break}Gu=t.return}}function ls(e){for(;null!==Gu;){var t=Gu;if(t===e){Gu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gu=n;break}Gu=t.return}}function fs(e){for(;null!==Gu;){var t=Gu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){hc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){hc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){hc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){hc(t,o,s)}}}catch(s){hc(t,t.return,s)}if(t===e){Gu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Gu=u;break}Gu=t.return}}var ds,hs=Math.ceil,ps=w.ReactCurrentDispatcher,vs=w.ReactCurrentOwner,ms=w.ReactCurrentBatchConfig,ys=0,gs=null,bs=null,ws=0,_s=0,ks=_i(0),Es=0,xs=null,Ss=0,Ts=0,Cs=0,Is=null,As=null,Ds=0,Ns=1/0,Ps=!1,Os=null,Ls=null,Rs=!1,Ms=null,Fs=0,js=0,Bs=null,Vs=-1,Us=0;function zs(){return 0!==(6&ys)?Xe():-1!==Vs?Vs:Vs=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ws?ws&-ws:null!==Vi.transition?(0===Us&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Us=e),Us):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Gs(e,t,n){if(50<js)throw js=0,Bs=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Ts|=t),4===Es&&Ys(r,ws)),Ws(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ns=Xe()+500,Mi&&Bi())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ws(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===gs?ws:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,ji(e)}(Xs.bind(null,e)):ji(Xs.bind(null,e)),ri((function(){0===ys&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(Vs=-1,Us=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=dt(e,e===gs?ws:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ws===t||(Ns=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Wi(),ps.current=o,ys=i,null!==bs?t=0:(gs=null,ws=0,t=Es)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=xs,tc(e,0),Ys(e,r),Ws(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=xs,tc(e,0),Ys(e,r),Ws(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Ds+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hs(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Ws(e,Xe()),e.callbackNode===n?Hs.bind(null,e):null}function Qs(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&$s(t)),e}function $s(e){null===As?As=e:As.push.apply(As,e)}function Ys(e,t){for(t&=~Cs,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fc();var t=dt(e,0);if(0===(1&t))return Ws(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=xs,tc(e,0),Ys(e,t),Ws(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Ws(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ns=Xe()+500,Mi&&Bi())}}function Zs(e){null!==Ms&&0===Ms.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Bi()}}function ec(){_s=ks.current,ki(ks)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(Ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Xa(),ki(Ti),ki(Si),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:ki(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,bs=e=kc(e.current,null),ws=_s=t,Es=0,xs=null,Cs=Ts=Ss=0,As=Is=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=bs;try{if(Wi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){Es=1,xs=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ws,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,du(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),du(y,u,s,0,t),ja(c);break e}}o=c,4!==Es&&(Es=2),null===Is?Is=[o]:Is.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ls||!Ls.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(w){t=w,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Jo,null===e?Jo:e}function ic(){0!==Es&&3!==Es&&2!==Es||(Es=4),null===gs||0===(268435455&Ss)&&0===(268435455&Ts)||Ys(gs,ws)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ws===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Wi(),ys=n,ps.current=r,null!==bs)throw Error(a(261));return gs=null,ws=0,Es}function oc(){for(;null!==bs;)sc(bs)}function uc(){for(;null!==bs&&!$e();)sc(bs)}function sc(e){var t=ds(e.alternate,e,_s);e.memoizedProps=e.pendingProps,null===t?cc(e):bs=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,_s)))return void(bs=n)}else{if(null!==(n=Vu(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return Es=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===Es&&(Es=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(bs=gs=null,ws=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Rs||(Rs=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Gu=t;null!==Gu;)if(e=(t=Gu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gu=e;else for(;null!==Gu;){t=Gu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ui(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var _=w.body;null!=_&&(_.textContent="")}break;default:throw Error(a(163))}}catch(k){hc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Gu=e;break}Gu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Gu=t;null!==Gu;){var n=(t=Gu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(x){hc(i,t,x)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Gu=n;else for(;null!==Gu;){t=Gu;try{var o=t.flags;if(32&o&&de(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ds=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,d=null!==f&&null!==f.memoizedState;e:{i=l;for(var h=null,p=r=n=t;;){if(5===p.tag){if(null===h){h=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",b)}}}else if(6===p.tag)null===h&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!d&&0!==(1&n.mode)){Gu=n;for(var w=n.child;null!==w;){for(n=Gu=w;null!==Gu;){var _=(r=Gu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var k=r.stateNode;if("function"===typeof k.componentWillUnmount){var E=r.return;try{k.props=r.memoizedProps,k.state=r.memoizedState,k.componentWillUnmount()}catch(x){hc(r,E,x)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==_?(_.return=r,Gu=_):ls(n)}w=w.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(x){hc(t,t.return,x)}if(null!==(n=t.sibling)){n.return=t.return,Gu=n;break}Gu=t.return}}}(e,r),dr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Rs&&(Rs=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Ls=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Ws(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Os,Os=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Bs?js++:(js=0,Bs=e):js=0,Bi()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=bt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Gu=e.current;null!==Gu;){var o=Gu,u=o.child;if(0!==(16&Gu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Gu=l;null!==Gu;){var f=Gu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var d=f.child;if(null!==d)d.return=f,Gu=d;else for(;null!==Gu;){var h=(f=Gu).sibling,p=f.return;if(Ju(f),f===l){Gu=null;break}if(null!==h){h.return=p,Gu=h;break}Gu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Gu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Gu=u;else e:for(;null!==Gu;){if(0!==(2048&(o=Gu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Gu=g;break e}Gu=o.return}}var b=e.current;for(Gu=b;null!==Gu;){var w=(u=Gu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Gu=w;else e:for(u=b;null!==Gu;){if(0!==(2048&(s=Gu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(k){hc(s,s.return,k)}if(s===u){Gu=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,Gu=_;break e}Gu=s.return}}if(ys=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function dc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Ws(e,t))}function hc(e,t,n){if(3===e.tag)dc(e,e,n);else for(;null!==t;){if(3===t.tag){dc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ls||!Ls.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=zs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Ws(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ws&n)===n&&(4===Es||3===Es&&(130023424&ws)===ws&&500>Xe()-Ds?tc(e,0):Cs|=n),Ws(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=zs();null!==(e=Ks(e,t))&&(mt(e,t,n),Ws(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wc(e,t,n,r){return new bc(e,t,n,r)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kc(e,t){var n=e.alternate;return null===n?((n=wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ec(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)_c(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return xc(n.children,i,o,t);case x:u=8,i|=8;break;case S:return(e=wc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=wc(13,n,t,i)).elementType=A,e.lanes=o,e;case D:return(e=wc(19,n,t,i)).elementType=D,e.lanes=o,e;case O:return Sc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case I:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=wc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function xc(e,t,n,r){return(e=wc(7,e,r,t)).lanes=n,e}function Sc(e,t,n,r){return(e=wc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=wc(6,e,null,t)).lanes=n,e}function Cc(e,t,n){return(t=wc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Ic(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=wc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Dc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return xi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Nc(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Ws(e,r),e}function Oc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Gs(i,o,a))&&ra(e,i,o),o}function Lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Rc(e,t),(e=e.alternate)&&Rc(e,t)}ds=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Cu(t),Fa();break;case 5:Ja(t);break;case 1:Ai(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Nu(e,t,n):(Ei(eo,1&eo.current),null!==(e=Bu(e,t,n))?e.sibling:null);Ei(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,ku(e,t,n)}return Bu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Aa&&0!==(1048576&t.flags)&&xa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ii(t,Si.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,ha(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Sa(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return _c(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===N)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=xu(null,t,r,e,n);break e;case 1:t=Su(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=wu(null,t,r,Ui(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Cu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Iu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Iu(e,t,r,n,i=Error(a(424)));break e}for(Ia=oi(t.stateNode.containerInfo.firstChild),Ca=t,Aa=!0,Da=null,n=Ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Bu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&La(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),Eu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&La(t),null;case 13:return Nu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ti.current){t=Bu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),wu(e,t,r,i=Ui(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Oi(t)):e=!1,$i(t,n),fa(t,r,i),ha(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return ku(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Bc(e){this._internalRoot=e}function Vc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Lc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Lc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=o,e[fi]=o.current,Vr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Lc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),Zs((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Lc(o)}Bc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Bc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Oc(null,e,null,null)})),t[fi]=null}},Bc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Ws(t,Xe()),0===(6&ys)&&(Ns=Xe()+500,Bi()))}break;case 13:var r=zs();Zs((function(){return Gs(e,1,r)})),Mc(e,1)}},_t=function(e){13===e.tag&&(Gs(e,134217728,zs()),Mc(e,134217728))},kt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Gs(e,n,t),Mc(e,n)}},Et=function(){return gt},xt=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=Js,Ae=Zs;var Gc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Te,Ce,Js]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Wc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Wc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(t))throw Error(a(200));return Dc(e,t,null,n)},t.createRoot=function(e,t){if(!Vc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Vc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bc(t)},t.render=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var l=a+I(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+I(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)k.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return D()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==n&&r.call(_,a)&&(b=_);var k=g.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:D}}function D(){return{value:t,done:!0}}return y.prototype=g,s(k,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},E(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function _(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,O(k);else{var t=r(l);null!==t&&L(_,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&L(_,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,S=null,T=-1,C=5,I=-1;function A(){return!(t.unstable_now()-I<C)}function D(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(x=!1,S=null)}}else x=!1}if("function"===typeof b)E=function(){b(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=D,E=function(){P.postMessage(null)}}else E=function(){y(D,0)};function O(e){S=e,x||(x=!0,E())}function L(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,L(_,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},648:function(e,t,n){"use strict";e.exports=n.p+"static/media/BanubaSDK.560c396757e00ca26fab.data"},741:function(e,t,n){"use strict";e.exports=n.p+"static/media/BanubaSDK.simd.93b125400208cc42ee30.wasm"},270:function(e,t,n){"use strict";e.exports=n.p+"static/media/BanubaSDK.b272b9c08614ec67e178.wasm"},27:function(e,t,n){"use strict";e.exports=n.p+"static/media/blur_bg.fde323636f5ee2e53cc0.zip"},125:function(e,t,n){"use strict";e.exports=n.p+"static/media/poster.97916655b48108e41119.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/test-banuba/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ka},SDK_VERSION:function(){return yo},_DEFAULT_ENTRY_NAME:function(){return ro},_addComponent:function(){return uo},_addOrOverwriteComponent:function(){return so},_apps:function(){return ao},_clearComponents:function(){return ho},_components:function(){return oo},_getProvider:function(){return lo},_registerComponent:function(){return co},_removeServiceInstance:function(){return fo},deleteApp:function(){return _o},getApp:function(){return bo},getApps:function(){return wo},initializeApp:function(){return go},onLog:function(){return xo},registerVersion:function(){return Eo},setLogLevel:function(){return So}});var t=n(791),r=n(250);function i(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function u(e){i(o,r,a,u,s,"next",e)}function s(e){i(o,r,a,u,s,"throw",e)}u(void 0)}))}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(757),l=n.n(c);function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var d={};function h(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:d}var p=Object.assign,v=Object.getOwnPropertyDescriptor,m=Object.defineProperty,y=Object.prototype,g=[];Object.freeze(g);var b={};Object.freeze(b);var w="undefined"!==typeof Proxy,_=Object.toString();function k(){w||f("Proxy not available")}function E(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var x=function(){};function S(e){return"function"===typeof e}function T(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function C(e){return null!==e&&"object"===typeof e}function I(e){if(!C(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===_}function A(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function D(e,t,n){m(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function N(e,t,n){m(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function P(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return C(e)&&!0===e[n]}}function O(e){return e instanceof Map}function L(e){return e instanceof Set}var R="undefined"!==typeof Object.getOwnPropertySymbols;var M="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:R?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function F(e){return null===e?null:"object"===typeof e?""+e:e}function j(e,t){return y.hasOwnProperty.call(e,t)}var B=Object.getOwnPropertyDescriptors||function(e){var t={};return M(e).forEach((function(n){t[n]=v(e,n)})),t};function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,G(e,t)}function G(e,t){return G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},G(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q=Symbol("mobx-stored-annotations");function $(e){return Object.assign((function(t,n){Y(t,n,e)}),e)}function Y(e,t,n){j(e,Q)||D(e,Q,z({},e[Q])),function(e){return e.annotationType_===ie}(n)||(e[Q][t]=n)}var X=Symbol("mobx administration"),J=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return _t(this)},t.reportChanged=function(){bt(),kt(this),wt()},t.toString=function(){return this.name_},e}(),Z=P("Atom",J);function ee(e,t,n){void 0===t&&(t=x),void 0===n&&(n=x);var r,i=new J(e);return t!==x&&Gt(zt,i,t,r),n!==x&&qt(i,n),i}var te={identity:function(e,t){return e===t},structural:function(e,t){return rr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return rr(e,t,1)}};function ne(e,t,n){return an(e)?e:Array.isArray(e)?Le.array(e,{name:n}):I(e)?Le.object(e,void 0,{name:n}):O(e)?Le.map(e,{name:n}):L(e)?Le.set(e,{name:n}):"function"!==typeof e||jt(e)||nn(e)?e:A(e)?en(e):Ft(n,e)}function re(e){return e}var ie="override";function ae(e,t){return{annotationType_:e,options_:t,make_:oe,extend_:ue}}function oe(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(jt(n.value))return 1;var a=se(e,this,t,n,!1);return m(r,t,a),2}function ue(e,t,n,r){var i=se(e,this,t,n);return e.defineProperty_(t,i,r)}function se(e,t,n,r,i){var a,o,u,s,c,l,f,d;void 0===i&&(i=vt.safeDescriptors),d=r,t.annotationType_,d.value;var h,p=r.value;null!=(a=t.options_)&&a.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_));return{value:Ge(null!=(o=null==(u=t.options_)?void 0:u.name)?o:n.toString(),p,null!=(s=null==(c=t.options_)?void 0:c.autoAction)&&s,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ce(e,t){return{annotationType_:e,options_:t,make_:le,extend_:fe}}function le(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!j(e.target_,t)||!nn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(nn(n.value))return 1;var a=de(e,this,t,n,!1,!1);return m(r,t,a),2}function fe(e,t,n,r){var i,a=de(e,this,t,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,a,r)}function de(e,t,n,r,i,a){var o;void 0===a&&(a=vt.safeDescriptors),o=r,t.annotationType_,o.value;var u,s=r.value;(nn(s)||(s=en(s)),i)&&((s=s.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:s,configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function he(e,t){return{annotationType_:e,options_:t,make_:pe,extend_:ve}}function pe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ve(e,t,n,r){return function(e,t,n,r){t.annotationType_,r.get;0}(0,this,0,n),e.defineComputedProperty_(t,z({},this.options_,{get:n.get,set:n.set}),r)}function me(e,t){return{annotationType_:e,options_:t,make_:ye,extend_:ge}}function ye(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ge(e,t,n,r){var i,a;return function(e,t,n,r){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(i=null==(a=this.options_)?void 0:a.enhancer)?i:ne,r)}var be=we();function we(e){return{annotationType_:"true",options_:e,make_:_e,extend_:ke}}function _e(e,t,n,r){var i,a,o,u;if(n.get)return je.make_(e,t,n,r);if(n.set){var s=Ge(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!vt.safeDescriptors||e.isPlainObject_,set:s})?0:2:(m(r,t,{configurable:!0,set:s}),2)}if(r!==e.target_&&"function"===typeof n.value)return A(n.value)?(null!=(u=this.options_)&&u.autoBind?en.bound:en).make_(e,t,n,r):(null!=(o=this.options_)&&o.autoBind?Ft.bound:Ft).make_(e,t,n,r);var c,l=!1===(null==(i=this.options_)?void 0:i.deep)?Le.ref:Le;"function"===typeof n.value&&null!=(a=this.options_)&&a.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return l.make_(e,t,n,r)}function ke(e,t,n,r){var i,a,o;if(n.get)return je.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!vt.safeDescriptors||e.isPlainObject_,set:Ge(t.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(o=e.proxy_)?o:e.target_));return(!1===(null==(a=this.options_)?void 0:a.deep)?Le.ref:Le).extend_(e,t,n,r)}var Ee={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xe(e){return e||Ee}Object.freeze(Ee);var Se=me("observable"),Te=me("observable.ref",{enhancer:re}),Ce=me("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||zn(e)||Cn(e)||Pn(e)||Rn(e)?e:Array.isArray(e)?Le.array(e,{name:n,deep:!1}):I(e)?Le.object(e,void 0,{name:n,deep:!1}):O(e)?Le.map(e,{name:n,deep:!1}):L(e)?Le.set(e,{name:n,deep:!1}):void 0}}),Ie=me("observable.struct",{enhancer:function(e,t){return rr(e,t)?t:e}}),Ae=$(Se);function De(e){return!0===e.deep?ne:!1===e.deep?re:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:ne}(e.defaultDecorator)}function Ne(e,t,n){if(!T(t))return an(e)?e:I(e)?Le.object(e,t,n):Array.isArray(e)?Le.array(e,t):O(e)?Le.map(e,t):L(e)?Le.set(e,t):"object"===typeof e&&null!==e?e:Le.box(e,t);Y(e,t,Se)}Object.assign(Ne,Ae);var Pe,Oe,Le=p(Ne,{box:function(e,t){var n=xe(t);return new Xe(e,De(n),n.name,!0,n.equals)},array:function(e,t){var n=xe(t);return(!1===vt.useProxies||!1===n.proxy?Jn:wn)(e,De(n),n.name)},map:function(e,t){var n=xe(t);return new Nn(e,De(n),n.name)},set:function(e,t){var n=xe(t);return new Ln(e,De(n),n.name)},object:function(e,t,n){return Ht(!1===vt.useProxies||!1===(null==n?void 0:n.proxy)?Bn({},n):function(e,t){var n,r;return k(),e=Bn(e,t),null!=(r=(n=e[X]).proxy_)?r:n.proxy_=new Proxy(e,cn)}({},n),e,t)},ref:$(Te),shallow:$(Ce),deep:Ae,struct:$(Ie)}),Re="computed",Me=he(Re),Fe=he("computed.struct",{equals:te.structural}),je=function(e,t){if(T(t))return Y(e,t,Me);if(I(e))return $(he(Re,e));var n=I(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Je(n)};Object.assign(je,Me),je.struct=$(Fe);var Be,Ve=0,Ue=1,ze=null!=(Pe=null==(Oe=v((function(){}),"name"))?void 0:Oe.configurable)&&Pe,qe={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ge(e,t,n,r){function i(){return Ke(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,ze&&(qe.value=e,Object.defineProperty(i,"name",qe)),i}function Ke(e,t,n,r,i){var a=function(e,t,n,r){var i=!1,a=0;0;var o=vt.trackingDerivation,u=!t||!o;bt();var s=vt.allowStateChanges;u&&(ut(),s=He(!0));var c=ct(!0),l={runAsAction_:u,prevDerivation_:o,prevAllowStateChanges_:s,prevAllowStateReads_:c,notifySpy_:i,startTime_:a,actionId_:Ue++,parentActionId_:Ve};return Ve=l.actionId_,l}(0,t);try{return n.apply(r,i)}catch(o){throw a.error_=o,o}finally{!function(e){Ve!==e.actionId_&&f(30);Ve=e.parentActionId_,void 0!==e.error_&&(vt.suppressReactionErrors=!0);Qe(e.prevAllowStateChanges_),lt(e.prevAllowStateReads_),wt(),e.runAsAction_&&st(e.prevDerivation_);0;vt.suppressReactionErrors=!1}(a)}}function We(e,t){var n=He(e);try{return t()}finally{Qe(n)}}function He(e){var t=vt.allowStateChanges;return vt.allowStateChanges=e,t}function Qe(e){vt.allowStateChanges=e}Be=Symbol.toPrimitive;var $e,Ye,Xe=function(e,t){function n(t,n,r,i,a){var o;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===a&&(a=te.default),(o=e.call(this,r)||this).enhancer=void 0,o.name_=void 0,o.equals=void 0,o.hasUnreportedChange_=!1,o.interceptors_=void 0,o.changeListeners_=void 0,o.value_=void 0,o.dehancer=void 0,o.enhancer=n,o.name_=r,o.equals=a,o.value_=n(t,void 0,r),o}q(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==vt.UNCHANGED){0,this.setNewValue_(e)}},r.prepareNewValue_=function(e){if(rt(this),ln(this)){var t=dn(this,{object:this,type:yn,newValue:e});if(!t)return vt.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?vt.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),hn(this)&&vn(this,{type:yn,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return fn(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:yn,newValue:this.value_,oldValue:void 0}),pn(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return F(this.get())},r[t]=function(){return this.valueOf()},n}(J,Be),Je=function(e){function t(e){this.dependenciesState_=$e.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new et(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ye.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||f(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ge("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?te.structural:te.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==$e.UP_TO_DATE_)return;e.lowestObserverState_=$e.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&(e.dependenciesState_=$e.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&f(32,this.name_,this.derivation),0!==vt.inBatch||0!==this.observers_.size||this.keepAlive_){if(_t(this),nt(this)){var e=vt.trackingContext;this.keepAlive_&&!e&&(vt.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===$e.STALE_)return;e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===$e.POSSIBLY_STALE_?t.dependenciesState_=$e.STALE_:t.dependenciesState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.UP_TO_DATE_)}))}(this),vt.trackingContext=e}}else nt(this)&&(this.warnAboutUntrackedRead_(),bt(),this.value_=this.computeValue_(!1),wt());var t=this.value_;if(tt(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&f(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else f(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===$e.NOT_TRACKING_,n=this.computeValue_(!0),r=t||tt(e)||tt(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=He(!1);if(e)t=it(this,this.derivation,this.scope_);else if(!0===vt.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(r){t=new et(r)}return Qe(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(at(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return Bt((function(){var a=n.get();if(!r||t){var o=ut();e({observableKind:"computed",debugObjectName:n.name_,type:yn,object:n,newValue:a,oldValue:i}),st(o)}r=!1,i=a}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return F(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),Ze=P("ComputedValue",Je);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}($e||($e={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ye||(Ye={}));var et=function(e){this.cause=void 0,this.cause=e};function tt(e){return e instanceof et}function nt(e){switch(e.dependenciesState_){case $e.UP_TO_DATE_:return!1;case $e.NOT_TRACKING_:case $e.STALE_:return!0;case $e.POSSIBLY_STALE_:for(var t=ct(!0),n=ut(),r=e.observing_,i=r.length,a=0;a<i;a++){var o=r[a];if(Ze(o)){if(vt.disableErrorBoundaries)o.get();else try{o.get()}catch(u){return st(n),lt(t),!0}if(e.dependenciesState_===$e.STALE_)return st(n),lt(t),!0}}return ft(e),st(n),lt(t),!1}}function rt(e){}function it(e,t,n){var r=ct(!0);ft(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++vt.runId;var i,a=vt.trackingDerivation;if(vt.trackingDerivation=e,vt.inBatch++,!0===vt.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(o){i=new et(o)}return vt.inBatch--,vt.trackingDerivation=a,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=$e.UP_TO_DATE_,i=0,a=e.unboundDepsCount_,o=0;o<a;o++){var u=n[o];0===u.diffValue_&&(u.diffValue_=1,i!==o&&(n[i]=u),i++),u.dependenciesState_>r&&(r=u.dependenciesState_)}n.length=i,e.newObserving_=null,a=t.length;for(;a--;){var s=t[a];0===s.diffValue_&&yt(s,e),s.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,mt(c,e))}r!==$e.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),lt(r),i}function at(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)yt(t[n],e);e.dependenciesState_=$e.NOT_TRACKING_}function ot(e){var t=ut();try{return e()}finally{st(t)}}function ut(){var e=vt.trackingDerivation;return vt.trackingDerivation=null,e}function st(e){vt.trackingDerivation=e}function ct(e){var t=vt.allowStateReads;return vt.allowStateReads=e,t}function lt(e){vt.allowStateReads=e}function ft(e){if(e.dependenciesState_!==$e.UP_TO_DATE_){e.dependenciesState_=$e.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=$e.UP_TO_DATE_}}var dt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ht=!0,pt=!1,vt=function(){var e=h();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ht=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new dt).version&&(ht=!1),ht?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new dt):(setTimeout((function(){pt||f(35)}),1),new dt)}();function mt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function yt(e,t){e.observers_.delete(t),0===e.observers_.size&&gt(e)}function gt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,vt.pendingUnobservations.push(e))}function bt(){vt.inBatch++}function wt(){if(0===--vt.inBatch){St();for(var e=vt.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Je&&n.suspend_())}vt.pendingUnobservations=[]}}function _t(e){var t=vt.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&vt.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&vt.inBatch>0&&gt(e),!1)}function kt(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=$e.STALE_})))}var Et=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$e.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ye.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,vt.pendingReactions.push(this),St())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){bt(),this.isScheduled_=!1;var e=vt.trackingContext;if(vt.trackingContext=this,nt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}vt.trackingContext=e,wt()}},t.track=function(e){if(!this.isDisposed_){bt();0,this.isRunning_=!0;var t=vt.trackingContext;vt.trackingContext=this;var n=it(this,e,void 0);vt.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&at(this),tt(n)&&this.reportExceptionInDerivation_(n.cause),wt()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(vt.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";vt.suppressReactionErrors||console.error(n,e),vt.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(bt(),at(this),wt()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[X]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){f("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"===typeof n[n.length-1]&&(e=n.pop());var i=on(n);if(!i)return f("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Ye.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled");i.isTracing_=e?Ye.BREAK:Ye.LOG}(this,e)},e}();var xt=function(e){return e()};function St(){vt.inBatch>0||vt.isRunningReactions||xt(Tt)}function Tt(){vt.isRunningReactions=!0;for(var e=vt.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}vt.isRunningReactions=!1}var Ct=P("Reaction",Et);var It="action",At="autoAction",Dt="<unnamed action>",Nt=ae(It),Pt=ae("action.bound",{bound:!0}),Ot=ae(At,{autoAction:!0}),Lt=ae("autoAction.bound",{autoAction:!0,bound:!0});function Rt(e){return function(t,n){return S(t)?Ge(t.name||Dt,t,e):S(n)?Ge(t,n,e):T(n)?Y(t,n,e?Ot:Nt):T(t)?$(ae(e?At:It,{name:t,autoAction:e})):void 0}}var Mt=Rt(!1);Object.assign(Mt,Nt);var Ft=Rt(!0);function jt(e){return S(e)&&!0===e.isMobxAction}function Bt(e,t){var n,r;void 0===t&&(t=b);var i,a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(!t.scheduler&&!t.delay)i=new Et(a,(function(){this.track(s)}),t.onError,t.requiresObservable);else{var o=Ut(t),u=!1;i=new Et(a,(function(){u||(u=!0,o((function(){u=!1,i.isDisposed_||i.track(s)})))}),t.onError,t.requiresObservable)}function s(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Ft,Ot),Mt.bound=$(Pt),Ft.bound=$(Lt);var Vt=function(e){return e()};function Ut(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Vt}var zt="onBO";function qt(e,t,n){return Gt("onBUO",e,t,n)}function Gt(e,t,n,r){var i="function"===typeof r?Zn(t,n):Zn(t),a=S(r)?r:n,o=e+"L";return i[o]?i[o].add(a):i[o]=new Set([a]),function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}var Kt="always";function Wt(e){!0===e.isolateGlobalState&&function(){if((vt.pendingReactions.length||vt.inBatch||vt.isRunningReactions)&&f(36),pt=!0,ht){var e=h();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),vt=new dt}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(vt.useProxies=t===Kt||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(vt.verifyProxies=!0),void 0!==n){var r=n===Kt?Kt:"observed"===n;vt.enforceActions=r,vt.allowStateChanges=!0!==r&&r!==Kt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(vt[t]=!!e[t])})),vt.allowStateReads=!vt.observableRequiresReaction,e.reactionScheduler&&function(e){var t=xt;xt=function(n){return e((function(){return t(n)}))}}(e.reactionScheduler)}function Ht(e,t,n,r){var i=B(t),a=Bn(e,r)[X];bt();try{M(i).forEach((function(e){a.extend_(e,i[e],!n||(!(e in n)||n[e]))}))}finally{wt()}return e}function Qt(e,t){return $t(Zn(e,t))}function $t(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map($t)),n}var Yt=0;function Xt(){this.message="FLOW_CANCELLED"}Xt.prototype=Object.create(Error.prototype);var Jt=ce("flow"),Zt=ce("flow.bound",{bound:!0}),en=Object.assign((function(e,t){if(T(t))return Y(e,t,Jt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,a=++Yt,o=Mt(r+" - runid: "+a+" - init",n).apply(t,i),u=void 0,s=new Promise((function(t,n){var i=0;function s(e){var t;u=void 0;try{t=Mt(r+" - runid: "+a+" - yield "+i++,o.next).call(o,e)}catch(s){return n(s)}l(t)}function c(e){var t;u=void 0;try{t=Mt(r+" - runid: "+a+" - yield "+i++,o.throw).call(o,e)}catch(s){return n(s)}l(t)}function l(e){if(!S(null==e?void 0:e.then))return e.done?t(e.value):(u=Promise.resolve(e.value)).then(s,c);e.then(l,n)}e=n,s(void 0)}));return s.cancel=Mt(r+" - runid: "+a+" - cancel",(function(){try{u&&tn(u);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(x,x),tn(n),e(new Xt)}catch(r){e(r)}})),s};return i.isMobXFlow=!0,i}),Jt);function tn(e){S(e.cancel)&&e.cancel()}function nn(e){return!0===(null==e?void 0:e.isMobXFlow)}function rn(e,t){return!!e&&(void 0!==t?!!zn(e)&&e[X].values_.has(t):zn(e)||!!e[X]||Z(e)||Ct(e)||Ze(e))}function an(e){return rn(e)}function on(e){switch(e.length){case 0:return vt.trackingDerivation;case 1:return Zn(e[0]);case 2:return Zn(e[0],e[1])}}function un(e,t){void 0===t&&(t=void 0),bt();try{return e.apply(t)}finally{wt()}}function sn(e){return e[X]}en.bound=$(Zt);var cn={has:function(e,t){return sn(e).has_(t)},get:function(e,t){return sn(e).get_(t)},set:function(e,t,n){var r;return!!T(t)&&(null==(r=sn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!T(t)&&(null==(n=sn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=sn(e).defineProperty_(t,n))||r},ownKeys:function(e){return sn(e).ownKeys_()},preventExtensions:function(e){f(13)}};function ln(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function fn(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),E((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function dn(e,t){var n=ut();try{for(var r=[].concat(e.interceptors_||[]),i=0,a=r.length;i<a&&((t=r[i](t))&&!t.type&&f(14),t);i++);return t}finally{st(n)}}function hn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function pn(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),E((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vn(e,t){var n=ut(),r=e.changeListeners_;if(r){for(var i=0,a=(r=r.slice()).length;i<a;i++)r[i](t);st(n)}}var mn="splice",yn="update",gn={get:function(e,t){var n=e[X];return t===X?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?j(_n,t)?_n[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[X];return"length"===t&&r.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){f(15)}},bn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new J(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return fn(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),pn(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&f("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&f(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Xn(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=g),ln(this)){var a=dn(this,{object:this.proxy_,type:mn,index:e,removedCount:t,added:n});if(!a)return g;t=a.removedCount,n=a.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var o=n.length-t;this.updateArrayLength_(i,o)}var u=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),a=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var o=0;o<n.length;o++)this.values_[e+o]=n[o];for(var u=0;u<a.length;u++)this.values_[e+n.length+u]=a[u];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=hn(this),a=i||r?{observableKind:"array",object:this.proxy_,type:yn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&vn(this,a)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=hn(this),a=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:mn,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&vn(this,a)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(ln(this)){var i=dn(this,{type:yn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):f(17,e,n.length)},e}();function wn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),k();var i=new bn(n,t,r,!1);N(i.values_,X,i);var a=new Proxy(i.values_,gn);if(i.proxy_=a,e&&e.length){var o=He(!0);i.spliceWithArray_(0,0,e),Qe(o)}return a}var _n={clear:function(){return this.splice(0)},replace:function(e){var t=this[X];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this[X];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(e);case 2:return a.spliceWithArray_(e,t)}return a.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[X].spliceWithArray_(e,t,n)},push:function(){for(var e=this[X],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[X].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[X],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return vt.trackingDerivation&&f(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){vt.trackingDerivation&&f(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[X],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function kn(e,t){"function"===typeof Array.prototype[e]&&(_n[e]=t(e))}function En(e){return function(){var t=this[X];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function xn(e){return function(t,n){var r=this,i=this[X];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Sn(e){return function(){var t=this,n=this[X];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}kn("concat",En),kn("flat",En),kn("includes",En),kn("indexOf",En),kn("join",En),kn("lastIndexOf",En),kn("slice",En),kn("toString",En),kn("toLocaleString",En),kn("every",xn),kn("filter",xn),kn("find",xn),kn("findIndex",xn),kn("flatMap",xn),kn("forEach",xn),kn("map",xn),kn("some",xn),kn("reduce",Sn),kn("reduceRight",Sn);var Tn=P("ObservableArrayAdministration",bn);function Cn(e){return C(e)&&Tn(e[X])}var In={},An="add",Dn="delete",Nn=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=ne),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[X]=In,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,S(Map)||f(18),this.keysAtom_=ee("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,We(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!vt.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Xe(this.has_(e),re,"ObservableMap.key?",!1);this.hasMap_.set(e,r),qt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(ln(this)){var r=dn(this,{type:n?yn:An,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if((this.keysAtom_,ln(this))&&!dn(this,{type:Dn,object:this,name:e}))return!1;if(this.has_(e)){var n=hn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Dn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return un((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==vt.UNCHANGED){var r=hn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:yn,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&vn(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,un((function(){var r,i=new Xe(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=hn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:An,object:this,name:e,newValue:t}:null;r&&vn(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return or({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return or({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=H(this);!(n=r()).done;){var i=n.value,a=i[0],o=i[1];e.call(t,o,a,this)}},r.merge=function(e){var t=this;return Pn(e)&&(e=new Map(e)),un((function(){I(e)?function(e){var t=Object.keys(e);if(!R)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return y.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):O(e)?(e.constructor!==Map&&f(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!==e&&void 0!==e&&f(20,e)})),this},r.clear=function(){var e=this;un((function(){ot((function(){for(var t,n=H(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return un((function(){for(var n,r=function(e){if(O(e)||Pn(e))return e;if(Array.isArray(e))return new Map(e);if(I(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return f(21,e)}(e),i=new Map,a=!1,o=H(t.data_.keys());!(n=o()).done;){var u=n.value;if(!r.has(u))if(t.delete(u))a=!0;else{var s=t.data_.get(u);i.set(u,s)}}for(var c,l=H(r.entries());!(c=l()).done;){var d=c.value,h=d[0],p=d[1],v=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var m=t.data_.get(h);i.set(h,m),v||(a=!0)}}if(!a)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var y=t.data_.keys(),g=i.keys(),b=y.next(),w=g.next();!b.done;){if(b.value!==w.value){t.keysAtom_.reportChanged();break}b=y.next(),w=g.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return pn(this,e)},r.intercept_=function(e){return fn(this,e)},U(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),Pn=P("ObservableMap",Nn);var On={},Ln=function(e,t){function n(e,t,n){void 0===t&&(t=ne),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[X]=On,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,S(Set)||f(22),this.atom_=ee(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;un((function(){ot((function(){for(var t,n=H(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=H(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if((this.atom_,ln(this))&&!dn(this,{type:An,object:this,newValue:e}))return this;if(!this.has(e)){un((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=!1,r=hn(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:An,object:this,newValue:e}:null;n,r&&vn(this,i)}return this},r.delete=function(e){var t=this;if(ln(this)&&!dn(this,{type:Dn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=hn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Dn,object:this,oldValue:e}:null;return un((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&vn(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return or({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return or({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return Rn(e)&&(e=new Set(e)),un((function(){Array.isArray(e)||L(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&f("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return pn(this,e)},r.intercept_=function(e){return fn(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},U(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),Rn=P("ObservableSet",Ln),Mn=Object.create(null),Fn="remove",jn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=be),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new J("ObservableObject.keys"),this.isPlainObject_=I(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Je)return n.set(t),!0;if(ln(this)){var r=dn(this,{type:yn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==vt.UNCHANGED){var i=hn(this),a=i?{type:yn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&vn(this,a)}return!0},t.get_=function(e){return vt.trackingDerivation&&!j(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),j(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!vt.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Xe(e in this.target_,re,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(Gn(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[Q])&&n[e])return;f(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==y;){var i=v(r,e);if(i){var a=t.make_(this,e,i,r);if(0===a)return;if(1===a)break}r=Object.getPrototypeOf(r)}qn(this,t,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);Gn(this,n,e);var i=n.extend_(this,e,t,r);return i&&qn(this,n,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{bt();var r=this.delete_(e);if(!r)return r;if(ln(this)){var i=dn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t.value});if(!i)return null;var a=i.newValue;t.value!==a&&(t=z({},t,{value:a}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else m(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{wt()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{bt();var i=this.delete_(e);if(!i)return i;if(ln(this)){var a=dn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t});if(!a)return null;t=a.newValue}var o=Un(e),u={configurable:!vt.safeDescriptors||this.isPlainObject_,enumerable:!0,get:o.get,set:o.set};if(r){if(!Reflect.defineProperty(this.target_,e,u))return!1}else m(this.target_,e,u);var s=new Xe(t,n,"ObservableObject.key",!1);this.values_.set(e,s),this.notifyPropertyAddition_(e,s.value_)}finally{wt()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{bt();var r=this.delete_(e);if(!r)return r;if(ln(this))if(!dn(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Un(e),a={configurable:!vt.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,a))return!1}else m(this.target_,e,a);this.values_.set(e,new Je(t)),this.notifyPropertyAddition_(e,void 0)}finally{wt()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!j(this.target_,e))return!0;if(ln(this)&&!dn(this,{object:this.proxy_||this.target_,name:e,type:Fn}))return null;try{var n,r;bt();var i,a=hn(this),o=this.values_.get(e),u=void 0;if(!o&&a)u=null==(i=v(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof Xe&&(u=o.value_),kt(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),a){var s={type:Fn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:e};0,a&&vn(this,s)}}finally{wt()}return!0},t.observe_=function(e,t){return pn(this,e)},t.intercept_=function(e){return fn(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=hn(this);if(i){var a=i?{type:An,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&vn(this,a)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),M(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Bn(e,t){var n;if(j(e,X))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new jn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:we(e):void 0}(t));return D(e,X,i),e}var Vn=P("ObservableObjectAdministration",jn);function Un(e){return Mn[e]||(Mn[e]={get:function(){return this[X].getObservablePropValue_(e)},set:function(t){return this[X].setObservablePropValue_(e,t)}})}function zn(e){return!!C(e)&&Vn(e[X])}function qn(e,t,n){var r;null==(r=e.target_[Q])||delete r[n]}function Gn(e,t,n){}var Kn,Wn,Hn=0,Qn=function(){};Kn=Qn,Wn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Kn.prototype,Wn):void 0!==Kn.prototype.__proto__?Kn.prototype.__proto__=Wn:Kn.prototype=Wn;var $n=function(e,t,n){function r(t,n,r,i){var a;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),a=e.call(this)||this;var o=new bn(r,n,i,!0);if(o.proxy_=K(a),N(K(a),X,o),t&&t.length){var u=He(!0);a.spliceWithArray(0,0,t),Qe(u)}return a}q(r,e);var i=r.prototype;return i.concat=function(){this[X].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Cn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return or({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},U(r,[{key:"length",get:function(){return this[X].getArrayLength_()},set:function(e){this[X].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Qn,Symbol.toStringTag,Symbol.iterator);function Yn(e){m($n.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[X].get_(e)},set:function(t){this[X].set_(e,t)}}}(e))}function Xn(e){if(e>Hn){for(var t=Hn;t<e+100;t++)Yn(t);Hn=e}}function Jn(e,t,n){return new $n(e,t,n)}function Zn(e,t){if("object"===typeof e&&null!==e){if(Cn(e))return void 0!==t&&f(23),e[X].atom_;if(Rn(e))return e[X];if(Pn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||f(25,t,tr(e)),n}if(zn(e)){if(!t)return f(26);var r=e[X].values_.get(t);return r||f(27,t,tr(e)),r}if(Z(e)||Ze(e)||Ct(e))return e}else if(S(e)&&Ct(e[X]))return e[X];f(28)}function er(e,t){return e||f(29),void 0!==t?er(Zn(e,t)):Z(e)||Ze(e)||Ct(e)||Pn(e)||Rn(e)?e:e[X]?e[X]:void f(24,e)}function tr(e,t){var n;if(void 0!==t)n=Zn(e,t);else{if(jt(e))return e.name;n=zn(e)||Pn(e)||Rn(e)?er(e):Zn(e)}return n.name_}Object.entries(_n).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&D($n.prototype,t,n)})),Xn(1e3);var nr=y.toString;function rr(e,t,n){return void 0===n&&(n=-1),ir(e,t,n)}function ir(e,t,n,r,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof t)return!1;var o=nr.call(e);if(o!==nr.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=ar(e),t=ar(t);var u="[object Array]"===o;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,c=t.constructor;if(s!==c&&!(S(s)&&s instanceof s&&S(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!ir(e[l],t[l],n-1,r,i))return!1}else{var f,d=Object.keys(e);if(l=d.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!j(t,f=d[l])||!ir(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function ar(e){return Cn(e)?e.slice():O(e)||Pn(e)||L(e)||Rn(e)?Array.from(e.entries()):e}function or(e){return e[Symbol.iterator]=ur,e}function ur(){return this}if(["Symbol","Map","Set"].forEach((function(e){"undefined"===typeof h()[e]&&f("MobX requires global '"+e+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:tr},$mobx:X}),!t.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!function(e,t,n){var r=Bn(e,n)[X];bt();try{0,null!=t||(t=function(e){return j(e,Q)||D(e,Q,z({},e[Q])),e[Q]}(e)),M(t).forEach((function(e){return r.make_(e,t[e])}))}finally{wt()}return e})throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var sr=n(164);function cr(e){e()}function lr(e){return Qt(e)}var fr="undefined"===typeof FinalizationRegistry?void 0:FinalizationRegistry;function dr(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+hr}}var hr=1e4;var pr=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var vr=fr?function(e){var t=new Map,n=1,r=new e((function(e){var n=t.get(e);n&&(n.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,i,a){var o=n++;return r.register(a,o,e),e.current=dr(i),e.current.finalizationRegistryCleanupToken=o,t.set(o,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(fr):function(){var e,t=new Set;function n(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var n=e.current;n&&r>=n.cleanAt&&(n.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&n()}return{addReactionToTrack:function(e,r,i){var a;return e.current=dr(r),a=e,t.add(a),n(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var n,r;if(t.size>0){try{for(var i=pr(t),a=i.next();!a.done;a=i.next()){var o=a.value,u=o.current;u&&(u.reaction.dispose(),o.current=null)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),mr=vr.addReactionToTrack,yr=vr.recordReactionAsCommitted,gr=(vr.resetCleanupScheduleForTests,vr.forceCleanupTimerToRunNowForTests,!1);function br(){return gr}var wr=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function _r(e){return"observer".concat(e)}var kr=function(){};function Er(){return new kr}function xr(e,n){if(void 0===n&&(n="observed"),br())return e();var r=wr(t.useState(Er),1)[0],i=wr(t.useState(),2)[1],a=function(){return i([])},o=t.useRef(null);if(!o.current)var u=new Et(_r(n),(function(){s.mounted?a():s.changedBeforeMount=!0})),s=mr(o,u,r);var c,l,f=o.current.reaction;if(t.useDebugValue(f,lr),t.useEffect((function(){return yr(o),o.current?(o.current.mounted=!0,o.current.changedBeforeMount&&(o.current.changedBeforeMount=!1,a())):(o.current={reaction:new Et(_r(n),(function(){a()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},a()),function(){o.current.reaction.dispose(),o.current=null}}),[]),f.track((function(){try{c=e()}catch(t){l=t}})),l)throw l;return c}var Sr="function"===typeof Symbol&&Symbol.for,Tr=Sr?Symbol.for("react.forward_ref"):"function"===typeof t.forwardRef&&(0,t.forwardRef)((function(e){return null})).$$typeof,Cr=Sr?Symbol.for("react.memo"):"function"===typeof t.memo&&(0,t.memo)((function(e){return null})).$$typeof;function Ir(e,n){var r;if(Cr&&e.$$typeof===Cr)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(br())return e;var i=null!==(r=null===n||void 0===n?void 0:n.forwardRef)&&void 0!==r&&r,a=e,o=e.displayName||e.name;if(Tr&&e.$$typeof===Tr&&(i=!0,"function"!==typeof(a=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u,s,c=function(e,t){return xr((function(){return a(e,t)}),o)};return""!==o&&(c.displayName=o),e.contextTypes&&(c.contextTypes=e.contextTypes),i&&(c=(0,t.forwardRef)(c)),c=(0,t.memo)(c),u=e,s=c,Object.keys(u).forEach((function(e){Ar[e]||Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(u,e))})),c}var Ar={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};!function(e){e||(e=cr),Wt({reactionScheduler:e})}(sr.unstable_batchedUpdates);var Dr=0;var Nr={};function Pr(e){return Nr[e]||(Nr[e]=function(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+Dr+")";return Dr++,t}(e)),Nr[e]}function Or(e,t){if(Lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!Lr(e[n[i]],t[n[i]]))return!1;return!0}function Lr(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function Rr(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Mr=Pr("patchMixins"),Fr=Pr("patchedDefinition");function jr(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t.locks++;try{var o;return void 0!==e&&null!==e&&(o=e.apply(this,i)),o}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Br(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];jr.call.apply(jr,[this,e,t].concat(r))}}function Vr(e,t,n){var r=function(e,t){var n=e[Mr]=e[Mr]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Fr]){var a=e[t],o=Ur(e,t,i?i.enumerable:void 0,r,a);Object.defineProperty(e,t,o)}}function Ur(e,t,n,r,i){var a,o=Br(i,r);return(a={})[Fr]=!0,a.get=function(){return o},a.set=function(i){if(this===e)o=Br(i,r);else{var a=Ur(this,t,n,r,i);Object.defineProperty(this,t,a)}},a.configurable=!0,a.enumerable=n,a}var zr=X||"$mobx",qr=Pr("isMobXReactObserver"),Gr=Pr("isUnmounted"),Kr=Pr("skipRender"),Wr=Pr("isForcingUpdate");function Hr(e){var n=e.prototype;if(e[qr]){var r=Qr(n);console.warn("The provided component class ("+r+") \n                has already been declared as an observer component.")}else e[qr]=!0;if(n.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==t.PureComponent)if(n.shouldComponentUpdate){if(n.shouldComponentUpdate!==Yr)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else n.shouldComponentUpdate=Yr;Xr(n,"props"),Xr(n,"state");var i=n.render;if("function"!==typeof i){var a=Qr(n);throw new Error("[mobx-react] class component ("+a+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return n.render=function(){return $r.call(this,i)},Vr(n,"componentWillUnmount",(function(){var e;if(!0!==br()&&(null==(e=this.render[zr])||e.dispose(),this[Gr]=!0,!this.render[zr])){var t=Qr(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function Qr(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function $r(e){var n=this;if(!0===br())return e.call(this);Rr(this,Kr,!1),Rr(this,Wr,!1);var r=Qr(this),i=e.bind(this),a=!1,o=new Et(r+".render()",(function(){if(!a&&(a=!0,!0!==n[Gr])){var e=!0;try{Rr(n,Wr,!0),n[Kr]||t.Component.prototype.forceUpdate.call(n),e=!1}finally{Rr(n,Wr,!1),e&&o.dispose()}}}));function u(){a=!1;var e=void 0,t=void 0;if(o.track((function(){try{t=We(!1,i)}catch(n){e=n}})),e)throw e;return t}return o.reactComponent=this,u[zr]=o,this.render=u,u.call(this)}function Yr(e,t){return br()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Or(this.props,e)}function Xr(e,t){var n=Pr("reactProp_"+t+"_valueHolder"),r=Pr("reactProp_"+t+"_atomHolder");function i(){return this[r]||Rr(this,r,ee("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return ct&&lt&&(e=ct(!0)),i.call(this).reportObserved(),ct&&lt&&lt(e),this[n]},set:function(e){this[Wr]||Or(this[n],e)?Rr(this,n,e):(Rr(this,n,e),Rr(this,Kr,!0),i.call(this).reportChanged(),Rr(this,Kr,!1))}})}function Jr(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(t.Component,e)||Object.prototype.isPrototypeOf.call(t.PureComponent,e)?Hr(e):Ir(e)}if(!t.Component)throw new Error("mobx-react requires React to be available");if(!Le)throw new Error("mobx-react requires mobx to be available");function Zr(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Zr(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ei(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Zr(e))&&(r&&(r+=" "),r+=t);return r}function ti(){return ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}function ni(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ri(e){return"number"===typeof e&&!isNaN(e)}function ii(e){return"boolean"===typeof e}function ai(e){return"string"===typeof e}function oi(e){return"function"===typeof e}function ui(e){return ai(e)||oi(e)?e:null}function si(e){return 0===e||e}var ci=!("undefined"===typeof window||!window.document||!window.document.createElement);function li(e){return(0,t.isValidElement)(e)||ai(e)||oi(e)||ri(e)}var fi={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},di={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function hi(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,u=void 0===o||o,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,o=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,d=e.isIn,h=a?n+"--"+o:n,p=a?r+"--"+o:r,v=(0,t.useRef)(),m=(0,t.useRef)(0);function y(e){if(e.target===f.current){var t=f.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",y),t.removeEventListener("animationcancel",y),0===m.current&&(t.className=v.current)}}function g(){var e=f.current;e.removeEventListener("animationend",g),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,t.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+h,e.addEventListener("animationend",y),e.addEventListener("animationcancel",y)}()}),[]),(0,t.useEffect)((function(){d||(s?g():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",g)}())}),[d]),t.createElement(t.Fragment,null,i)}}var pi={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},vi=["delay","staleId"];function mi(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useState)([]),a=i[0],o=i[1],u=(0,t.useRef)(null),s=(0,t.useRef)(new Map).current,c=function(e){return-1!==a.indexOf(e)},l=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:c,getToast:function(e){return s.get(e)}}).current;function f(e){var t=e.containerId;!l.props.limit||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function d(e){o((function(t){return si(e)?t.filter((function(t){return t!==e})):[]}))}function h(){var e=l.queue.shift();v(e.toastContent,e.toastProps,e.staleId)}function p(e,n){var i=n.delay,a=n.staleId,o=ni(n,vi);if(li(e)&&!function(e){return!u.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||s.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,f=o.updateId,p=o.data,m=l.props,y=function(){return d(c)},g=null==f;g&&l.count++;var b,w,_={toastId:c,updateId:f,isLoading:o.isLoading,theme:o.theme||m.theme,icon:null!=o.icon?o.icon:m.icon,isIn:!1,key:o.key||l.toastKey++,type:o.type,closeToast:y,closeButton:o.closeButton,rtl:m.rtl,position:o.position||m.position,transition:o.transition||m.transition,className:ui(o.className||m.toastClassName),bodyClassName:ui(o.bodyClassName||m.bodyClassName),style:o.style||m.toastStyle,bodyStyle:o.bodyStyle||m.bodyStyle,onClick:o.onClick||m.onClick,pauseOnHover:ii(o.pauseOnHover)?o.pauseOnHover:m.pauseOnHover,pauseOnFocusLoss:ii(o.pauseOnFocusLoss)?o.pauseOnFocusLoss:m.pauseOnFocusLoss,draggable:ii(o.draggable)?o.draggable:m.draggable,draggablePercent:o.draggablePercent||m.draggablePercent,draggableDirection:o.draggableDirection||m.draggableDirection,closeOnClick:ii(o.closeOnClick)?o.closeOnClick:m.closeOnClick,progressClassName:ui(o.progressClassName||m.progressClassName),progressStyle:o.progressStyle||m.progressStyle,autoClose:!o.isLoading&&(b=o.autoClose,w=m.autoClose,!1===b||ri(b)&&b>0?b:w),hideProgressBar:ii(o.hideProgressBar)?o.hideProgressBar:m.hideProgressBar,progress:o.progress,role:o.role||m.role,deleteToast:function(){s.delete(c);var e=l.queue.length;if(l.count=si(c)?l.count-1:l.count-l.displayedToast,l.count<0&&(l.count=0),e>0){var t=si(c)?1:l.props.limit;if(1===e||1===t)l.displayedToast++,h();else{var n=t>e?e:t;l.displayedToast=n;for(var i=0;i<n;i++)h()}}else r()}};oi(o.onOpen)&&(_.onOpen=o.onOpen),oi(o.onClose)&&(_.onClose=o.onClose),_.closeButton=m.closeButton,!1===o.closeButton||li(o.closeButton)?_.closeButton=o.closeButton:!0===o.closeButton&&(_.closeButton=!li(m.closeButton)||m.closeButton);var k=e;(0,t.isValidElement)(e)&&!ai(e.type)?k=(0,t.cloneElement)(e,{closeToast:y,toastProps:_,data:p}):oi(e)&&(k=e({closeToast:y,toastProps:_,data:p})),m.limit&&m.limit>0&&l.count>m.limit&&g?l.queue.push({toastContent:k,toastProps:_,staleId:a}):ri(i)&&i>0?setTimeout((function(){v(k,_,a)}),i):v(k,_,a)}}function v(e,t,n){var r=t.toastId;n&&s.delete(n),s.set(r,{content:e,props:t}),o((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return l.containerId=e.containerId,pi.cancelEmit(3).on(0,p).on(1,(function(e){return u.current&&d(e)})).on(5,f).emit(2,l),function(){return pi.emit(3,l)}}),[]),(0,t.useEffect)((function(){l.isToastActive=c,l.displayedToast=a.length,pi.emit(4,a.length,e.containerId)}),[a]),(0,t.useEffect)((function(){l.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:u,isToastActive:c}}function yi(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function gi(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function bi(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],a=(0,t.useState)(!1),o=a[0],u=a[1],s=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),f=e.autoClose,d=e.pauseOnHover,h=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_);var n=s.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=yi(t.nativeEvent),c.y=gi(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?b():g()}}function g(){i(!0)}function b(){i(!1)}function w(t){var n=s.current;c.canDrag&&n&&(c.didMove=!0,r&&b(),c.x=yi(t),c.y=gi(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function _(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_);var t=s.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){l.current=e})),(0,t.useEffect)((function(){return s.current&&s.current.addEventListener("d",g,{once:!0}),oi(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=l.current;oi(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",g),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var k={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return f&&d&&(k.onMouseEnter=b,k.onMouseLeave=g),v&&(k.onClick=function(e){p&&p(e),c.canCloseOnClick&&h()}),{playToast:g,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:s,eventHandlers:k}}function wi(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _i(e){var n,r,i=e.delay,a=e.isRunning,o=e.closeToast,u=e.type,s=e.hide,c=e.className,l=e.style,f=e.controlledProgress,d=e.progress,h=e.rtl,p=e.isIn,v=e.theme,m=ti({},l,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:s?0:1});f&&(m.transform="scaleX("+d+")");var y=ei("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+u,((n={})["Toastify__progress-bar--rtl"]=h,n)),g=oi(c)?c({rtl:h,type:u,defaultClassName:y}):ei(y,c),b=((r={})[f&&d>=1?"onTransitionEnd":"onAnimationEnd"]=f&&d<1?null:function(){p&&o()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:g,style:m},b))}_i.defaultProps={type:di.DEFAULT,hide:!1};var ki=["theme","type"],Ei=function(e){var n=e.theme,r=e.type,i=ni(e,ki);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var xi={info:function(e){return(0,t.createElement)(Ei,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(Ei,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(Ei,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(Ei,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},Si=function(e){var n,r,i=bi(e),a=i.isRunning,o=i.preventExitTransition,u=i.toastRef,s=i.eventHandlers,c=e.closeButton,l=e.children,f=e.autoClose,d=e.onClick,h=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,b=e.style,w=e.bodyClassName,_=e.bodyStyle,k=e.progressClassName,E=e.progressStyle,x=e.updateId,S=e.role,T=e.progress,C=e.rtl,I=e.toastId,A=e.deleteToast,D=e.isIn,N=e.isLoading,P=e.icon,O=e.theme,L=ei("Toastify__toast","Toastify__toast-theme--"+O,"Toastify__toast--"+h,((n={})["Toastify__toast--rtl"]=C,n)),R=oi(g)?g({rtl:C,position:y,type:h,defaultClassName:L}):ei(L,g),M=!!T,F=xi[h],j={theme:O,type:h},B=F&&F(j);return!1===P?B=void 0:oi(P)?B=P(j):(0,t.isValidElement)(P)?B=(0,t.cloneElement)(P,j):ai(P)?B=P:N&&(B=xi.spinner()),(0,t.createElement)(m,{isIn:D,done:A,position:y,preventExitTransition:o,nodeRef:u},(0,t.createElement)("div",Object.assign({id:I,onClick:d,className:R},s,{style:b,ref:u}),(0,t.createElement)("div",Object.assign({},D&&{role:S},{className:oi(w)?w({type:h}):ei("Toastify__toast-body",w),style:_}),B&&(0,t.createElement)("div",{className:ei("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!N,r))},B),(0,t.createElement)("div",null,l)),function(e){if(e){var n={closeToast:v,type:h,theme:O};return oi(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(c),(f||M)&&(0,t.createElement)(_i,Object.assign({},x&&!M?{key:"pb-"+x}:{},{rtl:C,theme:O,delay:f,isRunning:a,isIn:D,closeToast:v,hide:p,type:h,style:E,className:k,controlledProgress:M,progress:T}))))},Ti=hi({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),Ci=function(e){var n=mi(e),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,o=e.className,u=e.style,s=e.rtl,c=e.containerId;function l(e){var t,n=ei("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=s,t));return oi(o)?o({position:e,rtl:s,defaultClassName:n}):ei(n,ui(o))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:c},r((function(e,n){var r=n.length?ti({},u):ti({},u,{pointerEvents:"none"});return(0,t.createElement)("div",{className:l(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(Si,Object.assign({},r,{isIn:a(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?wi:r.closeButton}),n)})))})))};Ci.defaultProps={position:fi.TOP_RIGHT,transition:Ti,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:wi,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Ii,Ai,Di,Ni=new Map,Pi=[],Oi=!1;function Li(){return Math.random().toString(36).substring(2,9)}function Ri(e){return e&&(ai(e.toastId)||ri(e.toastId))?e.toastId:Li()}function Mi(e,n){return Ni.size>0?pi.emit(0,e,n):(Pi.push({content:e,options:n}),Oi&&ci&&(Oi=!1,Ai=document.createElement("div"),document.body.appendChild(Ai),(0,sr.render)((0,t.createElement)(Ci,Object.assign({},Di)),Ai))),n.toastId}function Fi(e,t){return ti({},t,{type:t&&t.type||e,toastId:Ri(t)})}function ji(e){return function(t,n){return Mi(t,Fi(e,n))}}function Bi(e,t){return Mi(e,Fi(di.DEFAULT,t))}Bi.loading=function(e,t){return Mi(e,Fi(di.DEFAULT,ti({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},Bi.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=ai(i)?Bi.loading(i,n):Bi.loading(i.render,ti({},n,i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){if(null!=t){var a=ti({type:e},u,n,{data:i}),o=ai(t)?{render:t}:t;return r?Bi.update(r,ti({},a,o)):Bi(o.render,ti({},a,o)),i}Bi.dismiss(r)},c=oi(e)?e():e;return c.then((function(e){return s("success",o,e)})).catch((function(e){return s("error",a,e)})),c},Bi.success=ji(di.SUCCESS),Bi.info=ji(di.INFO),Bi.error=ji(di.ERROR),Bi.warning=ji(di.WARNING),Bi.warn=Bi.warning,Bi.dark=function(e,t){return Mi(e,Fi(di.DEFAULT,ti({theme:"dark"},t)))},Bi.dismiss=function(e){return pi.emit(1,e)},Bi.clearWaitingQueue=function(e){return void 0===e&&(e={}),pi.emit(5,e)},Bi.isActive=function(e){var t=!1;return Ni.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Bi.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Ni.get(n||Ii);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=ti({},r,t,{toastId:t.toastId||e,updateId:Li()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Mi(o,a)}}),0)},Bi.done=function(e){Bi.update(e,{progress:1})},Bi.onChange=function(e){return oi(e)&&pi.on(4,e),function(){oi(e)&&pi.off(4,e)}},Bi.configure=function(e){void 0===e&&(e={}),Oi=!0,Di=e},Bi.POSITION=fi,Bi.TYPE=di,pi.on(2,(function(e){Ii=e.containerId||e,Ni.set(Ii,e),Pi.forEach((function(e){pi.emit(0,e.content,e.options)})),Pi=[]})).on(3,(function(e){Ni.delete(e.containerId||e),0===Ni.size&&pi.off(0).off(1).off(5),ci&&Ai&&document.body.removeChild(Ai)}));var Vi="room_room__gkcsp",Ui="room_videos__FRbDG",zi="room_video__pb6aa",qi="room_buttons__sM2an",Gi="room_input__5KCN6",Ki="room_actions__4HYD-",Wi=n(184),Hi=function(){return(0,Wi.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 100 100",children:[(0,Wi.jsx)("path",{d:"M84.9 26.4L68 37.3V34c0-4.4-3.6-8-8-8H20c-4.4 0-8 3.6-8 8v32c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-3.3l16.9 10.9c1.9 1 3.1-.7 3.1-1.7V28c0-1-1.1-2.8-3.1-1.6zM64 66c0 2.2-1.8 4-4 4H20c-2.2 0-4-1.8-4-4V34c0-2.2 1.8-4 4-4h40c2.2 0 4 1.8 4 4v32zm20 2.3L68 58V42l16-10.3v36.6z"}),(0,Wi.jsx)("path",{fill:"#00F",d:"M1224-650v1684H-560V-650h1784m8-8H-568v1700h1800V-658z"})]})},Qi=function(){return(0,Wi.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 100 100",children:[(0,Wi.jsx)("path",{d:"M52 75.9V86h14c1.1 0 2 .9 2 2s-.9 2-2 2H34c-1.1 0-2-.9-2-2s.9-2 2-2h14V75.9c-13.4-1-24-12.3-24-25.9 0-1.1.9-2 2-2s2 .9 2 2c0 12.1 9.9 22 22 22s22-9.9 22-22c0-1.1.9-2 2-2s2 .9 2 2c0 13.7-10.6 24.9-24 25.9zM65 25v25c0 8.3-6.7 15-15 15s-15-6.7-15-15V25c0-8.3 6.7-15 15-15s15 6.7 15 15zm-4 0c0-6.1-4.9-11-11-11s-11 4.9-11 11v25c0 6.1 4.9 11 11 11s11-4.9 11-11V25z"}),(0,Wi.jsx)("path",{fill:"#00F",d:"M1084-650v1684H-700V-650h1784m8-8H-708v1700h1800V-658z"})]})},$i=function(){return(0,Wi.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24",children:(0,Wi.jsx)("path",{fill:"#fff",d:"M21.707,11.293l-8-8A.99991.99991,0,0,0,12,4V7.54492A11.01525,11.01525,0,0,0,2,18.5V20a1,1,0,0,0,1.78418.62061,11.45625,11.45625,0,0,1,7.88672-4.04932c.0498-.00635.1748-.01611.3291-.02588V20a.99991.99991,0,0,0,1.707.707l8-8A.99962.99962,0,0,0,21.707,11.293ZM14,17.58594V15.5a.99974.99974,0,0,0-1-1c-.25488,0-1.2959.04932-1.56152.085A14.00507,14.00507,0,0,0,4.05176,17.5332,9.01266,9.01266,0,0,1,13,9.5a.99974.99974,0,0,0,1-1V6.41406L19.58594,12Z"})})};function Yi(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t,n){return t&&Ji(e.prototype,t),n&&Ji(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ea(e,t,n,r,i){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e,t){return ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ia(e,t)}function aa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ia(e,t)}function oa(e){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oa(e)}function ua(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function sa(e){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(e)}function ca(e,t){if(t&&("object"===sa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function la(e){var t=ua();return function(){var n,r=oa(e);if(t){var i=oa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ca(this,n)}}function fa(e,t,n){return fa=ua()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ia(i,n.prototype),i},fa.apply(null,arguments)}function da(e){var t="function"===typeof Map?new Map:void 0;return da=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return fa(e,arguments,oa(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ia(n,e)},da(e)}var ha=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ha(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},va=function(e){return function(e){var t=ha(e);return pa.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function ma(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ma(e[n],t[n]));return e}var ya=function(){function e(){var t=this;Xi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Zi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ga(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[va(JSON.stringify({alg:"none",type:"JWT"})),va(JSON.stringify(a)),""].join(".")}function ba(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function wa(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _a(){return"object"===typeof indexedDB}var ka=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ra(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ra(a),Ea.prototype.create),a}return Zi(n)}(da(Error)),Ea=function(){function e(t,n,r){Xi(this,e),this.service=t,this.serviceName=n,this.errors=r}return Zi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?xa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ka(n,a,t);return o}}]),e}();function xa(e,t){return e.replace(Sa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Sa=/\{\$([^}]+)}/g;function Ta(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ca(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ia(u)&&Ia(s)){if(!Ca(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ia(e){return null!==e&&"object"===typeof e}function Aa(e,t){var n=new Da(e,t);return n.subscribe.bind(n)}var Da=function(){function e(t,n){var r=this;Xi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Zi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=na(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Na),void 0===r.error&&(r.error=Na),void 0===r.complete&&(r.complete=Na);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Na(){}function Pa(e){return e&&e._delegate?e._delegate:e}function Oa(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var La=function(){function e(t){Xi(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return Zi(e,[{key:"transaction",value:function(e,t){return new Ra(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ma(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Ra=function(){function e(t){var n=this;Xi(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return Zi(e,[{key:"objectStore",value:function(e){return new Ma(this._transaction.objectStore(e))}}]),e}(),Ma=function(){function e(t){Xi(this,e),this._store=t}return Zi(e,[{key:"index",value:function(e){return new Fa(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Fa(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Oa(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Oa(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Oa(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Oa(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Fa=function(){function e(t){Xi(this,e),this._index=t}return Zi(e,[{key:"get",value:function(e){return Oa(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function ja(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ba=function(){function e(t,n,r){Xi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Zi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Va="[DEFAULT]",Ua=function(){function e(t,n){Xi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Zi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ya;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch(c){}var t,n=na(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ja(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ja(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=na(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(vr){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Va?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(vr){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va;return this.component?this.component.multipleInstances?e:Va:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var za,qa,Ga=function(){function e(t){Xi(this,e),this.name=t,this.providers=new Map}return Zi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ua(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ka=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qa||(qa={}));var Wa,Ha,Qa={debug:qa.DEBUG,verbose:qa.VERBOSE,info:qa.INFO,warn:qa.WARN,error:qa.ERROR,silent:qa.SILENT},$a=qa.INFO,Ya=(ta(za={},qa.DEBUG,"log"),ta(za,qa.VERBOSE,"log"),ta(za,qa.INFO,"info"),ta(za,qa.WARN,"warn"),ta(za,qa.ERROR,"error"),za),Xa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ya[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ja=function(){function e(t){Xi(this,e),this.name=t,this._logLevel=$a,this._logHandler=Xa,this._userLogHandler=null,Ka.push(this)}return Zi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qa))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qa.DEBUG].concat(t)),this._logHandler.apply(this,[this,qa.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qa.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qa.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qa.INFO].concat(t)),this._logHandler.apply(this,[this,qa.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qa.WARN].concat(t)),this._logHandler.apply(this,[this,qa.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qa.ERROR].concat(t)),this._logHandler.apply(this,[this,qa.ERROR].concat(t))}}]),e}();var Za=function(){function e(t){Xi(this,e),this.container=t}return Zi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var eo="@firebase/app",to="0.7.20",no=new Ja("@firebase/app"),ro="[DEFAULT]",io=(ta(Wa={},eo,"fire-core"),ta(Wa,"@firebase/app-compat","fire-core-compat"),ta(Wa,"@firebase/analytics","fire-analytics"),ta(Wa,"@firebase/analytics-compat","fire-analytics-compat"),ta(Wa,"@firebase/app-check","fire-app-check"),ta(Wa,"@firebase/app-check-compat","fire-app-check-compat"),ta(Wa,"@firebase/auth","fire-auth"),ta(Wa,"@firebase/auth-compat","fire-auth-compat"),ta(Wa,"@firebase/database","fire-rtdb"),ta(Wa,"@firebase/database-compat","fire-rtdb-compat"),ta(Wa,"@firebase/functions","fire-fn"),ta(Wa,"@firebase/functions-compat","fire-fn-compat"),ta(Wa,"@firebase/installations","fire-iid"),ta(Wa,"@firebase/installations-compat","fire-iid-compat"),ta(Wa,"@firebase/messaging","fire-fcm"),ta(Wa,"@firebase/messaging-compat","fire-fcm-compat"),ta(Wa,"@firebase/performance","fire-perf"),ta(Wa,"@firebase/performance-compat","fire-perf-compat"),ta(Wa,"@firebase/remote-config","fire-rc"),ta(Wa,"@firebase/remote-config-compat","fire-rc-compat"),ta(Wa,"@firebase/storage","fire-gcs"),ta(Wa,"@firebase/storage-compat","fire-gcs-compat"),ta(Wa,"@firebase/firestore","fire-fst"),ta(Wa,"@firebase/firestore-compat","fire-fst-compat"),ta(Wa,"fire-js","fire-js"),ta(Wa,"firebase","fire-js-all"),Wa),ao=new Map,oo=new Map;function uo(e,t){try{e.container.addComponent(t)}catch(n){no.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function so(e,t){e.container.addOrOverwriteComponent(t)}function co(e){var t=e.name;if(oo.has(t))return no.debug("There were multiple attempts to register component ".concat(t,".")),!1;oo.set(t,e);var n,r=na(ao.values());try{for(r.s();!(n=r.n()).done;){uo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function lo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ro;lo(e,t).clearInstance(n)}function ho(){oo.clear()}var po=(ta(Ha={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ta(Ha,"bad-app-name","Illegal App name: '{$appName}"),ta(Ha,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ta(Ha,"app-deleted","Firebase App named '{$appName}' already deleted"),ta(Ha,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ta(Ha,"invalid-log-argument","First argument to `onLog` must be null or a function."),ta(Ha,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ta(Ha,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ta(Ha,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ta(Ha,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ha),vo=new Ea("app","Firebase",po),mo=function(){function e(t,n,r){var i=this;Xi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",(function(){return i}),"PUBLIC"))}return Zi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}]),e}(),yo="9.6.10";function go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ro,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw vo.create("bad-app-name",{appName:String(i)});var a=ao.get(i);if(a){if(Ca(e,a.options)&&Ca(r,a.config))return a;throw vo.create("duplicate-app",{appName:i})}var o,u=new Ga(i),s=na(oo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new mo(e,r,u);return ao.set(i,l),l}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ro,t=ao.get(e);if(!t)throw vo.create("no-app",{appName:e});return t}function wo(){return Array.from(ao.values())}function _o(e){return ko.apply(this,arguments)}function ko(){return(ko=a(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ao.has(n)){e.next=6;break}return ao.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eo(e,t,n){var r,i=null!==(r=io[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void no.warn(u.join(" "))}co(new Ba("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xo(e,t){if(null!==e&&"function"!==typeof e)throw vo.create("invalid-log-argument");!function(e,t){var n,r=na(Ka);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Qa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:qa[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function So(e){var t;t=e,Ka.forEach((function(e){e.setLogLevel(t)}))}var To="firebase-heartbeat-store",Co=null;function Io(){var e,t,n;return Co||(Co=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(To)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new La(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new La(a.result),e.oldVersion,e.newVersion,new Ra(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw vo.create("storage-open",{originalErrorMessage:e.message})}))),Co}function Ao(e){return Do.apply(this,arguments)}function Do(){return Do=a(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Io();case 3:return n=e.sent,e.abrupt("return",n.transaction(To).objectStore(To).get(Oo(t)));case 7:throw e.prev=7,e.t0=e.catch(0),vo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Do.apply(this,arguments)}function No(e,t){return Po.apply(this,arguments)}function Po(){return Po=a(c.mark((function e(t,n){var r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Io();case 3:return r=e.sent,i=r.transaction(To,"readwrite"),a=i.objectStore(To),e.next=8,a.put(n,Oo(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),vo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Po.apply(this,arguments)}function Oo(e){return"".concat(e.name,"!").concat(e.options.appId)}var Lo=function(){function e(t){var n=this;Xi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Zi(e,[{key:"triggerHeartbeat",value:function(){var e=a(c.mark((function e(){var t,n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ro(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=a(c.mark((function e(){var t,n,r,i,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ro(),n=Mo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=va(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ro(){return(new Date).toISOString().substring(0,10)}function Mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=na(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Vo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Vo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Fo,jo,Bo=function(){function e(t){Xi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Zi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=a(c.mark((function e(){return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_a()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=a(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ao(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=a(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",No(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=a(c.mark((function e(t){var n,r;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",No(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ja(r.heartbeats),ja(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Vo(e){return va(JSON.stringify({version:2,heartbeats:e})).length}Fo="",co(new Ba("platform-logger",(function(e){return new Za(e)}),"PRIVATE")),co(new Ba("heartbeat",(function(e){return new Lo(e)}),"PRIVATE")),Eo(eo,to,Fo),Eo(eo,to,"esm2017"),Eo("fire-js","");var Uo=function(){function e(t,n){var r=this;Xi(this,e),this._delegate=t,this.firebase=n,uo(t,new Ba("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Zi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),_o(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){uo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){so(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),zo=(ta(jo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ta(jo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),jo),qo=new Ea("app-compat","Firebase",zo);var Go=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=go(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ta(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Eo,setLogLevel:So,onLog:xo,apps:null,SDK_VERSION:yo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(co(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw qo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ma(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ta(n,e=e||ro))throw qo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Uo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ma(n,e)},createSubscribe:Aa,ErrorFactory:Ea,deepExtend:ma}),n}(),Ko=new Ja("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ko.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wo=self.firebase.SDK_VERSION;Wo&&Wo.indexOf("LITE")>=0&&Ko.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ho=Go;!function(e){Eo("@firebase/app-compat","0.1.21",e)}();function Qo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oa(e)););return e}function $o(){return $o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},$o.apply(this,arguments)}Ho.registerVersion("firebase","9.6.10","app-compat");var Yo,Xo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jo={},Zo=Zo||{},eu=Xo||self;function tu(){}function nu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ru(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var iu="closure_uid_"+(1e9*Math.random()>>>0),au=0;function ou(e,t,n){return e.call.apply(e.bind,arguments)}function uu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function su(e,t,n){return(su=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ou:uu).apply(null,arguments)}function cu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lu(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fu(){this.s=this.s,this.o=this.o}var du={};fu.prototype.s=!1,fu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,iu)&&e[iu]||(e[iu]=++au)}(this);delete du[e]}},fu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hu=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pu=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function vu(e){return Array.prototype.concat.apply([],arguments)}function mu(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yu(e){return/^[\s\xa0]*$/.test(e)}var gu,bu=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function wu(e,t){return-1!=e.indexOf(t)}function _u(e,t){return e<t?-1:e>t?1:0}e:{var ku=eu.navigator;if(ku){var Eu=ku.userAgent;if(Eu){gu=Eu;break e}}gu=""}function xu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Su(e){var t={};for(var n in e)t[n]=e[n];return t}var Tu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Tu.length;a++)n=Tu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Iu(e){return Iu[" "](e),e}Iu[" "]=tu;var Au,Du=wu(gu,"Opera"),Nu=wu(gu,"Trident")||wu(gu,"MSIE"),Pu=wu(gu,"Edge"),Ou=Pu||Nu,Lu=wu(gu,"Gecko")&&!(wu(gu.toLowerCase(),"webkit")&&!wu(gu,"Edge"))&&!(wu(gu,"Trident")||wu(gu,"MSIE"))&&!wu(gu,"Edge"),Ru=wu(gu.toLowerCase(),"webkit")&&!wu(gu,"Edge");function Mu(){var e=eu.document;return e?e.documentMode:void 0}e:{var Fu="",ju=function(){var e=gu;return Lu?/rv:([^\);]+)(\)|;)/.exec(e):Pu?/Edge\/([\d\.]+)/.exec(e):Nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ru?/WebKit\/(\S+)/.exec(e):Du?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ju&&(Fu=ju?ju[1]:""),Nu){var Bu=Mu();if(null!=Bu&&Bu>parseFloat(Fu)){Au=String(Bu);break e}}Au=Fu}var Vu,Uu={};function zu(){return function(e){var t=Uu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=bu(String(Au)).split("."),n=bu("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=_u(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||_u(0==a[2].length,0==o[2].length)||_u(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(eu.document&&Nu){var qu=Mu();Vu=qu||(parseInt(Au,10)||void 0)}else Vu=void 0;var Gu=Vu,Ku=function(){if(!eu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{eu.addEventListener("test",tu,t),eu.removeEventListener("test",tu,t)}catch(n){}return e}();function Wu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Hu(e,t){if(Wu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lu){e:{try{Iu(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hu.Z.h.call(this)}}Wu.prototype.h=function(){this.defaultPrevented=!0},lu(Hu,Wu);var Qu={2:"touch",3:"pen",4:"mouse"};Hu.prototype.h=function(){Hu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $u="closure_listenable_"+(1e6*Math.random()|0),Yu=0;function Xu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Yu,this.ca=this.fa=!1}function Ju(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zu(e){this.src=e,this.g={},this.h=0}function es(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hu(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ju(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ts(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ts(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Xu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ns="closure_lm_"+(1e6*Math.random()|0),rs={};function is(e,t,n,r,i){if(r&&r.once)return os(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)is(e,t[a],n,r,i);return null}return n=hs(n),e&&e[$u]?e.N(t,n,ru(r)?!!r.capture:!!r,i):as(e,t,n,!1,r,i)}function as(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ru(i)?!!i.capture:!!i,u=fs(e);if(u||(e[ns]=u=new Zu(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ls;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ku||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function os(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)os(e,t[a],n,r,i);return null}return n=hs(n),e&&e[$u]?e.O(t,n,ru(r)?!!r.capture:!!r,i):as(e,t,n,!0,r,i)}function us(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)us(e,t[a],n,r,i);else r=ru(r)?!!r.capture:!!r,n=hs(n),e&&e[$u]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ts(a=e.g[t],n,r,i))&&(Ju(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ts(t,n,r,i)),(n=-1<e?t[e]:null)&&ss(n))}function ss(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[$u])es(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fs(t))?(es(n,e),0==n.h&&(n.src=null,t[ns]=null)):Ju(e)}}}function cs(e){return e in rs?rs[e]:rs[e]="on"+e}function ls(e,t){if(e.ca)e=!0;else{t=new Hu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ss(e),e=n.call(r,t)}return e}function fs(e){return(e=e[ns])instanceof Zu?e:null}var ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function hs(e){return"function"===typeof e?e:(e[ds]||(e[ds]=function(t){return e.handleEvent(t)}),e[ds])}function ps(){fu.call(this),this.i=new Zu(this),this.P=this,this.I=null}function vs(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wu(t,e);else if(t instanceof Wu)t.target=t.target||e;else{var i=t;Cu(t=new Wu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ms(o,r,!0,t)&&i}if(i=ms(o=t.g=e,r,!0,t)&&i,i=ms(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ms(o=t.g=n[a],r,!1,t)&&i}function ms(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&es(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}lu(ps,fu),ps.prototype[$u]=!0,ps.prototype.removeEventListener=function(e,t,n,r){us(this,e,t,n,r)},ps.prototype.M=function(){if(ps.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ju(n[r]);delete t.g[e],t.h--}}this.I=null},ps.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ps.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ys=eu.JSON.stringify;function gs(){var e=Ts,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bs,ws=function(){function e(){Xi(this,e),this.h=this.g=null}return Zi(e,[{key:"add",value:function(e,t){var n=_s.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_s=new(function(){function e(t,n){Xi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Zi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ks}),(function(e){return e.reset()})),ks=function(){function e(){Xi(this,e),this.next=this.g=this.h=null}return Zi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Es(e){eu.setTimeout((function(){throw e}),0)}function xs(e,t){bs||function(){var e=eu.Promise.resolve(void 0);bs=function(){e.then(Cs)}}(),Ss||(bs(),Ss=!0),Ts.add(e,t)}var Ss=!1,Ts=new ws;function Cs(){for(var e;e=gs();){try{e.h.call(e.g)}catch(n){Es(n)}var t=_s;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ss=!1}function Is(e,t){ps.call(this),this.h=e||1,this.g=t||eu,this.j=su(this.kb,this),this.l=Date.now()}function As(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ds(e,t,n){if("function"===typeof e)n&&(e=su(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=su(e.handleEvent,e)}return 2147483647<Number(t)?-1:eu.setTimeout(e,t||0)}function Ns(e){e.g=Ds((function(){e.g=null,e.i&&(e.i=!1,Ns(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lu(Is,ps),(Yo=Is.prototype).da=!1,Yo.S=null,Yo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vs(this,"tick"),this.da&&(As(this),this.start()))}},Yo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yo.M=function(){Is.Z.M.call(this),As(this),delete this.g};var Ps=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Zi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ns(this)}},{key:"M",value:function(){$o(oa(n.prototype),"M",this).call(this),this.g&&(eu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fu);function Os(e){fu.call(this),this.h=e,this.g={}}lu(Os,fu);var Ls=[];function Rs(e,t,n,r){Array.isArray(n)||(n&&(Ls[0]=n.toString()),n=Ls);for(var i=0;i<n.length;i++){var a=is(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ms(e){xu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ss(e)}),e),e.g={}}function Fs(){this.g=!0}function js(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ys(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Os.prototype.M=function(){Os.Z.M.call(this),Ms(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fs.prototype.Aa=function(){this.g=!1},Fs.prototype.info=function(){};var Bs={},Vs=null;function Us(){return Vs=Vs||new ps}function zs(e){Wu.call(this,Bs.Ma,e)}function qs(e){var t=Us();vs(t,new zs(t,e))}function Gs(e,t){Wu.call(this,Bs.STAT_EVENT,e),this.stat=t}function Ks(e){var t=Us();vs(t,new Gs(t,e))}function Ws(e,t){Wu.call(this,Bs.Na,e),this.size=t}function Hs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return eu.setTimeout((function(){e()}),t)}Bs.Ma="serverreachability",lu(zs,Wu),Bs.STAT_EVENT="statevent",lu(Gs,Wu),Bs.Na="timingevent",lu(Ws,Wu);var Qs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$s={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ys(){}function Xs(e){return e.h||(e.h=e.i())}function Js(){}Ys.prototype.h=null;var Zs,ec={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tc(){Wu.call(this,"d")}function nc(){Wu.call(this,"c")}function rc(){}function ic(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Os(this),this.P=oc,e=Ou?125:void 0,this.W=new Is(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ac}function ac(){this.i=null,this.g="",this.h=!1}lu(tc,Wu),lu(nc,Wu),lu(rc,Ys),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},Zs=new rc;var oc=45e3,uc={},sc={};function cc(e,t,n){e.K=1,e.v=Pc(Tc(t)),e.s=n,e.U=!0,lc(e,null)}function lc(e,t){e.F=Date.now(),pc(e),e.A=Tc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Kc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new ac,e.g=Hl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ps(su(e.Ia,e,e.g),e.O)),Rs(e.V,e.g,"readystatechange",e.gb),t=e.H?Su(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qs(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function fc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function dc(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=hc(e,n))==sc){4==t&&(e.o=4,Ks(14),i=!1),js(e.j,e.m,null,"[Incomplete Response]");break}if(r==uc){e.o=4,Ks(15),js(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}js(e.j,e.m,r,null),bc(e,r)}fc(e)&&r!=sc&&r!=uc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ks(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bl(t),t.L=!0,Ks(11))):(js(e.j,e.m,n,"[Invalid Chunked Response]"),gc(e),yc(e))}function hc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sc:(n=Number(t.substring(n,r)),isNaN(n)?uc:(r+=1)+n>t.length?sc:(t=t.substr(r,n),e.C=r+n,t))}function pc(e){e.Y=Date.now()+e.P,vc(e,e.P)}function vc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Hs(su(e.eb,e),t)}function mc(e){e.B&&(eu.clearTimeout(e.B),e.B=null)}function yc(e){0==e.l.G||e.I||zl(e.l,e)}function gc(e){mc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,As(e.W),Ms(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function bc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Zc(n.i,e)))if(n.I=e.N,!e.J&&Zc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ul(n),Dl(n)}jl(n),Ks(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hs(su(n.ab,n),6e3));if(1>=Jc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Gl(n,11)}else if((e.J||n.g==e)&&Ul(n),!yu(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(wu(l,"spdy")||wu(l,"quic")||wu(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(el(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Nc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Wl(r,r.H?r.la:null,r.W),h.J){tl(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(mc(p),pc(p)),r.g=h}else Fl(r);0<n.l.length&&Ol(n)}else"stop"!=a[0]&&"close"!=a[0]||Gl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gl(n,7):Al(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}qs(4)}catch(a){}}function wc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nu(e)||"string"===typeof e)pu(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(nu(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(nu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _c(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _c)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function kc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ec(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ec(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ec(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Yo=ic.prototype).setTimeout=function(e){this.P=e},Yo.gb=function(e){e=e.target;var t=this.L;t&&3==xl(e)?t.l():this.Ia(e)},Yo.Ia=function(e){try{if(e==this.g)e:{var t=xl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ou||this.g&&(this.h.h||this.g.ga()||Sl(this.g)))){this.I||4!=t||7==n||qs(8==n||0>=r?3:2),mc(this);var i=this.g.ba();this.N=i;t:if(fc(this)){var a=Sl(this.g);e="";var o=a.length,u=4==xl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gc(this),yc(this);var s="";break t}this.h.i=new eu.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yu(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ks(12),gc(this),yc(this);break e}js(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bc(this,i)}this.U?(dc(this,t,s),Ou&&this.i&&3==t&&(Rs(this.V,this.W,"tick",this.fb),this.W.start())):(js(this.j,this.m,s,null),bc(this,s)),4==t&&gc(this),this.i&&!this.I&&(4==t?zl(this.l,this):(this.i=!1,pc(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ks(12)):(this.o=0,Ks(13)),gc(this),yc(this)}}}catch(t){}},Yo.fb=function(){if(this.g){var e=xl(this.g),t=this.g.ga();this.C<t.length&&(mc(this),dc(this,e,t),this.i&&4!=e&&pc(this))}},Yo.cancel=function(){this.I=!0,gc(this)},Yo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qs(3),Ks(17)),gc(this),this.o=2,yc(this)):vc(this,this.Y-e)},(Yo=_c.prototype).R=function(){kc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Yo.T=function(){return kc(this),this.g.concat()},Yo.get=function(e,t){return Ec(this.h,e)?this.h[e]:t},Yo.set=function(e,t){Ec(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Yo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var xc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Sc){this.g=void 0!==t?t:e.g,Cc(this,e.j),this.s=e.s,Ic(this,e.i),Ac(this,e.m),this.l=e.l,t=e.h;var n=new Uc;n.i=t.i,t.g&&(n.g=new _c(t.g),n.h=t.h),Dc(this,n),this.o=e.o}else e&&(n=String(e).match(xc))?(this.g=!!t,Cc(this,n[1]||"",!0),this.s=Oc(n[2]||""),Ic(this,n[3]||"",!0),Ac(this,n[4]),this.l=Oc(n[5]||"",!0),Dc(this,n[6]||"",!0),this.o=Oc(n[7]||"")):(this.g=!!t,this.h=new Uc(null,this.g))}function Tc(e){return new Sc(e)}function Cc(e,t,n){e.j=n?Oc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ic(e,t,n){e.i=n?Oc(t,!0):t}function Ac(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dc(e,t,n){t instanceof Uc?(e.h=t,function(e,t){t&&!e.j&&(zc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qc(this,t),Kc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Lc(t,Bc)),e.h=new Uc(t,e.g))}function Nc(e,t,n){e.h.set(t,n)}function Pc(e){return Nc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lc(t,Mc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lc(t,Mc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lc(n,"/"==n.charAt(0)?jc:Fc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lc(n,Vc)),e.join("")};var Mc=/[#\/\?@]/g,Fc=/[#\?:]/g,jc=/[#\?]/g,Bc=/[#\?@]/g,Vc=/#/g;function Uc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zc(e){e.g||(e.g=new _c,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qc(e,t){zc(e),t=Wc(e,t),Ec(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ec((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&kc(e)))}function Gc(e,t){return zc(e),t=Wc(e,t),Ec(e.g.h,t)}function Kc(e,t,n){qc(e,t),0<n.length&&(e.i=null,e.g.set(Wc(e,t),mu(n)),e.h+=n.length)}function Wc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Yo=Uc.prototype).add=function(e,t){zc(this),this.i=null,e=Wc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Yo.forEach=function(e,t){zc(this),this.g.forEach((function(n,r){pu(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Yo.T=function(){zc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Yo.R=function(e){zc(this);var t=[];if("string"===typeof e)Gc(this,e)&&(t=vu(t,this.g.get(Wc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=vu(t,e[n])}return t},Yo.set=function(e,t){return zc(this),this.i=null,Gc(this,e=Wc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Yo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Yo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Hc=Zi((function e(t,n){Xi(this,e),this.h=t,this.g=n}));function Qc(e){this.l=e||Yc,eu.PerformanceNavigationTiming?e=0<(e=eu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(eu.g&&eu.g.Ea&&eu.g.Ea()&&eu.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $c,Yc=10;function Xc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jc(e){return e.h?1:e.g?e.g.size:0}function Zc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function el(e,t){e.g?e.g.add(t):e.h=t}function tl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=na(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return mu(e.i)}function rl(){}function il(){this.g=new rl}function al(e,t,n){var r=n||"";try{wc(e,(function(e,n){var i=e;ru(e)&&(i=ys(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ol(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ul(e){this.l=e.$b||null,this.j=e.ib||!1}function sl(e,t){ps.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=cl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qc.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=na(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},rl.prototype.stringify=function(e){return eu.JSON.stringify(e,void 0)},rl.prototype.parse=function(e){return eu.JSON.parse(e,void 0)},lu(ul,Ys),ul.prototype.g=function(){return new sl(this.l,this.j)},ul.prototype.i=($c={},function(){return $c}),lu(sl,ps);var cl=0;function ll(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function fl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,dl(e)}function dl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Yo=sl.prototype).open=function(e,t){if(this.readyState!=cl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,dl(this)},Yo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||eu).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Yo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fl(this)),this.readyState=cl},Yo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof eu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ll(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Yo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?fl(this):dl(this),3==this.readyState&&ll(this)}},Yo.Ua=function(e){this.g&&(this.response=this.responseText=e,fl(this))},Yo.Ta=function(e){this.g&&(this.response=e,fl(this))},Yo.ha=function(){this.g&&fl(this)},Yo.setRequestHeader=function(e,t){this.v.append(e,t)},Yo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Yo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hl=eu.JSON.parse;function pl(e){ps.call(this),this.headers=new _c,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vl,this.K=this.L=!1}lu(pl,ps);var vl="",ml=/^https?$/i,yl=["POST","PUT"];function gl(e){return"content-type"==e.toLowerCase()}function bl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wl(e),kl(e)}function wl(e){e.D||(e.D=!0,vs(e,"complete"),vs(e,"error"))}function _l(e){if(e.h&&"undefined"!=typeof Zo&&(!e.C[1]||4!=xl(e)||2!=e.ba()))if(e.v&&4==xl(e))Ds(e.Fa,0,e);else if(vs(e,"readystatechange"),4==xl(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(xc)[1]||null;if(!a&&eu.self&&eu.self.location){var o=eu.self.location.protocol;a=o.substr(0,o.length-1)}i=!ml.test(a?a.toLowerCase():"")}t=i}if(t)vs(e,"complete"),vs(e,"success");else{e.m=6;try{var u=2<xl(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",wl(e)}}finally{kl(e)}}}function kl(e,t){if(e.g){El(e);var n=e.g,r=e.C[0]?tu:null;e.g=null,e.C=null,t||vs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function El(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(eu.clearTimeout(e.A),e.A=null)}function xl(e){return e.g?e.g.readyState:0}function Sl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Tl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return xu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Nc(e,t,n))}function Cl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Il(e){this.za=0,this.l=[],this.h=new Fs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Cl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Cl("baseRetryDelayMs",5e3,e),this.$a=Cl("retryDelaySeedMs",1e4,e),this.Ya=Cl("forwardChannelMaxRetries",2,e),this.ra=Cl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qc(e&&e.concurrentRequestLimit),this.Ca=new il,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Al(e){if(Nl(e),3==e.G){var t=e.V++,n=Tc(e.F);Nc(n,"SID",e.J),Nc(n,"RID",t),Nc(n,"TYPE","terminate"),Rl(e,n),(t=new ic(e,e.h,t,void 0)).K=2,t.v=Pc(Tc(n)),n=!1,eu.navigator&&eu.navigator.sendBeacon&&(n=eu.navigator.sendBeacon(t.v.toString(),"")),!n&&eu.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pc(t)}Kl(e)}function Dl(e){e.g&&(Bl(e),e.g.cancel(),e.g=null)}function Nl(e){Dl(e),e.u&&(eu.clearTimeout(e.u),e.u=null),Ul(e),e.i.cancel(),e.m&&("number"===typeof e.m&&eu.clearTimeout(e.m),e.m=null)}function Pl(e,t){e.l.push(new Hc(e.Za++,t)),3==e.G&&Ol(e)}function Ol(e){Xc(e.i)||e.m||(e.m=!0,xs(e.Ha,e),e.C=0)}function Ll(e,t){var n;n=t?t.m:e.V++;var r=Tc(e.F);Nc(r,"SID",e.J),Nc(r,"RID",n),Nc(r,"AID",e.U),Rl(e,r),e.o&&e.s&&Tl(r,e.o,e.s),n=new ic(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ml(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),el(e.i,n),cc(n,r,t)}function Rl(e,t){e.j&&wc({},(function(e,n){Nc(t,n,e)}))}function Ml(e,t,n){n=Math.min(e.l.length,n);var r=e.j?su(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{al(l,o,"req"+c+"_")}catch(_f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Fl(e){e.g||e.u||(e.Y=1,xs(e.Ga,e),e.A=0)}function jl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Hs(su(e.Ga,e),ql(e,e.A)),e.A++,!0)}function Bl(e){null!=e.B&&(eu.clearTimeout(e.B),e.B=null)}function Vl(e){e.g=new ic(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Tc(e.oa);Nc(t,"RID","rpc"),Nc(t,"SID",e.J),Nc(t,"CI",e.N?"0":"1"),Nc(t,"AID",e.U),Rl(e,t),Nc(t,"TYPE","xmlhttp"),e.o&&e.s&&Tl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Pc(Tc(t)),n.s=null,n.U=!0,lc(n,e)}function Ul(e){null!=e.v&&(eu.clearTimeout(e.v),e.v=null)}function zl(e,t){var n=null;if(e.g==t){Ul(e),Bl(e),e.g=null;var r=2}else{if(!Zc(e.i,t))return;n=t.D,tl(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;vs(r=Us(),new Ws(r,n,t,i)),Ol(e)}else Fl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Jc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Hs(su(e.Ha,e,t),ql(e,e.C)),e.C++,!0))}(e,t)||2==r&&jl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gl(e,5);break;case 4:Gl(e,10);break;case 3:Gl(e,6);break;default:Gl(e,2)}}function ql(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=su(e.jb,e);n||(n=new Sc("//www.google.com/images/cleardot.gif"),eu.location&&"http"==eu.location.protocol||Cc(n,"https"),Pc(n)),function(e,t){var n=new Fs;if(eu.Image){var r=new Image;r.onload=cu(ol,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cu(ol,n,r,"TestLoadImage: error",!1,t),r.onabort=cu(ol,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cu(ol,n,r,"TestLoadImage: timeout",!1,t),eu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ks(2);e.G=0,e.j&&e.j.va(t),Kl(e),Nl(e)}function Kl(e){e.G=0,e.I=-1,e.j&&(0==nl(e.i).length&&0==e.l.length||(e.i.i.length=0,mu(e.l),e.l.length=0),e.j.ua())}function Wl(e,t,n){var r=function(e){return e instanceof Sc?Tc(e):new Sc(e,void 0)}(n);if(""!=r.i)t&&Ic(r,t+"."+r.i),Ac(r,r.m);else{var i=eu.location;r=function(e,t,n,r){var i=new Sc(null,void 0);return e&&Cc(i,e),t&&Ic(i,t),n&&Ac(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&xu(e.aa,(function(e,t){Nc(r,t,e)})),t=e.D,n=e.sa,t&&n&&Nc(r,t,n),Nc(r,"VER",e.ma),Rl(e,r),r}function Hl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new pl(new ul({ib:!0})):new pl(e.qa)).L=e.H,t}function Ql(){}function $l(){if(Nu&&!(10<=Number(Gu)))throw Error("Environmental error: no available transport.")}function Yl(e,t){ps.call(this),this.g=new Il(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!yu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yu(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zl(this)}function Xl(e){tc.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jl(){nc.call(this),this.status=1}function Zl(e){this.g=e}(Yo=pl.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zs.g(),this.C=this.u?Xs(this.u):Xs(Zs),this.g.onreadystatechange=su(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void bl(this,a)}e=n||"";var i=new _c(this.headers);r&&wc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=gl,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=eu.FormData&&e instanceof eu.FormData,!(0<=hu(yl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{El(this),0<this.B&&((this.K=function(e){return Nu&&zu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=su(this.pa,this)):this.A=Ds(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){bl(this,a)}},Yo.pa=function(){"undefined"!=typeof Zo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vs(this,"timeout"),this.abort(8))},Yo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vs(this,"complete"),vs(this,"abort"),kl(this))},Yo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kl(this,!0)),pl.Z.M.call(this)},Yo.Fa=function(){this.s||(this.F||this.v||this.l?_l(this):this.cb())},Yo.cb=function(){_l(this)},Yo.ba=function(){try{return 2<xl(this)?this.g.status:-1}catch($c){return-1}},Yo.ga=function(){try{return this.g?this.g.responseText:""}catch($c){return""}},Yo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hl(t)}},Yo.Da=function(){return this.m},Yo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Yo=Il.prototype).ma=8,Yo.G=1,Yo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Yo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ic(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Cu(n=Su(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ml(this,t,r),Nc(i=Tc(this.F),"RID",e),Nc(i,"CVER",22),this.D&&Nc(i,"X-HTTP-Session-Id",this.D),Rl(this,i),this.o&&n&&Tl(i,this.o,n),el(this.i,t),this.Ra&&Nc(i,"TYPE","init"),this.ja?(Nc(i,"$req",r),Nc(i,"SID","null"),t.$=!0,cc(t,i,null)):cc(t,i,r),this.G=2}}else 3==this.G&&(e?Ll(this,e):0==this.l.length||Xc(this.i)||Ll(this))},Yo.Ga=function(){if(this.u=null,Vl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Hs(su(this.bb,this),e)}},Yo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ks(10),Dl(this),Vl(this))},Yo.ab=function(){null!=this.v&&(this.v=null,Dl(this),jl(this),Ks(19))},Yo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ks(2)):(this.h.info("Failed to ping google.com"),Ks(1))},(Yo=Ql.prototype).xa=function(){},Yo.wa=function(){},Yo.va=function(){},Yo.ua=function(){},Yo.Oa=function(){},$l.prototype.g=function(e,t){return new Yl(e,t)},lu(Yl,ps),Yl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xs(su(e.hb,e,t))),Ks(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Wl(e,null,e.W),Ol(e)},Yl.prototype.close=function(){Al(this.g)},Yl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Pl(this.g,t)}else this.v?((t={}).__data__=ys(e),Pl(this.g,t)):Pl(this.g,e)},Yl.prototype.M=function(){this.g.j=null,delete this.j,Al(this.g),delete this.g,Yl.Z.M.call(this)},lu(Xl,tc),lu(Jl,nc),lu(Zl,Ql),Zl.prototype.xa=function(){vs(this.g,"a")},Zl.prototype.wa=function(e){vs(this.g,new Xl(e))},Zl.prototype.va=function(e){vs(this.g,new Jl(e))},Zl.prototype.ua=function(){vs(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Yl.prototype.send=Yl.prototype.u,Yl.prototype.open=Yl.prototype.m,Yl.prototype.close=Yl.prototype.close,Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,$s.COMPLETE="complete",Js.EventType=ec,ec.OPEN="a",ec.CLOSE="b",ec.ERROR="c",ec.MESSAGE="d",ps.prototype.listen=ps.prototype.N,pl.prototype.listenOnce=pl.prototype.O,pl.prototype.getLastError=pl.prototype.La,pl.prototype.getLastErrorCode=pl.prototype.Da,pl.prototype.getStatus=pl.prototype.ba,pl.prototype.getResponseJson=pl.prototype.Qa,pl.prototype.getResponseText=pl.prototype.ga,pl.prototype.send=pl.prototype.ea;var ef=Jo.createWebChannelTransport=function(){return new $l},tf=Jo.getStatEventTarget=function(){return Us()},nf=Jo.ErrorCode=Qs,rf=Jo.EventType=$s,af=Jo.Event=Bs,of=Jo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uf=Jo.FetchXmlHttpFactory=ul,sf=Jo.WebChannel=Js,cf=Jo.XhrIo=pl,lf="@firebase/firestore",ff=function(){function e(t){Xi(this,e),this.uid=t}return Zi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ff.UNAUTHENTICATED=new ff(null),ff.GOOGLE_CREDENTIALS=new ff("google-credentials-uid"),ff.FIRST_PARTY=new ff("first-party-uid"),ff.MOCK_USER=new ff("mock-user");var df="9.6.10",hf=new Ja("@firebase/firestore");function pf(){return hf.logLevel}function vf(e){if(hf.logLevel<=qa.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);hf.debug.apply(hf,["Firestore (".concat(df,"): ").concat(e)].concat(ja(i)))}}function mf(e){if(hf.logLevel<=qa.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);hf.error.apply(hf,["Firestore (".concat(df,"): ").concat(e)].concat(ja(i)))}}function yf(e){if(hf.logLevel<=qa.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);hf.warn.apply(hf,["Firestore (".concat(df,"): ").concat(e)].concat(ja(i)))}}function gf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(df,") INTERNAL ASSERTION FAILED: ")+e;throw mf(t),new Error(t)}function wf(e,t){e||bf()}function _f(e,t){return e}var kf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ef=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Zi(n)}(ka),xf=Zi((function e(){var t=this;Xi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sf=Zi((function e(t,n){Xi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tf=function(){function e(){Xi(this,e)}return Zi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ff.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cf=function(){function e(t){Xi(this,e),this.token=t,this.changeListener=null}return Zi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),If=function(){function e(t){Xi(this,e),this.t=t,this.currentUser=ff.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Zi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new xf;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new xf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=o;e.enqueueRetryable(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){vf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(vf("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xf)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(vf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wf("string"==typeof n.accessToken),new Sf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wf(null===e||"string"==typeof e),new ff(e)}}]),e}(),Af=Zi((function e(t,n,r){Xi(this,e),this.type="FirstParty",this.user=ff.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Df=function(){function e(t,n,r){Xi(this,e),this.h=t,this.l=n,this.m=r}return Zi(e,[{key:"getToken",value:function(){return Promise.resolve(new Af(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ff.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Nf=Zi((function e(t){Xi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Pf=function(){function e(t){Xi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Zi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&vf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,vf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){vf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):vf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wf("string"==typeof t.token),e.p=t.token,new Nf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Of=function(){function e(t,n){var r=this;Xi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Zi(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Lf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Of.A=-1;var Rf=function(){function e(){Xi(this,e)}return Zi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mf(e,t){return e<t?-1:e>t?1:0}function Ff(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function jf(e){return e+"\0"}var Bf=function(){function e(t,n){if(Xi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ef(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ef(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ef(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ef(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Zi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mf(this.nanoseconds,e.nanoseconds):Mf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vf=function(){function e(t){Xi(this,e),this.timestamp=t}return Zi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bf(0,0))}},{key:"max",value:function(){return new e(new Bf(253402300799,999999999))}}]),e}();function Uf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gf=function(){function e(t,n,r){Xi(this,e),void 0===n?n=0:n>t.length&&bf(),void 0===r?r=t.length-n:r>t.length-n&&bf(),this.segments=t,this.offset=n,this.len=r}return Zi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Kf=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ef(kf.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ja(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gf),Wf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hf=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Wf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ef(kf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ef(kf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ef(kf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ef(kf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gf),Qf=function(){function e(t){Xi(this,e),this.fields=t,t.sort(Hf.comparator)}return Zi(e,[{key:"covers",value:function(e){var t,n=na(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ff(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var $f=function(e){function t(e){Xi(this,t),this.binaryString=e}return Zi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$f.EMPTY_BYTE_STRING=new $f("");var Yf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xf(e){if(wf(!!e),"string"==typeof e){var t=0,n=Yf.exec(e);if(wf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jf(e.seconds),nanos:Jf(e.nanos)}}function Jf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zf(e){return"string"==typeof e?$f.fromBase64String(e):$f.fromUint8Array(e)}function ed(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function td(e){var t=e.mapValue.fields.__previous_value__;return ed(t)?td(t):t}function nd(e){var t=Xf(e.mapValue.fields.__local_write_time__.timestampValue);return new Bf(t.seconds,t.nanos)}var rd=Zi((function e(t,n,r,i,a,o,u,s){Xi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),id=function(){function e(t,n){Xi(this,e),this.projectId=t,this.database=n||"(default)"}return Zi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ad(e){return null==e}function od(e){return 0===e&&1/e==-1/0}function ud(e){return"number"==typeof e&&Number.isInteger(e)&&!od(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var sd=function(){function e(t){Xi(this,e),this.path=t}return Zi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Kf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Kf.fromString(t))}},{key:"fromName",value:function(t){return new e(Kf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Kf.emptyPath())}},{key:"comparator",value:function(e,t){return Kf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Kf(t.slice()))}}]),e}(),cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ld={nullValue:"NULL_VALUE"};function fd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ed(e)?4:Sd(e)?9:10:bf()}function dd(e,t){if(e===t)return!0;var n=fd(e);if(n!==fd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nd(e).isEqual(nd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Xf(e.timestampValue),r=Xf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zf(e.bytesValue).isEqual(Zf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jf(e.geoPointValue.latitude)===Jf(t.geoPointValue.latitude)&&Jf(e.geoPointValue.longitude)===Jf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jf(e.integerValue)===Jf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Jf(e.doubleValue),r=Jf(t.doubleValue);return n===r?od(n)===od(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ff(e.arrayValue.values||[],t.arrayValue.values||[],dd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uf(n)!==Uf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dd(n[i],r[i])))return!1;return!0}(e,t);default:return bf()}}function hd(e,t){return void 0!==(e.values||[]).find((function(e){return dd(e,t)}))}function pd(e,t){if(e===t)return 0;var n=fd(e),r=fd(t);if(n!==r)return Mf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Jf(e.integerValue||e.doubleValue),r=Jf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vd(e.timestampValue,t.timestampValue);case 4:return vd(nd(e),nd(t));case 5:return Mf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Zf(e),r=Zf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mf(n[i],r[i]);if(0!==a)return a}return Mf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mf(Jf(e.latitude),Jf(t.latitude));return 0!==n?n:Mf(Jf(e.longitude),Jf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pd(n[i],r[i]);if(a)return a}return Mf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Mf(r[o],a[o]);if(0!==u)return u;var s=pd(n[r[o]],i[a[o]]);if(0!==s)return s}return Mf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bf()}}function vd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mf(e,t);var n=Xf(e),r=Xf(t),i=Mf(n.seconds,r.seconds);return 0!==i?i:Mf(n.nanos,r.nanos)}function md(e){return yd(e)}function yd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Xf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Zf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,sd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=na(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=na(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bf();var t,n}function gd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bd(e){return!!e&&"integerValue"in e}function wd(e){return!!e&&"arrayValue"in e}function _d(e){return!!e&&"nullValue"in e}function kd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ed(e){return!!e&&"mapValue"in e}function xd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=xd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=xd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Sd(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Td(e,t){return void 0===e?t:void 0===t||pd(e,t)>0?e:t}function Cd(e,t){return void 0===e?t:void 0===t||pd(e,t)<0?e:t}var Id=function(){function e(t){Xi(this,e),this.value=t}return Zi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ed(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(t)}},{key:"setAll",value:function(e){var t=this,n=Hf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=xd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ed(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zf(t,(function(t,n){return e[t]=n}));var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(xd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ad(e){var t=[];return zf(e.fields,(function(e,n){var r=new Hf([e]);if(Ed(n)){var i=Ad(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=na(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qf(t)}var Dd=function(){function e(t,n,r,i,a,o){Xi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Zi(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Id.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Id.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vf.min(),Vf.min(),Id.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Vf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vf.min(),Id.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vf.min(),Id.empty(),2)}}]),e}(),Nd=Zi((function e(t,n,r,i){Xi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Pd(e){return e.fields.find((function(e){return 2===e.kind}))}function Od(e){return e.fields.filter((function(e){return 2!==e.kind}))}Nd.UNKNOWN_ID=-1;var Ld=Zi((function e(t,n){Xi(this,e),this.fieldPath=t,this.kind=n})),Rd=function(){function e(t,n){Xi(this,e),this.sequenceNumber=t,this.offset=n}return Zi(e,null,[{key:"empty",value:function(){return new e(0,jd.min())}}]),e}();function Md(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vf.fromTimestamp(1e9===r?new Bf(n+1,0):new Bf(n,r));return new jd(i,sd.empty(),t)}function Fd(e){return new jd(e.readTime,e.key,-1)}var jd=function(){function e(t,n,r){Xi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Zi(e,null,[{key:"min",value:function(){return new e(Vf.min(),sd.empty(),-1)}},{key:"max",value:function(){return new e(Vf.max(),sd.empty(),-1)}}]),e}();function Bd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=sd.comparator(e.documentKey,t.documentKey))?n:Mf(e.largestBatchId,t.largestBatchId)}var Vd=Zi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Xi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Ud(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vd(e,t,n,r,i,a,o)}function zd(e){var t=_f(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+md(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return md(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return md(e)})).join(",")),t.P=n}return t.P}function qd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dd(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ah(e.startAt,t.startAt)&&ah(e.endAt,t.endAt)}function Gd(e){return sd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Kd(e,t){return e.filters.filter((function(e){return e instanceof Wd&&e.field.isEqual(t)}))}var Wd=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Zi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pd(t,this.value)):null!==t&&fd(this.value)===fd(t)&&this.v(pd(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bf()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Hd(e,t,r):"array-contains"===t?new Xd(e,r):"in"===t?new Jd(e,r):"not-in"===t?new Zd(e,r):"array-contains-any"===t?new eh(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Qd(e,n):new $d(e,n)}}]),n}(function(){return Zi((function e(){Xi(this,e)}))}()),Hd=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,e,r,i)).key=sd.fromName(i.referenceValue),a}return Zi(n,[{key:"matches",value:function(e){var t=sd.comparator(e.key,this.key);return this.v(t)}}]),n}(Wd),Qd=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,"in",r)).keys=Yd("in",r),i}return Zi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wd),$d=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,"not-in",r)).keys=Yd("not-in",r),i}return Zi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wd);function Yd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return sd.fromName(e.referenceValue)}))}var Xd=function(e){aa(n,e);var t=la(n);function n(e,r){return Xi(this,n),t.call(this,e,"array-contains",r)}return Zi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wd(t)&&hd(t.arrayValue,this.value)}}]),n}(Wd),Jd=function(e){aa(n,e);var t=la(n);function n(e,r){return Xi(this,n),t.call(this,e,"in",r)}return Zi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hd(this.value.arrayValue,t)}}]),n}(Wd),Zd=function(e){aa(n,e);var t=la(n);function n(e,r){return Xi(this,n),t.call(this,e,"not-in",r)}return Zi(n,[{key:"matches",value:function(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hd(this.value.arrayValue,t)}}]),n}(Wd),eh=function(e){aa(n,e);var t=la(n);function n(e,r){return Xi(this,n),t.call(this,e,"array-contains-any",r)}return Zi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hd(t.value.arrayValue,e)}))}}]),n}(Wd),th=Zi((function e(t,n){Xi(this,e),this.position=t,this.inclusive=n})),nh=Zi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Xi(this,e),this.field=t,this.dir=n}));function rh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ih(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?sd.comparator(sd.fromName(o.referenceValue),n.key):pd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ah(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dd(e.position[n],t.position[n]))return!1;return!0}var oh=Zi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function uh(e,t,n,r,i,a,o,u){return new oh(e,t,n,r,i,a,o,u)}function sh(e){return new oh(e)}function ch(e){return!ad(e.limit)&&"F"===e.limitType}function lh(e){return!ad(e.limit)&&"L"===e.limitType}function fh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dh(e){var t,n=na(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hh(e){return null!==e.collectionGroup}function ph(e){var t=_f(e);if(null===t.D){t.D=[];var n=dh(t),r=fh(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new nh(n)),t.D.push(new nh(Hf.keyField(),"asc"));else{var i,a=!1,o=na(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nh(Hf.keyField(),s))}}}return t.D}function vh(e){var t=_f(e);if(!t.C)if("F"===t.limitType)t.C=Ud(t.path,t.collectionGroup,ph(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=na(ph(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new th(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new th(t.startAt.position,!t.startAt.inclusive):null;t.C=Ud(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function mh(e,t,n){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yh(e,t){return qd(vh(e),vh(t))&&e.limitType===t.limitType}function gh(e){return"".concat(zd(vh(e)),"|lt:").concat(e.limitType)}function bh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(md(t.value));var t})).join(", "),"]")),ad(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return md(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return md(e)})).join(",")),"Target(".concat(t,")")}(vh(e)),"; limitType=").concat(e.limitType,")")}function wh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=na(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=na(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ih(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ph(e),t))&&!(e.endAt&&!function(e,t,n){var r=ih(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ph(e),t))}(e,t)}function _h(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kh(e){return function(t,n){var r,i=!1,a=na(ph(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Eh(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Eh(e,t,n){var r=e.field.isKeyField()?sd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pd(r,i):bf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bf()}}function xh(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(t)?"-0":t}}function Sh(e){return{integerValue:""+e}}function Th(e,t){return ud(t)?Sh(t):xh(e,t)}var Ch=Zi((function e(){Xi(this,e),this._=void 0}));function Ih(e,t,n){return e instanceof Nh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ph?Oh(e,t):e instanceof Lh?Rh(e,t):function(e,t){var n=Dh(e,t),r=Fh(n)+Fh(e.k);return bd(n)&&bd(e.k)?Sh(r):xh(e.M,r)}(e,t)}function Ah(e,t,n){return e instanceof Ph?Oh(e,t):e instanceof Lh?Rh(e,t):n}function Dh(e,t){return e instanceof Mh?bd(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Nh=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n)}(Ch),Ph=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).elements=e,r}return Zi(n)}(Ch);function Oh(e,t){var n,r=jh(t),i=na(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Lh=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).elements=e,r}return Zi(n)}(Ch);function Rh(e,t){var n,r=jh(t),i=na(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mh=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).M=e,i.k=r,i}return Zi(n)}(Ch);function Fh(e){return Jf(e.integerValue||e.doubleValue)}function jh(e){return wd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Bh=Zi((function e(t,n){Xi(this,e),this.field=t,this.transform=n}));var Vh=Zi((function e(t,n){Xi(this,e),this.version=t,this.transformResults=n})),Uh=function(){function e(t,n){Xi(this,e),this.updateTime=t,this.exists=n}return Zi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function zh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qh=Zi((function e(){Xi(this,e)}));function Gh(e,t,n){e instanceof $h?function(e,t,n){var r=e.value.clone(),i=Jh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yh?function(e,t,n){if(zh(e.precondition,t)){var r=Jh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Kh(e,t,n){e instanceof $h?function(e,t,n){if(zh(e.precondition,t)){var r=e.value.clone(),i=Zh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Qh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Yh?function(e,t,n){if(zh(e.precondition,t)){var r=Zh(e.fieldTransforms,n,t),i=t.data;i.setAll(Xh(e)),i.setAll(r),t.convertToFoundDocument(Qh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){zh(e.precondition,t)&&t.convertToNoDocument(Vf.min())}(e,t)}function Wh(e,t){var n,r=null,i=na(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Dh(a.transform,o||null);null!=u&&(null==r&&(r=Id.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Hh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ff(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ph&&t instanceof Ph||e instanceof Lh&&t instanceof Lh?Ff(e.elements,t.elements,dd):e instanceof Mh&&t instanceof Mh?dd(e.k,t.k):e instanceof Nh&&t instanceof Nh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qh(e){return e.isFoundDocument()?e.version:Vf.min()}var $h=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Xi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Zi(n)}(qh),Yh=function(e){aa(n,e);var t=la(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Xi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Zi(n)}(qh);function Xh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Jh(e,t,n){var r=new Map;wf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ah(o,u,n[i]))}return r}function Zh(e,t,n){var r,i=new Map,a=na(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ih(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ep,tp,np=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Zi(n)}(qh),rp=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Zi(n)}(qh),ip=Zi((function e(t){Xi(this,e),this.count=t}));function ap(e){switch(e){default:return bf();case kf.CANCELLED:case kf.UNKNOWN:case kf.DEADLINE_EXCEEDED:case kf.RESOURCE_EXHAUSTED:case kf.INTERNAL:case kf.UNAVAILABLE:case kf.UNAUTHENTICATED:return!1;case kf.INVALID_ARGUMENT:case kf.NOT_FOUND:case kf.ALREADY_EXISTS:case kf.PERMISSION_DENIED:case kf.FAILED_PRECONDITION:case kf.ABORTED:case kf.OUT_OF_RANGE:case kf.UNIMPLEMENTED:case kf.DATA_LOSS:return!0}}function op(e){if(void 0===e)return mf("GRPC error has no .code"),kf.UNKNOWN;switch(e){case ep.OK:return kf.OK;case ep.CANCELLED:return kf.CANCELLED;case ep.UNKNOWN:return kf.UNKNOWN;case ep.DEADLINE_EXCEEDED:return kf.DEADLINE_EXCEEDED;case ep.RESOURCE_EXHAUSTED:return kf.RESOURCE_EXHAUSTED;case ep.INTERNAL:return kf.INTERNAL;case ep.UNAVAILABLE:return kf.UNAVAILABLE;case ep.UNAUTHENTICATED:return kf.UNAUTHENTICATED;case ep.INVALID_ARGUMENT:return kf.INVALID_ARGUMENT;case ep.NOT_FOUND:return kf.NOT_FOUND;case ep.ALREADY_EXISTS:return kf.ALREADY_EXISTS;case ep.PERMISSION_DENIED:return kf.PERMISSION_DENIED;case ep.FAILED_PRECONDITION:return kf.FAILED_PRECONDITION;case ep.ABORTED:return kf.ABORTED;case ep.OUT_OF_RANGE:return kf.OUT_OF_RANGE;case ep.UNIMPLEMENTED:return kf.UNIMPLEMENTED;case ep.DATA_LOSS:return kf.DATA_LOSS;default:return bf()}}(tp=ep||(ep={}))[tp.OK=0]="OK",tp[tp.CANCELLED=1]="CANCELLED",tp[tp.UNKNOWN=2]="UNKNOWN",tp[tp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tp[tp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tp[tp.NOT_FOUND=5]="NOT_FOUND",tp[tp.ALREADY_EXISTS=6]="ALREADY_EXISTS",tp[tp.PERMISSION_DENIED=7]="PERMISSION_DENIED",tp[tp.UNAUTHENTICATED=16]="UNAUTHENTICATED",tp[tp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tp[tp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tp[tp.ABORTED=10]="ABORTED",tp[tp.OUT_OF_RANGE=11]="OUT_OF_RANGE",tp[tp.UNIMPLEMENTED=12]="UNIMPLEMENTED",tp[tp.INTERNAL=13]="INTERNAL",tp[tp.UNAVAILABLE=14]="UNAVAILABLE",tp[tp.DATA_LOSS=15]="DATA_LOSS";var up=function(){function e(t,n){Xi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Zi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zf(this.inner,(function(t,n){var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qf(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sp=function(){function e(t,n){Xi(this,e),this.comparator=t,this.root=n||lp.EMPTY}return Zi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,lp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,lp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new cp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new cp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new cp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new cp(this.root,e,this.comparator,!0)}}]),e}(),cp=function(){function e(t,n,r,i){Xi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Zi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),lp=function(){function e(t,n,r,i,a){Xi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Zi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bf();if(this.right.isRed())throw bf();var e=this.left.check();if(e!==this.right.check())throw bf();return e+(this.isRed()?0:1)}}]),e}();lp.EMPTY=null,lp.RED=!0,lp.BLACK=!1,lp.EMPTY=new(function(){function e(){Xi(this,e),this.size=0}return Zi(e,[{key:"key",get:function(){throw bf()}},{key:"value",get:function(){throw bf()}},{key:"color",get:function(){throw bf()}},{key:"left",get:function(){throw bf()}},{key:"right",get:function(){throw bf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new lp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var fp=function(){function e(t){Xi(this,e),this.comparator=t,this.data=new sp(this.comparator)}return Zi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new dp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new dp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),dp=function(){function e(t){Xi(this,e),this.iter=t}return Zi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function hp(e){return e.hasNext()?e.getNext():void 0}var pp=new sp(sd.comparator);function vp(){return pp}var mp=new sp(sd.comparator);function yp(){return mp}function gp(){return new up((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var bp=new sp(sd.comparator),wp=new fp(sd.comparator);function _p(){for(var e=wp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var kp=new fp(Mf);function Ep(){return kp}var xp=function(){function e(t,n,r,i,a){Xi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Zi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sp.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Vf.min(),r,Ep(),vp(),_p())}}]),e}(),Sp=function(){function e(t,n,r,i,a){Xi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Zi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e($f.EMPTY_BYTE_STRING,n,_p(),_p(),_p())}}]),e}(),Tp=Zi((function e(t,n,r,i){Xi(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Cp=Zi((function e(t,n){Xi(this,e),this.targetId=t,this.$=n})),Ip=Zi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$f.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ap=function(){function e(){Xi(this,e),this.B=0,this.L=Pp(),this.U=$f.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return Zi(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=_p(),t=_p(),n=_p();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bf()}})),new Sp(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=Pp()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),Dp=function(){function e(t){Xi(this,e),this.nt=t,this.st=new Map,this.it=vp(),this.rt=Np(),this.ot=new fp(Mf)}return Zi(e,[{key:"ut",value:function(e){var t,n=na(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=na(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:bf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Gd(i))if(0===n){var a=new sd(i.path);this.ct(t,a,Dd.newNoDocument(a,Vf.min()))}else wf(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Gd(a.target)){var o=new sd(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Dd.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=_p();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new xp(e,n,this.ot,this.it,r);return this.it=vp(),this.rt=Np(),this.ot=new fp(Mf),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ap,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new fp(Mf),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||vf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ap),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Np(){return new sp(sd.comparator)}function Pp(){return new sp(sd.comparator)}var Op={asc:"ASCENDING",desc:"DESCENDING"},Lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rp=Zi((function e(t,n){Xi(this,e),this.databaseId=t,this.N=n}));function Mp(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fp(e,t){return e.N?t.toBase64():t.toUint8Array()}function jp(e,t){return Mp(e,t.toTimestamp())}function Bp(e){return wf(!!e),Vf.fromTimestamp(function(e){var t=Xf(e);return new Bf(t.seconds,t.nanos)}(e))}function Vp(e,t){return function(e){return new Kf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Up(e){var t=Kf.fromString(e);return wf(lv(t)),t}function zp(e,t){return Vp(e.databaseId,t.path)}function qp(e,t){var n=Up(t);if(n.get(1)!==e.databaseId.projectId)throw new Ef(kf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ef(kf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sd(Hp(n))}function Gp(e,t){return Vp(e.databaseId,t)}function Kp(e){var t=Up(e);return 4===t.length?Kf.emptyPath():Hp(t)}function Wp(e){return new Kf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hp(e){return wf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qp(e,t,n){return{name:zp(e,t),fields:n.value.mapValue.fields}}function $p(e,t,n){var r=qp(e,t.name),i=Bp(t.updateTime),a=new Id({mapValue:{fields:t.fields}}),o=Dd.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Yp(e,t){return"found"in t?function(e,t){wf(!!t.found),t.found.name,t.found.updateTime;var n=qp(e,t.found.name),r=Bp(t.found.updateTime),i=new Id({mapValue:{fields:t.found.fields}});return Dd.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){wf(!!t.missing),wf(!!t.readTime);var n=qp(e,t.missing),r=Bp(t.readTime);return Dd.newNoDocument(n,r)}(e,t):bf()}function Xp(e,t){var n;if(t instanceof $h)n={update:Qp(e,t.key,t.value)};else if(t instanceof np)n={delete:zp(e,t.key)};else if(t instanceof Yh)n={update:Qp(e,t.key,t.data),updateMask:cv(t.fieldMask)};else{if(!(t instanceof rp))return bf();n={verify:zp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Nh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ph)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Lh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw bf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bf()}(e,t.precondition)),n}function Jp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Uh.updateTime(Bp(e.updateTime)):void 0!==e.exists?Uh.exists(e.exists):Uh.none()}(t.currentDocument):Uh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wf("REQUEST_TIME"===t.setToServerValue),n=new Nh;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ph(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Lh(i)}else"increment"in t?n=new Mh(e,t.increment):bf();var a=Hf.fromServerFormat(t.fieldPath);return new Bh(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=qp(e,t.update.name),a=new Id({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qf(t.map((function(e){return Hf.fromServerFormat(e)})))}(t.updateMask);return new Yh(i,a,o,n,r)}return new $h(i,a,n,r)}if(t.delete){var u=qp(e,t.delete);return new np(u,n)}if(t.verify){var s=qp(e,t.verify);return new rp(s,n)}return bf()}function Zp(e,t){return{documents:[Gp(e,t.path)]}}function ev(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(kd(e.value))return{unaryFilter:{field:av(e.field),op:"IS_NAN"}};if(_d(e.value))return{unaryFilter:{field:av(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kd(e.value))return{unaryFilter:{field:av(e.field),op:"IS_NOT_NAN"}};if(_d(e.value))return{unaryFilter:{field:av(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:av(e.field),op:iv(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:av(e.field),direction:rv(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ad(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tv(e){var t=Kp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=nv(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new nh(ov(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ad(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new th(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new th(n,t)}(n.endAt)),uh(t,i,u,o,s,"F",c,l)}function nv(e){return e?void 0!==e.unaryFilter?[sv(e)]:void 0!==e.fieldFilter?[uv(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return nv(e)})).reduce((function(e,t){return e.concat(t)})):bf():[]}function rv(e){return Op[e]}function iv(e){return Lp[e]}function av(e){return{fieldPath:e.canonicalString()}}function ov(e){return Hf.fromServerFormat(e.fieldPath)}function uv(e){return Wd.create(ov(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bf()}}(e.fieldFilter.op),e.fieldFilter.value)}function sv(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ov(e.unaryFilter.field);return Wd.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ov(e.unaryFilter.field);return Wd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ov(e.unaryFilter.field);return Wd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ov(e.unaryFilter.field);return Wd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bf()}}function cv(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fv(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hv(t)),t=dv(e.get(n),t);return hv(t)}function dv(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hv(e){return e+"\x01\x01"}function pv(e){var t=e.length;if(wf(t>=2),2===t)return wf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bf(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bf()}a=o+2}return new Kf(r)}var vv=["userId","batchId"];function mv(e,t){return[e,fv(t)]}function yv(e,t,n){return[e,fv(t),n]}var gv={},bv=["prefixPath","collectionGroup","readTime","documentId"],wv=["prefixPath","collectionGroup","documentId"],_v=["collectionGroup","readTime","prefixPath","documentId"],kv=["canonicalId","targetId"],Ev=["targetId","path"],xv=["path","targetId"],Sv=["collectionId","parent"],Tv=["indexId","uid"],Cv=["uid","sequenceNumber"],Iv=["indexId","uid","arrayValue","directionalValue","documentKey"],Av=["indexId","uid","documentKey"],Dv=["userId","collectionPath","documentId"],Nv=["userId","collectionPath","largestBatchId"],Pv=["userId","collectionGroup","largestBatchId"],Ov=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Lv=[].concat(ja(Ov),["documentOverlays"]),Rv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mv=[].concat(Rv,["indexConfiguration","indexState","indexEntries"]),Fv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=function(){function e(){Xi(this,e),this.onCommittedListeners=[]}return Zi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Bv=function(){function e(t){var n=this;Xi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Zi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=na(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Vv=function(){function e(t,n){var r=this;Xi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new xf,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new qv(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Qv(e.target.error);r.At.reject(new qv(t,n))}}return Zi(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(vf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new qv(n,t)}}}]),e}(),Uv=function(){function e(t,n,r){Xi(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(ba())&&mf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Zi(e,[{key:"Nt",value:function(){var e=a(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return vf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ef(kf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ef(kf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new qv(t,n))},i.onupgradeneeded=function(e){vf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){vf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=a(l().mark((function e(t,n,r,i){var a,o,u,s,c=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(l().mark((function e(){var n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Vv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),Bv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,vf("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return vf("SimpleDb","Removing database:",e),Wv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!_a())return!1;if(e.St())return!0;var t=ba(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/test-banuba",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),zv=function(){function e(t){Xi(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Zi(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Wv(this.Ft.delete())}}]),e}(),qv=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,kf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Zi(n)}(Ef);function Gv(e){return"IndexedDbTransactionError"===e.name}var Kv=function(){function e(t){Xi(this,e),this.store=t}return Zi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(vf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wv(n)}},{key:"add",value:function(e){return vf("SimpleDb","ADD",this.store.name,e,e),Wv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Wv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return vf("SimpleDb","DELETE",this.store.name,e),Wv(this.store.delete(e))}},{key:"count",value:function(){return vf("SimpleDb","COUNT",this.store.name),Wv(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Bv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Bv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){vf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Bv((function(n,r){t.onerror=function(e){var t=Qv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new Bv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new zv(i),o=t(i.primaryKey,i.value,a);if(o instanceof Bv){var u=o.catch((function(e){return a.done(),Bv.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Bv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Wv(e){return new Bv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qv(e.target.error);n(t)}}))}var Hv=!1;function Qv(e){var t=Uv.Vt(ba());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ef("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hv||(Hv=!0,setTimeout((function(){throw r}),0)),r}}return e}var $v=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Zi(n)}(jv);function Yv(e,t){var n=_f(e);return Uv.xt(n.Ht,t)}var Xv=function(){function e(t,n,r,i){Xi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Zi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Gh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=na(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Kh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=na(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Kh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vf.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),_p())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ff(this.mutations,e.mutations,(function(e,t){return Hh(e,t)}))&&Ff(this.baseMutations,e.baseMutations,(function(e,t){return Hh(e,t)}))}}]),e}(),Jv=function(){function e(t,n,r,i){Xi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Zi(e,null,[{key:"from",value:function(t,n,r){wf(t.mutations.length===r.length);for(var i=bp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zv=function(){function e(t,n){Xi(this,e),this.largestBatchId=t,this.mutation=n}return Zi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),em=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$f.EMPTY_BYTE_STRING;Xi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Zi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),tm=Zi((function e(t){Xi(this,e),this.Jt=t}));function nm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:zp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Mp(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:im(t.version)};else{if(!t.isUnknownDocument())return bf();r.unknownDocument={path:n.path.toArray(),version:im(t.version)}}return r}function rm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function im(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function am(e){var t=new Bf(e.seconds,e.nanoseconds);return Vf.fromTimestamp(t)}function om(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Jp(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Jp(e.Jt,t)})),u=Bf.fromMillis(t.localWriteTimeMs);return new Xv(t.batchId,u,n,o)}function um(e){var t,n,r=am(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?am(e.lastLimboFreeSnapshotVersion):Vf.min();return void 0!==e.query.documents?(wf(1===(n=e.query).documents.length),t=vh(sh(Kp(n.documents[0])))):t=function(e){return vh(tv(e))}(e.query),new em(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$f.fromBase64String(e.resumeToken))}function sm(e,t){var n,r=im(t.snapshotVersion),i=im(t.lastLimboFreeSnapshotVersion);n=Gd(t.target)?Zp(e.Jt,t.target):ev(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zd(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function cm(e){var t=tv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mh(t,t.limit,"L"):t}function lm(e,t){return new Zv(t.largestBatchId,Jp(e.Jt,t.overlayMutation))}function fm(e,t){var n=t.path.lastSegment();return[e,fv(t.path.popLast()),n]}var dm=function(){function e(){Xi(this,e)}return Zi(e,[{key:"getBundleMetadata",value:function(e,t){return hm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:am(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hm(e).put({bundleId:(n=t).id,createTime:im(Bp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return pm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:cm(t.bundledQuery),readTime:am(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return pm(e).put(function(e){return{name:e.name,readTime:im(Bp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hm(e){return Yv(e,"bundles")}function pm(e){return Yv(e,"namedQueries")}var vm=function(){function e(t,n){Xi(this,e),this.M=t,this.userId=n}return Zi(e,[{key:"getOverlay",value:function(e,t){var n=this;return mm(e).get(fm(this.userId,t)).next((function(e){return e?lm(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Zv(t,a);i.push(r.Xt(e,o))})),Bv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(fv(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mm(e).Qt("collectionPathOverlayIndex",i))})),Bv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=gp(),a=fv(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mm(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=na(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lm(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=gp(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mm(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lm(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return mm(e).put(function(e,t,n){var r=s(fm(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xp(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function mm(e){return Yv(e,"documentOverlays")}var ym=function(){function e(){Xi(this,e)}return Zi(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Jf(e.integerValue));else if("doubleValue"in e){var n=Jf(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),od(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Zf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Sd(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):bf()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),sd.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function gm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ym.fe=new ym;var wm=function(){function e(){Xi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Zi(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=na(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=na(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=bm(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=bm(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),_m=function(){function e(t){Xi(this,e),this.De=t}return Zi(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),km=function(){function e(t){Xi(this,e),this.De=t}return Zi(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Em=function(){function e(){Xi(this,e),this.De=new wm,this.Ce=new _m(this.De),this.xe=new km(this.De)}return Zi(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),xm=function(){function e(t,n,r,i){Xi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Zi(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Sm(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Tm(e.arrayValue,t.arrayValue))?n:0!==(n=Tm(e.directionalValue,t.directionalValue))?n:sd.comparator(e.documentKey,t.documentKey)}function Tm(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Cm=function(){function e(t){Xi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=na(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Zi(e,[{key:"$e",value:function(e){var t=Pd(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Od(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=na(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Im=function(){function e(){Xi(this,e),this.qe=new Am}return Zi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Bv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Bv.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Bv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Bv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Bv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Bv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Bv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Bv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Bv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Bv.resolve()}}]),e}(),Am=function(){function e(){Xi(this,e),this.index={}}return Zi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new fp(Kf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new fp(Kf.comparator)).toArray()}}]),e}(),Dm=new Uint8Array(0),Nm=function(){function e(t){Xi(this,e),this.user=t,this.Ge=new Am,this.Ke=new up((function(e){return zd(e)}),(function(e,t){return qd(e,t)})),this.uid=t.uid||""}return Zi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:fv(i)};return Pm(e).put(a)}return Bv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[jf(t),""],!1,!0);return Pm(e).qt(r).next((function(e){var r,i=na(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pv(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Lm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Lm(e),r=Rm(e),i=Om(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Om(e),i=!0,a=new Map;return Bv.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=_p();return Bv.forEach(a,(function(i,a){var o;vf("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(zd(t)));var u=function(e,t){var n=Pd(t);if(void 0===n)return null;var r,i=na(Kd(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=na(Od(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=na(Kd(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=na(Od(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=na(Kd(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case"<":case"<=":h="nullValue"in(r=d.value)?ld:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?gd(id.empty(),sd.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:bf();break;case"==":case"in":case">=":h=d.value;break;case">":h=d.value,p=!1;break;case"!=":case"not-in":h=ld}Td(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Td(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new th(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=na(Od(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=na(Kd(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case">=":case">":h="nullValue"in(r=d.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?gd(id.empty(),sd.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?cd:bf(),p=!1;break;case"==":case"in":case"<=":h=d.value;break;case"<":h=d.value,p=!1;break;case"!=":case"not-in":h=cd}Cd(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Cd(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new th(i,a)}(a,i),f=n.je(i,a,c),d=n.je(i,a,l),h=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,d,!!l&&l.inclusive,h);return Bv.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new sd(pv(t.documentKey)))}))}))}))})).next((function(){return e}))}return Bv.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Dm,d=n?u.Je(e,f,n[s%c],r):u.Ye(e),h=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,ja(u.createRange(d,h,o.map((function(t){return u.Je(e,f,t,!0)})))))},d=0;d<s;++d)f(d);return l}},{key:"Je",value:function(e,t,n,r){var i=new xm(e,sd.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new xm(e,sd.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new xm(e,sd.empty(),Dm,Dm)}},{key:"getFieldIndex",value:function(e,t){var n=new Cm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Em,i=na(Od(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);ym.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Em;return ym.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Em);var i,a=0,o=na(Od(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=na(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&wd(c))r=this.en(r,s,c);else{var d=f.Ne(s.kind);ym.fe.Zt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=ja(e),a=[],o=na(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=na(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Em;f.seed(l.Se()),ym.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Wd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Lm(e),i=Rm(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Bv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Rd(t.sequenceNumber,new jd(am(t.readTime),new sd(pv(t.documentKey)),t.largestBatchId)):Rd.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Ld(Hf.fromServerFormat(n),r)}));return new Nd(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Lm(e),a=Rm(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Bv.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:im(r.readTime),documentKey:fv(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Bv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Bv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Bv.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?Bv.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return Om(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:fv(t.key.path)})}},{key:"cn",value:function(e,t,n){return Om(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,fv(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Om(e),i=new fp(Sm);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,fv(t.path)])},(function(e,r){i=i.add(new xm(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new fp(Sm),r=this.Ze(t,e);if(null==r)return n;var i=Pd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(wd(a)){var o,u=na(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new xm(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new xm(t.indexId,e.key,Dm,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;vf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=hp(a),s=hp(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=hp(o)):l?(i(u),u=hp(a)):(u=hp(a),s=hp(o))}}(n,r,Sm,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),Bv.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Rm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Sm(e,t)})).filter((function(e,t,n){return!t||0!==Sm(e,n[t-1])}));var r=[];r.push(e);var i,a=na(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Sm(o,e),s=Sm(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Pm(e){return Yv(e,"collectionParents")}function Om(e){return Yv(e,"indexEntries")}function Lm(e){return Yv(e,"indexConfiguration")}function Rm(e){return Yv(e,"indexState")}var Mm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fm=function(){function e(t,n,r){Xi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Zi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function jm(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){wf(1===u)})));var c,l=[],f=na(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=yv(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Bv.waitFor(a).next((function(){return l}))}function Bm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bf();t=e.noDocument}return JSON.stringify(t).length}Fm.DEFAULT_COLLECTION_PERCENTILE=10,Fm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fm.DEFAULT=new Fm(41943040,Fm.DEFAULT_COLLECTION_PERCENTILE,Fm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fm.DISABLED=new Fm(-1,0,0);var Vm=function(){function e(t,n,r,i){Xi(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return Zi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zm(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qm(e),o=zm(e);return o.add({}).next((function(u){wf("number"==typeof u);var s,c=new Xv(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Xp(e.Jt,t)})),i=n.mutations.map((function(t){return Xp(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],d=new fp((function(e,t){return Mf(e.canonicalString(),t.canonicalString())})),h=na(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=yv(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gv))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),Bv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zm(e).get(t).next((function(e){return e?(wf(e.userId===n.userId),om(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?Bv.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zm(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wf(t.batchId>=r),a=om(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zm(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zm(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return om(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qm(e).Wt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],d=pv(l);if(c===n.userId&&t.path.isEqual(d))return zm(e).get(f).next((function(e){if(!e)throw bf();wf(e.userId===n.userId),a.push(om(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fp(Mf),i=[];return t.forEach((function(t){var a=mv(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=qm(e).Wt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=pv(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Bv.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mv(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new fp(Mf);return qm(e).Wt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],d=pv(l);c===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zm(e).get(t).next((function(e){if(null===e)throw bf();wf(e.userId===n.userId),r.push(om(n.M,e))})))})),Bv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return jm(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),Bv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Bv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return qm(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pv(e[1]);i.push(a)}else r.done()})).next((function(){wf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Um(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Gm(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return wf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Um(e,t,n){var r=mv(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qm(e).Wt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function zm(e){return Yv(e,"mutations")}function qm(e){return Yv(e,"documentMutations")}function Gm(e){return Yv(e,"mutationQueues")}var Km=function(){function e(t){Xi(this,e),this.wn=t}return Zi(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Wm=function(){function e(t,n){Xi(this,e),this.referenceDelegate=t,this.M=n}return Zi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Km(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return Vf.fromTimestamp(new Bf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Hm(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return wf(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Hm(e).Wt((function(o,u){var s=um(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Bv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Hm(e).Wt((function(e,n){var r=um(n);t(r)}))}},{key:"yn",value:function(e){return Qm(e).get("targetGlobalKey").next((function(e){return wf(null!==e),e}))}},{key:"pn",value:function(e,t){return Qm(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Hm(e).put(sm(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=zd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Hm(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=um(n);qd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=$m(e);return t.forEach((function(t){var o=fv(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Bv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=$m(e);return Bv.forEach(t,(function(t){var a=fv(t.path);return Bv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=$m(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$m(e),i=_p();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=pv(e[1]),a=new sd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=fv(t.path),r=IDBKeyRange.bound([n],[jf(n)],!1,!0),i=0;return $m(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Hm(e).get(t).next((function(e){return e?um(e):null}))}}]),e}();function Hm(e){return Yv(e,"targets")}function Qm(e){return Yv(e,"targetGlobal")}function $m(e){return Yv(e,"targetDocuments")}function Ym(e){return Xm.apply(this,arguments)}function Xm(){return Xm=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===kf.FAILED_PRECONDITION&&t.message===Fv){e.next=2;break}throw t;case 2:vf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Jm(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Mf(r,o);return 0===c?Mf(i,u):c}var Zm=function(){function e(t){Xi(this,e),this.En=t,this.buffer=new fp(Jm),this.An=0}return Zi(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jm(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ey=function(){function e(t,n){Xi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return Zi(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;vf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Gv(n.t0)){n.next=12;break}vf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ym(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ty=function(){function e(t,n){Xi(this,e),this.Sn=t,this.params=n}return Zi(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Bv.resolve(Of.A);var r=new Zm(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vf("LruGarbageCollector","Garbage collection skipped; disabled"),Bv.resolve(Mm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Mm):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),pf()<=qa.DEBUG&&vf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Bv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ny=function(){function e(t,n){Xi(this,e),this.db=t,this.garbageCollector=function(e,t){return new ty(e,t)}(this,n)}return Zi(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ry(e,n)}},{key:"removeReference",value:function(e,t,n){return ry(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ry(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Gm(e).zt((function(r){return Um(e,r,t).next((function(e){return e&&(n=!0),Bv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vf.min()),$m(e).delete([0,fv(o.path)])}))}));i.push(s)}})).next((function(){return Bv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ry(e,t)}},{key:"kn",value:function(e,t){var n,r=$m(e),i=Of.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Of.A&&t(new sd(pv(n)),i),i=c,n=u):i=Of.A})).next((function(){i!==Of.A&&t(new sd(pv(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ry(e,t){return $m(e).put(function(e,t){return{targetId:0,path:fv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var iy=function(){function e(){Xi(this,e),this.changes=new up((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Zi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Bv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ay=function(){function e(t){Xi(this,e),this.M=t}return Zi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return sy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return sy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],rm(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Dd.newInvalidDocument(t);return sy(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cy(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:Dd.newInvalidDocument(t)};return sy(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cy(t))},(function(e,i){r={document:n.Fn(t,i),size:Bm(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=vp();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=vp(),i=new sp(sd.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,Bm(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return Bv.resolve();var r=new fp(fy);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(cy(r.first()),cy(r.last())),a=r.getIterator(),o=a.getNext();return sy(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=sd.fromSegments([].concat(ja(t.prefixPath),[t.collectionGroup,t.documentId]));o&&fy(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(cy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),rm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sy(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=vp(),i=na(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(sd.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=vp(),o=ly(t,n),u=ly(t,jd.max());return sy(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(sd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new oy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return uy(e).get("remoteDocumentGlobalKey").next((function(e){return wf(!!e),e}))}},{key:"On",value:function(e,t){return uy(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=$p(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=sd.fromSegments(t.noDocument.path),i=am(t.noDocument.readTime);n=Dd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bf();var a=sd.fromSegments(t.unknownDocument.path),o=am(t.unknownDocument.version);n=Dd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Bf(e[0],e[1]);return Vf.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Vf.min()))return n}return Dd.newInvalidDocument(e)}}]),e}(),oy=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new up((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Zi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new fp((function(e,t){return Mf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=nm(t.qn.M,o);i=i.add(a.path.popLast());var c=Bm(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=nm(t.qn.M,o.convertToNoDocument(Vf.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),Bv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(iy);function uy(e){return Yv(e,"remoteDocumentGlobal")}function sy(e){return Yv(e,"remoteDocumentsV14")}function cy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ly(e,t){var n=t.documentKey.path.toArray();return[e,rm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function fy(e,t){var n=e.path.length-t.path.length;return 0!==n?n:sd.comparator(e,t)}var dy=function(){function e(t){Xi(this,e),this.M=t}return Zi(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Vv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vv,{unique:!0}),e.createObjectStore("documentMutations")}(e),hy(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Bv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hy(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vv,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Bv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Dv});t.createIndex("collectionPathOverlayIndex",Nv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Pv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:bv});t.createIndex("documentKeyIndex",wv),t.createIndex("collectionGroupIndex",_v)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Tv}).createIndex("sequenceNumberIndex",Cv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Iv}).createIndex("documentKeyIndex",Av,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=Bm(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Bv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Bv.forEach(r,(function(r){wf(r.userId===n.userId);var i=om(t.M,r);return jm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Kf(n),o=function(e){return[0,fv(e)]}(a);r.push(t.get(o).next((function(n){return n?Bv.resolve():function(n){return t.put({targetId:0,path:fv(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Bv.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sv});var n=t.store("collectionParents"),r=new Am,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fv(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Kf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],pv(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=um(r),a=sm(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new sd(Kf.fromString(i.document.name).popFirst(5)):i.noDocument?sd.fromSegments(i.noDocument.path):i.unknownDocument?sd.fromSegments(i.unknownDocument.path):bf()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Bv.waitFor(r)}))}}]),e}();function hy(e){e.createObjectStore("targetDocuments",{keyPath:Ev}).createIndex("documentTargetsIndex",xv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kv,{unique:!0}),e.createObjectStore("targetGlobal")}var py="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vy=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Xi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Ef(kf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ny(this,i),this.cs=n+"main",this.M=new tm(s),this.hs=new Uv(this.cs,this.Zn,new dy(this.M)),this.ls=new Wm(this.referenceDelegate,this.M),this.fs=function(e){return new ay(e)}(this.M),this.ds=new dm,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&mf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Zi(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ef(kf.FAILED_PRECONDITION,py);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Of(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=a(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yy(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(Gv(t))return vf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return my(e).get("owner").next((function(e){return Bv.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return yy(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Yv(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Bv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=na(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?Bv.resolve(!0):my(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Ef(kf.FAILED_PRECONDITION,py);return!1}}return!(!t.networkEnabled||!t.inForeground)||yy(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&vf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=a(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new $v(e,Of.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yy(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return Vm.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new Nm(e)}},{key:"getDocumentOverlayCache",value:function(e){return vm.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;vf("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?Mv:13===i?Rv:12===i?Lv:11===i?Ov:void bf();return this.hs.runTransaction(e,o,u,(function(i){return a=new $v(i,r.ts?r.ts.next():Of.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw mf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Ef(kf.FAILED_PRECONDITION,Fv);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return my(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ef(kf.FAILED_PRECONDITION,py)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return my(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=my(e);return n.get("owner").next((function(e){return t.bs(e)?(vf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Bv.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(mf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),wa()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return vf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return mf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(lu){mf("Failed to set zombie client id.",lu)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(lu){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Uv.vt()}}]),e}();function my(e){return Yv(e,"owner")}function yy(e){return Yv(e,"clientMetadata")}function gy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var by=function(){function e(t,n,r){Xi(this,e),this.fs=t,this.$s=n,this.indexManager=r}return Zi(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=na(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=na(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return sd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):hh(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new sd(t)).next((function(e){var t=yp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=yp();return this.indexManager.getCollectionParents(e,i).next((function(o){return Bv.forEach(o,(function(o){var u=function(e,t){return new oh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=na(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=na(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Dd.newInvalidDocument(s),r=r.insert(s,c)),Kh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){wh(t,n)||(r=r.remove(e))})),r}))}}]),e}(),wy=function(){function e(t,n,r,i){Xi(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return Zi(e,null,[{key:"Js",value:function(t,n){var r,i=_p(),a=_p(),o=na(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_y=function(){function e(){Xi(this,e)}return Zi(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Vf.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(ch(t)||lh(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(pf()<=qa.DEBUG&&vf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bh(t)),i.Xs.Ks(e,t,Md(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new fp(kh(e));return t.forEach((function(t,r){wh(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return pf()<=qa.DEBUG&&vf("QueryEngine","Using full collection scan to execute query:",bh(t)),this.Xs.Ks(e,t,jd.min())}}]),e}(),ky=function(){function e(t,n,r,i){Xi(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new sp(Mf),this.ii=new up((function(e){return zd(e)}),qd),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return Zi(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new by(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function Ey(e,t,n,r){return new ky(e,t,n,r)}function xy(e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=a(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=_p(),s=na(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=na(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=na(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=na(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ty(e,t){var n=_f(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Bv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function Cy(e){var t=_f(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function Iy(e,t){var n=_f(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken($f.EMPTY_BYTE_STRING,Vf.min()).withLastLimboFreeSnapshotVersion(Vf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=vp();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ay(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Vf.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Bv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Ay(e,t,n){var r=_p();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=vp();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Vf.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):vf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Dy(e,t){var n=_f(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function Ny(e,t){var n=_f(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,Bv.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new em(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Py(e,t,n){return Oy.apply(this,arguments)}function Oy(){return Oy=a(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_f(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gv(e.t1)){e.next=12;break}throw e.t1;case 12:vf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Oy.apply(this,arguments)}function Ly(e,t,n){var r=_f(e),i=Vf.min(),a=_p();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=_f(e),i=r.ii.get(n);return void 0!==i?Bv.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,vh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:Vf.min(),n?a:_p())})).next((function(e){return Fy(r,_h(t),e),{documents:e,hi:a}}))}))}function Ry(e,t){var n=_f(e),r=_f(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function My(e,t){var n=_f(e),r=n.ri.get(t)||Vf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,Md(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fy(n,t,e),e}))}function Fy(e,t,n){var r=Vf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function jy(e,t,n,r){return By.apply(this,arguments)}function By(){return By=a(l().mark((function e(t,n,r,i){var a,o,u,s,c,f,d,h,p,v;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=_f(t),o=_p(),u=vp(),s=na(r);try{for(s.s();!(c=s.n()).done;)f=c.value,d=n.li(f.metadata.name),f.document&&(o=o.add(d)),(h=n.fi(f)).setReadTime(n.di(f.metadata.readTime)),u=u.insert(d,h)}catch(l){s.e(l)}finally{s.f()}return p=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Ny(a,function(e){return vh(sh(Kf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ay(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.ls.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function Vy(e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=a(l().mark((function e(t,n){var r,i,a,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:_p(),e.next=3,Ny(t,vh(cm(n.bundledQuery)));case 3:return i=e.sent,a=_f(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Bp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken($f.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Uy.apply(this,arguments)}var zy=function(){function e(t){Xi(this,e),this.M=t,this._i=new Map,this.wi=new Map}return Zi(e,[{key:"getBundleMetadata",value:function(e,t){return Bv.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Bp(n.createTime)}),Bv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Bv.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:cm(e.bundledQuery),readTime:Bp(e.readTime)}}(t)),Bv.resolve()}}]),e}(),qy=function(){function e(){Xi(this,e),this.overlays=new sp(sd.comparator),this.mi=new Map}return Zi(e,[{key:"getOverlay",value:function(e,t){return Bv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Bv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),Bv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=gp(),i=t.length+1,a=new sd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Bv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new sp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=gp(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=gp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Bv.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Zv(t,n));var a=this.mi.get(t);void 0===a&&(a=_p(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Gy=function(){function e(){Xi(this,e),this.gi=new fp(Ky.yi),this.pi=new fp(Ky.Ii)}return Zi(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ky(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Ky(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new sd(new Kf([])),r=new Ky(n,e),i=new Ky(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new sd(new Kf([])),n=new Ky(t,e),r=new Ky(t,e+1),i=_p();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ky(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ky=function(){function e(t,n){Xi(this,e),this.key=t,this.Vi=n}return Zi(e,null,[{key:"yi",value:function(e,t){return sd.comparator(e.key,t.key)||Mf(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Mf(e.Vi,t.Vi)||sd.comparator(e.key,t.key)}}]),e}(),Wy=function(){function e(t,n){Xi(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new fp(Ky.yi)}return Zi(e,[{key:"checkEmpty",value:function(e){return Bv.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Xv(i,t,n,r);this.$s.push(a);var o,u=na(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Ky(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Bv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Bv.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return Bv.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Bv.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return Bv.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ky(t,0),i=new Ky(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),Bv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new fp(Mf);return t.forEach((function(e){var t=new Ky(e,0),i=new Ky(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),Bv.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;sd.isDocumentKey(i)||(i=i.child(""));var a=new Ky(new sd(i),0),o=new fp(Mf);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),Bv.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wf(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return Bv.forEach(t.mutations,(function(i){var a=new Ky(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ky(t,0),r=this.Si.firstAfterOrEqual(n);return Bv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,Bv.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),Hy=function(){function e(t){Xi(this,e),this.ki=t,this.docs=new sp(sd.comparator),this.size=0}return Zi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Bv.resolve(n?n.document.mutableCopy():Dd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=vp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dd.newInvalidDocument(e))})),Bv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=vp(),i=new sd(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Bd(Fd(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Bv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bf()}},{key:"Mi",value:function(e,t){return Bv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qy(this)}},{key:"getSize",value:function(e){return Bv.resolve(this.size)}}]),e}(),Qy=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).qn=e,r}return Zi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),Bv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(iy),$y=function(){function e(t){Xi(this,e),this.persistence=t,this.Oi=new up((function(e){return zd(e)}),qd),this.lastRemoteSnapshotVersion=Vf.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Gy,this.targetCount=0,this.Bi=Km.mn()}return Zi(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),Bv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Bv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Bv.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),Bv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),Bv.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Km(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,Bv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),Bv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,Bv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Bv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Bv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return Bv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),Bv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Bv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),Bv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return Bv.resolve(n)}},{key:"containsKey",value:function(e,t){return Bv.resolve(this.$i.containsKey(t))}}]),e}(),Yy=function(){function e(t,n){var r=this;Xi(this,e),this.Li={},this.overlays={},this.ts=new Of(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new $y(this),this.indexManager=new Im,this.fs=new Hy((function(e){return r.referenceDelegate.Ui(e)})),this.M=new tm(n),this.ds=new zy(this.M)}return Zi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Wy(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;vf("MemoryPersistence","Starting transaction:",e);var i=new Xy(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return Bv.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Xy=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Zi(n)}(jv),Jy=function(){function e(t){Xi(this,e),this.persistence=t,this.Qi=new Gy,this.ji=null}return Zi(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw bf()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),Bv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),Bv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),Bv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bv.forEach(this.zi,(function(r){var i=sd.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,Vf.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return Bv.or([function(){return Bv.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Zy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function eg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function tg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ng=function(){function e(t,n,r,i){Xi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Zi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ef(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(mf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),rg=function(){function e(t,n,r){Xi(this,e),this.targetId=t,this.state=n,this.error=r}return Zi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ef(i.error.code,i.error.message))),a?new e(t,i.state,r):(mf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ig=function(){function e(t,n){Xi(this,e),this.clientId=t,this.activeTargetIds=n}return Zi(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ep(),o=0;i&&o<r.activeTargetIds.length;++o)i=ud(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(mf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ag=function(){function e(t,n){Xi(this,e),this.clientId=t,this.onlineState=n}return Zi(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(mf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),og=function(){function e(){Xi(this,e),this.activeTargetIds=Ep()}return Zi(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ug=function(){function e(t,n,r,i,a){Xi(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new sp(Mf),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Zy(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new og),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Zi(e,[{key:"start",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a,o,u,s,c,f,d,h=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=na(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Zy(this.persistenceKey,i)))&&(o=ig.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=na(this.ir);try{for(c.s();!(f=c.n()).done;)d=f.value,this.nr(d)}catch(l){c.e(l)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tg(this.persistenceKey,e));if(n){var r=rg.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(tg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return vf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){vf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){vf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void mf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(a(l().mark((function e(){var r,i,a,o,u,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Of.A;if(null!=e)try{var n=JSON.parse(e);wf("number"==typeof n),t=n}catch(e){mf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Of.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new ng(this.currentUser,e,t,n),i=eg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=eg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=tg(this.persistenceKey,e),i=new rg(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ig.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ng.Ji(new ff(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return rg.Ji(r,t)}},{key:"wr",value:function(e){return ag.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:vf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Ep();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sg=function(){function e(){Xi(this,e),this.Fr=new og,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Zi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new og,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),cg=function(){function e(){Xi(this,e)}return Zi(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lg=function(){function e(){var t=this;Xi(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return Zi(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){vf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=na(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){vf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=na(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dg=function(){function e(t){Xi(this,e),this.jr=t.jr,this.Wr=t.Wr}return Zi(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),hg=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Zi(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new cf;o.listenOnce(rf.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case nf.NO_ERROR:var t=o.getResponseJson();vf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nf.TIMEOUT:vf("Connection",'RPC "'+e+'" timed out'),a(new Ef(kf.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:var n=o.getStatus();if(vf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kf).indexOf(t)>=0?t:kf.UNKNOWN}(r.status);a(new Ef(u,r.message))}else a(new Ef(kf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ef(kf.UNAVAILABLE,"Connection failed."));break;default:bf()}}finally{vf("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ef(),a=tf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new uf({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ba())||"object"===typeof navigator&&"ReactNative"===navigator.product||ba().indexOf("Electron/")>=0||function(){var e=ba();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||ba().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");vf("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new dg({jr:function(e){l?vf("Connection","Not sending because WebChannel is closed:",e):(c||(vf("Connection","Opening WebChannel transport."),s.open(),c=!0),vf("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,sf.EventType.OPEN,(function(){l||vf("Connection","WebChannel transport opened.")})),d(s,sf.EventType.CLOSE,(function(){l||(l=!0,vf("Connection","WebChannel transport closed"),f.eo())})),d(s,sf.EventType.ERROR,(function(e){l||(l=!0,yf("Connection","WebChannel transport errored:",e),f.eo(new Ef(kf.UNAVAILABLE,"The operation could not be completed")))})),d(s,sf.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];wf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){vf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ep[e];if(void 0!==t)return op(t)}(a),u=i.message;void 0===o&&(o=kf.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Ef(o,u)),s.close()}else vf("Connection","WebChannel received:",n),f.no(n)}})),d(a,af.STAT_EVENT,(function(e){e.stat===of.PROXY?vf("Connection","Detected buffering proxy"):e.stat===of.NOPROXY&&vf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Xi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Zi(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);vf("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return vf("RestConnection","Received: ",e),e}),(function(t){throw yf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+df,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=fg[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function pg(){return"undefined"!=typeof window?window:null}function vg(){return"undefined"!=typeof document?document:null}function mg(e){return new Rp(e,!0)}var yg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Xi(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Zi(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&vf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),gg=function(){function e(t,n,r,i,a,o,u,s){Xi(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new yg(t,n)}return Zi(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===kf.RESOURCE_EXHAUSTED?(mf(n.toString()),mf("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===kf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Ef(kf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return vf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(vf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bg=function(e){aa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return Xi(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Zi(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(wf(void 0===t||"string"==typeof t),$f.fromBase64String(t||"")):(wf(void 0===t||t instanceof Uint8Array),$f.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?kf.UNKNOWN:op(e.code);return new Ef(t,e.message||"")}(o);n=new Ip(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=qp(e,s.document.name),l=Bp(s.document.updateTime),f=new Id({mapValue:{fields:s.document.fields}}),d=Dd.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Tp(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=qp(e,v.document),y=v.readTime?Bp(v.readTime):Vf.min(),g=Dd.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Tp([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=qp(e,w.document),k=w.removedTargetIds||[];n=new Tp([],k,_,null)}else{if(!("filter"in t))return bf();t.filter;var E=t.filter;E.targetId;var x=E.count||0,S=new ip(x),T=E.targetId;n=new Cp(T,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Vf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vf.min():t.readTime?Bp(t.readTime):Vf.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Wp(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Gd(r)?{documents:Zp(e,r)}:{query:ev(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Fp(e,t.resumeToken):t.snapshotVersion.compareTo(Vf.min())>0&&(n.readTime=Mp(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Wp(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(gg),wg=function(e){aa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return Xi(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return Zi(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,$o(oa(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(wf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(wf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Bp(e.updateTime):Bp(t);return n.isEqual(Vf.min())&&(n=Bp(t)),new Vh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Bp(e.commitTime);return this.listener.Jo(n,t)}return wf(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Wp(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xp(t.M,e)}))};this.Oo(n)}}]),n}(gg),_g=function(e){aa(n,e);var t=la(n);function n(e,r,i,a){var o;return Xi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return Zi(n,[{key:"tu",value:function(){if(this.Zo)throw new Ef(kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ef(kf.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ef(kf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Zi((function e(){Xi(this,e)}))}()),kg=function(){function e(t,n){Xi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Zi(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(mf(t),this.su=!1):vf("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Eg=Zi((function e(t,n,r,i,o){var u=this;Xi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br((function(e){r.enqueueAndForget(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Lg(u),!e.t0){e.next=5;break}return vf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=_f(t)).lu.add(4),e.next=4,Tg(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,xg(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new kg(r,i)}));function xg(e){return Sg.apply(this,arguments)}function Sg(){return Sg=a(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lg(t)){e.next=18;break}n=na(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sg.apply(this,arguments)}function Tg(e){return Cg.apply(this,arguments)}function Cg(){return Cg=a(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=na(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Cg.apply(this,arguments)}function Ig(e,t){var n=_f(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Og(n)?Pg(n):cb(n).Co()&&Dg(n,t))}function Ag(e,t){var n=_f(e),r=cb(n);n.hu.delete(t),r.Co()&&Ng(n,t),0===n.hu.size&&(r.Co()?r.ko():Lg(n)&&n._u.set("Unknown"))}function Dg(e,t){e.wu.Z(t.targetId),cb(e).Qo(t)}function Ng(e,t){e.wu.Z(t),cb(e).jo(t)}function Pg(e){e.wu=new Dp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),cb(e).start(),e._u.iu()}function Og(e){return Lg(e)&&!cb(e).Do()&&e.hu.size>0}function Lg(e){return 0===_f(e).lu.size}function Rg(e){e.wu=void 0}function Mg(e){return Fg.apply(this,arguments)}function Fg(){return Fg=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Dg(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fg.apply(this,arguments)}function jg(e,t){return Bg.apply(this,arguments)}function Bg(){return Bg=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rg(t),Og(t)?(t._u.uu(n),Pg(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function Vg(e,t,n){return Ug.apply(this,arguments)}function Ug(){return Ug=a(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Ip&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=na(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),vf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,zg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Tp?t.wu.ut(n):n instanceof Cp?t.wu._t(n):t.wu.ht(n),r.isEqual(Vf.min())){e.next=29;break}return e.prev=14,e.next=17,Cy(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken($f.EMPTY_BYTE_STRING,n.snapshotVersion)),Ng(e,t);var r=new em(n.target,t,1,n.sequenceNumber);Dg(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),vf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,zg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ug.apply(this,arguments)}function zg(e,t,n){return qg.apply(this,arguments)}function qg(){return qg=a(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gv(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Tg(t);case 5:t._u.set("Offline"),r||(r=function(){return Cy(t.localStore)}),t.asyncQueue.enqueueRetryable(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,xg(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Gg(e,t){return t().catch((function(n){return zg(e,n,t)}))}function Kg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=a(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_f(t),r=lb(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!Hg(n)){e.next=19;break}return e.prev=3,e.next=6,Dy(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Qg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zg(n,e.t0);case 17:e.next=2;break;case 19:$g(n)&&Yg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Wg.apply(this,arguments)}function Hg(e){return Lg(e)&&e.cu.length<10}function Qg(e,t){e.cu.push(t);var n=lb(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function $g(e){return Lg(e)&&!lb(e).Do()&&e.cu.length>0}function Yg(e){lb(e).start()}function Xg(e){return Jg.apply(this,arguments)}function Jg(){return Jg=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lb(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Zg(e){return eb.apply(this,arguments)}function eb(){return eb=a(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lb(t),r=na(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(e,t,n){return nb.apply(this,arguments)}function nb(){return nb=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Jv.from(i,n,r),e.next=3,Gg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Kg(t);case 5:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}function rb(e,t){return ib.apply(this,arguments)}function ib(){return ib=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lb(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ap(i=n.code)||i===kf.ABORTED){e.next=7;break}return r=t.cu.shift(),lb(t).No(),e.next=5,Gg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Kg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$g(t)&&Yg(t);case 5:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=_f(t)).asyncQueue.verifyOperationInProgress(),vf("RemoteStore","RemoteStore received new credentials"),i=Lg(r),r.lu.add(3),e.next=6,Tg(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,xg(r);case 12:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function ub(e,t){return sb.apply(this,arguments)}function sb(){return sb=a(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,xg(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Tg(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),sb.apply(this,arguments)}function cb(e){return e.mu||(e.mu=function(e,t,n){var r=_f(e);return r.tu(),new bg(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Mg.bind(null,e),Jr:jg.bind(null,e),Ko:Vg.bind(null,e)}),e.fu.push(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Og(e)?Pg(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Rg(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function lb(e){return e.gu||(e.gu=function(e,t,n){var r=_f(e);return r.tu(),new wg(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Xg.bind(null,e),Jr:rb.bind(null,e),Yo:Zg.bind(null,e),Jo:tb.bind(null,e)}),e.fu.push(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Kg(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(vf("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var fb=function(){function e(t,n,r,i,a){Xi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Zi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ef(kf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function db(e,t){if(mf("AsyncQueue","".concat(t,": ").concat(e)),Gv(e))return new Ef(kf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var hb=function(){function e(t){Xi(this,e),this.comparator=t?function(e,n){return t(e,n)||sd.comparator(e.key,n.key)}:function(e,t){return sd.comparator(e.key,t.key)},this.keyedMap=yp(),this.sortedSet=new sp(this.comparator)}return Zi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pb=function(){function e(){Xi(this,e),this.yu=new sp(sd.comparator)}return Zi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):bf():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vb=function(){function e(t,n,r,i,a,o,u,s){Xi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Zi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,hb.emptySet(n),a,r,i,!0,!1)}}]),e}(),mb=Zi((function e(){Xi(this,e),this.Iu=void 0,this.listeners=[]})),yb=Zi((function e(){Xi(this,e),this.queries=new up((function(e){return gh(e)}),yh),this.onlineState="Unknown",this.Tu=new Set}));function gb(e,t){return bb.apply(this,arguments)}function bb(){return bb=a(l().mark((function e(t,n){var r,i,a,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mb),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=db(e.t0,"Initialization of query '".concat(bh(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&xb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bb.apply(this,arguments)}function wb(e,t){return _b.apply(this,arguments)}function _b(){return _b=a(l().mark((function e(t,n){var r,i,a,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function kb(e,t){var n,r=_f(e),i=!1,a=na(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=na(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&xb(r)}function Eb(e,t,n){var r=_f(e),i=r.queries.get(t);if(i){var a,o=na(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function xb(e){e.Tu.forEach((function(e){e.next()}))}var Sb=function(){function e(t,n,r){Xi(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Zi(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=na(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=vb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Tb=function(){function e(t,n){Xi(this,e),this.payload=t,this.byteLength=n}return Zi(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Cb=function(){function e(t){Xi(this,e),this.M=t}return Zi(e,[{key:"li",value:function(e){return qp(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?$p(this.M,e.document,!1):Dd.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Bp(e)}}]),e}(),Ib=function(){function e(t,n,r){Xi(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ab(t)}return Zi(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Kf.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Cb(this.M),i=na(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=na(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||_p()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jy(this.localStore,new Cb(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=na(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Vy(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ab(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Db=Zi((function e(t){Xi(this,e),this.key=t})),Nb=Zi((function e(t){Xi(this,e),this.key=t})),Pb=function(){function e(t,n){Xi(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=_p(),this.mutatedKeys=_p(),this.Lu=kh(t),this.Uu=new hb(this.Lu)}return Zi(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new pb,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=ch(this.query)&&i.size===this.query.limit?i.last():null,c=lh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wh(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ch(this.query)||lh(this.query))for(;o.size>this.query.limit;){var l=ch(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bf()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new vb(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new pb,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=_p(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Nb(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Db(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=_p();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return vb.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Ob=Zi((function e(t,n,r){Xi(this,e),this.query=t,this.targetId=n,this.view=r})),Lb=Zi((function e(t){Xi(this,e),this.key=t,this.Xu=!1})),Rb=function(){function e(t,n,r,i,a,o){Xi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new up((function(e){return gh(e)}),yh),this.ea=new Map,this.na=new Set,this.sa=new sp(sd.comparator),this.ia=new Map,this.ra=new Gy,this.oa={},this.ua=new Map,this.aa=Km.gn(),this.onlineState="Unknown",this.ca=void 0}return Zi(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function Mb(e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=a(l().mark((function e(t,n){var r,i,a,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Aw(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Ny(r.localStore,vh(n));case 8:return u=e.sent,r.isPrimaryClient&&Ig(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,jb(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Fb.apply(this,arguments)}function jb(e,t,n,r){return Bb.apply(this,arguments)}function Bb(){return Bb=a(l().mark((function e(t,n,r,i){var o,u,s,c,f,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=a(l().mark((function e(t,n,r,i){var a,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Ly(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(aw(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ly(t.localStore,n,!0);case 3:return o=e.sent,u=new Pb(n,o.hi),s=u.Gu(o.documents),c=Sp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=u.applyChanges(s,t.isPrimaryClient,c),aw(t,r,f.zu),d=new Ob(n,r,u),e.abrupt("return",(t.ta.set(n,d),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function Vb(e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_f(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!yh(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Py(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ag(r.remoteStore,i.targetId),rw(r,i.targetId)})).catch(Ym);case 9:e.next=14;break;case 11:return rw(r,i.targetId),e.next=14,Py(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function zb(e,t,n){return qb.apply(this,arguments)}function qb(){return qb=a(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dw(t),e.prev=1,e.next=4,function(e,t){var n,r=_f(e),i=Bf.now(),a=t.reduce((function(e,t){return e.add(t.key)}),_p());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=na(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Wh(c,n.get(c.key));null!=l&&u.push(new Yh(c.key,l,Ad(l.value.mapValue),Uh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new sp(Mf)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,sw(i,a.changes);case 9:return e.next=11,Kg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=db(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qb.apply(this,arguments)}function Gb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.prev=1,e.next=4,Iy(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(wf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?wf(n.Xu):e.removedDocuments.size>0&&(wf(n.Xu),n.Xu=!1))})),e.next=8,sw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ym(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Kb.apply(this,arguments)}function Wb(e,t,n){var r=_f(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=_f(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=na(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xb(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Hb(e,t,n){return Qb.apply(this,arguments)}function Qb(){return Qb=a(l().mark((function e(t,n,r){var i,a,o,u,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=_f(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new sp(sd.comparator)).insert(o,Dd.newNoDocument(o,Vf.min())),s=_p().add(o),c=new xp(Vf.min(),new Map,new fp(Mf),u,s),e.next=9,Gb(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),uw(i),e.next=16;break;case 14:return e.next=16,Py(i.localStore,n,!1).then((function(){return rw(i,n,r)})).catch(Ym);case 16:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function $b(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=n.batch.batchId,e.prev=1,e.next=4,Ty(r.localStore,n);case 4:return a=e.sent,nw(r,i,null),tw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,sw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Yb.apply(this,arguments)}function Xb(e,t,n){return Jb.apply(this,arguments)}function Jb(){return Jb=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_f(t),e.prev=1,e.next=4,function(e,t){var n=_f(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return wf(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,nw(i,n,r),tw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,sw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ym(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Jb.apply(this,arguments)}function Zb(e,t){return ew.apply(this,arguments)}function ew(){return ew=a(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lg((r=_f(t)).remoteStore)||vf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=_f(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=db(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ew.apply(this,arguments)}function tw(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function nw(e,t,n){var r=_f(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function rw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=na(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||iw(e,t)}))}function iw(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(Ag(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),uw(e))}function aw(e,t,n){var r,i=na(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Db?(e.ra.addReference(a.key,t),ow(e,a)):a instanceof Nb?(vf("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||iw(e,a.key)):bf()}}catch(o){i.e(o)}finally{i.f()}}function ow(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(vf("SyncEngine","New document in limbo: "+n),e.na.add(r),uw(e))}function uw(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new sd(Kf.fromString(t)),r=e.aa.next();e.ia.set(r,new Lb(n)),e.sa=e.sa.insert(n,r),Ig(e.remoteStore,new em(vh(sh(n.path)),r,2,Of.A))}}function sw(e,t,n){return cw.apply(this,arguments)}function cw(){return cw=a(l().mark((function e(t,n,r){var i,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_f(t),o=[],u=[],s=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){s.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=wy.Js(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Ko(o),e.next=9,function(){var e=a(l().mark((function e(t,n){var r,i,a,o,u,s,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Bv.forEach(n,(function(t){return Bv.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Bv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gv(e.t0)){e.next=10;break}throw e.t0;case 10:vf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=na(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,f=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,f))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=_f(t)).currentUser.isEqual(n)){e.next=11;break}return vf("SyncEngine","User change. New user:",n.toKey()),e.next=5,xy(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Ef(kf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,sw(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function dw(e,t){var n=_f(e),r=n.ia.get(t);if(r&&r.Xu)return _p().add(r.key);var i=_p(),a=n.ea.get(t);if(!a)return i;var o,u=na(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function hw(e,t){return pw.apply(this,arguments)}function pw(){return pw=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.next=3,Ly(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&aw(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=a(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),e.abrupt("return",My(r.localStore,n).then((function(e){return sw(r,e)})));case 2:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}function yw(e,t,n,r){return gw.apply(this,arguments)}function gw(){return gw=a(l().mark((function e(t,n,r,i){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_f(t),e.next=3,function(e,t){var n=_f(e),r=_f(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):Bv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Kg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(nw(a,n,i||null),tw(a,n),function(e,t){_f(_f(e).$s).dn(t)}(a.localStore,n)):bf();case 11:return e.next=13,sw(a,o);case 13:e.next=16;break;case 15:vf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function bw(e,t){return ww.apply(this,arguments)}function ww(){return ww=a(l().mark((function e(t,n){var r,i,a,o,u,s,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Aw(r=_f(t)),Dw(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,_w(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,ub(r.remoteStore,!0);case 9:o=na(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Ig(r.remoteStore,s)}catch(l){o.e(l)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],f=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):f=f.then((function(){return rw(r,t),Py(r.localStore,t,!0)})),Ag(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,_w(r,c);case 21:return function(e){var t=_f(e);t.ia.forEach((function(e,n){Ag(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new sp(sd.comparator)}(r),r.ca=!1,e.next=25,ub(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function _w(e,t,n){return kw.apply(this,arguments)}function kw(){return kw=a(l().mark((function e(t,n,r){var i,a,o,u,s,c,f,d,h,p,v,m,y,g;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=_f(t),a=[],o=[],u=na(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,f=void 0,!(d=i.ea.get(c))||0===d.length){e.next=34;break}return e.next=11,Ny(i.localStore,vh(d[0]));case 11:f=e.sent,h=na(d),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,m=i.ta.get(v),e.next=20,hw(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ry(i.localStore,c);case 36:return g=e.sent,e.next=39,Ny(i.localStore,g);case 39:return f=e.sent,e.next=42,jb(i,Ew(g),c,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kw.apply(this,arguments)}function Ew(e){return uh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xw(e){var t=_f(e);return _f(_f(t.localStore).persistence).Os()}function Sw(e,t,n,r){return Tw.apply(this,arguments)}function Tw(){return Tw=a(l().mark((function e(t,n,r,i){var a,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=_f(t)).ca){e.next=3;break}return e.abrupt("return",void vf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,My(a.localStore,_h(o[0]));case 10:return u=e.sent,s=xp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,sw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Py(a.localStore,n,!0);case 17:return rw(a,n,i),e.abrupt("break",20);case 19:bf();case 20:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e,t,n){return Iw.apply(this,arguments)}function Iw(){return Iw=a(l().mark((function e(t,n,r){var i,a,o,u,s,c,f,d,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Aw(t)).ca){e.next=45;break}a=na(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return vf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Ry(i.localStore,u);case 12:return s=e.sent,e.next=15,Ny(i.localStore,s);case 15:return c=e.sent,e.next=18,jb(i,Ew(s),c.targetId,!1);case 18:Ig(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=na(r),e.prev=30,h=l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,Py(i.localStore,t,!1).then((function(){Ag(i.remoteStore,t),rw(i,t)})).catch(Ym);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((d=f.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Iw.apply(this,arguments)}function Aw(e){var t=_f(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hb.bind(null,t),t.Zu.Ko=kb.bind(null,t.eventManager),t.Zu.la=Eb.bind(null,t.eventManager),t}function Dw(e){var t=_f(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$b.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xb.bind(null,t),t}function Nw(e,t,n){var r=_f(e);(function(){var e=a(l().mark((function e(t,n,r){var i,a,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=_f(e),r=Bp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Ab(i)),a=new Ib(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,sw(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=_f(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Pw=function(){function e(){Xi(this,e),this.synchronizeTabs=!1}return Zi(e,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=mg(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return Ey(this.persistence,new _y,e.initialUser,this.M)}},{key:"_a",value:function(e){return new Yy(Jy.Wi,this.M)}},{key:"da",value:function(e){return new sg}},{key:"terminate",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ow=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Zi(n,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(oa(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,Dw(this.ga.syncEngine);case 6:return e.next=8,Kg(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return Ey(this.persistence,new _y,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ey(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=gy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fm.withCacheSize(this.cacheSizeBytes):Fm.DEFAULT;return new vy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pg(),vg(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new sg}}]),n}(Pw),Lw=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Zi(n,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){var r,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(oa(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof ug,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:yw.bind(null,r),Mr:Sw.bind(null,r),Or:Cw.bind(null,r),Os:xw.bind(null,r),Nr:vw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bw(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=pg();if(!ug.vt(t))throw new Ef(kf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ug(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Ow),Rw=function(){function e(){Xi(this,e)}return Zi(e,[{key:"initialize",value:function(){var e=a(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Wb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lw.bind(null,this.syncEngine),e.next=12,ub(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yb}},{key:"createDatastore",value:function(e){var t,n=mg(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hg(t));return function(e,t,n,r){return new _g(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Wb(o.syncEngine,e,0)},a=lg.vt()?new lg:new cg,new Eg(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Rb(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_f(t),vf("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Tg(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Mw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return a(l().mark((function r(){var i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fw=function(){function e(t){Xi(this,e),this.observer=t,this.muted=!1}return Zi(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jw=function(){function e(t,n){var r=this;Xi(this,e),this.Ia=t,this.M=n,this.metadata=new xf,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Zi(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=a(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Tb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bw=function(){function e(t){Xi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Zi(e,[{key:"lookup",value:function(){var e=a(l().mark((function e(t){var n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ef(kf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i,a,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=Wp(r.M)+"/documents",a={documents:n.map((function(e){return zp(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Yp(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());wf(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new np(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=a(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=sd.fromPath(t);n.mutations.push(new rp(r,n.precondition(r)))})),e.next=7,function(){var e=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_f(t),i=Wp(r.M)+"/documents",a={writes:n.map((function(e){return Xp(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bf();t=Vf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ef(kf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Uh.updateTime(t):Uh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vf.min()))throw new Ef(kf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uh.updateTime(t)}return Uh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Vw=function(){function e(t,n,r,i){Xi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new yg(this.asyncQueue,"transaction_retry")}return Zi(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Bw(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!ad(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ap(t)}return!1}}]),e}(),Uw=function(){function e(t,n,r,i){var o=this;Xi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ff.UNAUTHENTICATED,this.clientId=Rf.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vf("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return vf("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return Zi(e,[{key:"getConfiguration",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ef(kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=db(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zw(e,t){return qw.apply(this,arguments)}function qw(){return qw=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),vf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,xy(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Gw(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ww(t);case 3:return r=e.sent,vf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ab(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ab(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Ww(e){return Hw.apply(this,arguments)}function Hw(){return Hw=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return vf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zw(t,new Pw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Qw(e){return $w.apply(this,arguments)}function $w(){return $w=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return vf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Gw(t,new Rw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Yw(e){return Ww(e).then((function(e){return e.persistence}))}function Xw(e){return Ww(e).then((function(e){return e.localStore}))}function Jw(e){return Qw(e).then((function(e){return e.remoteStore}))}function Zw(e){return Qw(e).then((function(e){return e.syncEngine}))}function e_(e){return t_.apply(this,arguments)}function t_(){return t_=a(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Mb.bind(null,n.syncEngine),r.onUnlisten=Vb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fw({next:function(a){t.enqueueAndForget((function(){return wb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ef(kf.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ef(kf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Sb(sh(n.path),a,{includeMetadataChanges:!0,Du:!0});return gb(e,o)},i.next=3,e_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function r_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fw({next:function(n){t.enqueueAndForget((function(){return wb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ef(kf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Sb(n,a,{includeMetadataChanges:!0,Du:!0});return gb(e,o)},i.next=3,e_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var i_=new Map;function a_(e,t,n){if(!n)throw new Ef(kf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function o_(e,t,n,r){if(!0===t&&!0===r)throw new Ef(kf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function u_(e){if(!sd.isDocumentKey(e))throw new Ef(kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function s_(e){if(sd.isDocumentKey(e))throw new Ef(kf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function c_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bf()}function l_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ef(kf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=c_(e);throw new Ef(kf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function f_(e,t){if(t<=0)throw new Ef(kf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var d_=function(){function e(t){var n;if(Xi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ef(kf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ef(kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,o_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Zi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),h_=function(){function e(t,n,r){Xi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d_({}),this._settingsFrozen=!1,t instanceof id?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ef(kf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new id(e.options.projectId)}(t))}return Zi(e,[{key:"app",get:function(){if(!this._app)throw new Ef(kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ef(kf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tf;switch(e.type){case"gapi":var t=e.client;return wf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Df(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ef(kf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=i_.get(e);t&&(vf("ComponentProvider","Removing Datastore"),i_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function p_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=l_(e,h_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&yf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ff.MOCK_USER;else{o=ga(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ef(kf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ff(s)}e._authCredentials=new Cf(new Sf(o,u))}}var v_=function(){function e(t,n,r){Xi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Zi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new y_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),m_=function(){function e(t,n,r){Xi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Zi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),y_=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,e,r,sh(i)))._path=i,a.type="collection",a}return Zi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new v_(this.firestore,null,new sd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(m_);function g_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pa(e),a_("collection","path",t),e instanceof h_){var a=Kf.fromString.apply(Kf,[t].concat(r));return s_(a),new y_(e,null,a)}if(!(e instanceof v_||e instanceof y_))throw new Ef(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kf.fromString.apply(Kf,[t].concat(r)));return s_(o),new y_(e.firestore,null,o)}function b_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pa(e),1===arguments.length&&(t=Rf.R()),a_("doc","path",t),e instanceof h_){var a=Kf.fromString.apply(Kf,[t].concat(r));return u_(a),new v_(e,null,new sd(a))}if(!(e instanceof v_||e instanceof y_))throw new Ef(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Kf.fromString.apply(Kf,[t].concat(r)));return u_(o),new v_(e.firestore,e instanceof y_?e.converter:null,new sd(o))}function w_(e,t){return e=Pa(e),t=Pa(t),(e instanceof v_||e instanceof y_)&&(t instanceof v_||t instanceof y_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function __(e,t){return e=Pa(e),t=Pa(t),e instanceof m_&&t instanceof m_&&e.firestore===t.firestore&&yh(e._query,t._query)&&e.converter===t.converter}var k_=function(){function e(){var t=this;Xi(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new yg(this,"async_queue_retry"),this.Ua=function(){var e=vg();e&&vf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=vg();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return Zi(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new xf;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=a(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gv(e.t0)){e.next=12;break}throw e.t0;case 12:vf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw mf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=fb.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&bf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=na(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=na(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function E_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=na(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var x_=function(){function e(){Xi(this,e),this._progressObserver={},this._taskCompletionResolver=new xf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Zi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),S_=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new k_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Zi(n,[{key:"_terminate",value:function(){return this._firestoreClient||C_(this),this._firestoreClient.terminate()}}]),n}(h_);function T_(e){return e._firestoreClient||C_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function C_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new rd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Uw(e._authCredentials,e._appCheckCredentials,e._queue,r)}function I_(e,t,n){var r=new xf;return e.asyncQueue.enqueue(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zw(e,n);case 3:return i.next=5,Gw(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===kf.FAILED_PRECONDITION||e.code===kf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function A_(e){return function(e){return e.asyncQueue.enqueue(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yw(e);case 2:return n=t.sent,t.next=5,Jw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=_f(e);return t.lu.delete(0),xg(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(T_(e=l_(e,S_)))}function D_(e){return function(e){return e.asyncQueue.enqueue(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Yw(e);case 2:return n=t.sent,t.next=5,Jw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=_f(t)).lu.add(0),e.next=4,Tg(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(T_(e=l_(e,S_)))}function N_(e,t){var n=T_(e=l_(e,S_)),r=new x_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Mw(e,t);if(e instanceof ArrayBuffer)return Mw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mg(t));e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nw,t.next=3,Zw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function P_(e,t){return function(e,t){return e.asyncQueue.enqueue(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=_f(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,Xw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(T_(e=l_(e,S_)),t).then((function(t){return t?new m_(e,null,t.query):null}))}function O_(e){if(e._initialized||e._terminated)throw new Ef(kf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var L_=function(){function e(){Xi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ef(kf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hf(n)}return Zi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var R_=function(){function e(t){Xi(this,e),this._byteString=t}return Zi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($f.fromBase64String(t))}catch(t){throw new Ef(kf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($f.fromUint8Array(t))}}]),e}(),M_=Zi((function e(t){Xi(this,e),this._methodName=t})),F_=function(){function e(t,n){if(Xi(this,e),!isFinite(t)||t<-90||t>90)throw new Ef(kf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ef(kf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Zi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mf(this._lat,e._lat)||Mf(this._long,e._long)}}]),e}(),j_=/^__.*__$/,B_=function(){function e(t,n,r){Xi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms):new $h(e,this.data,t,this.fieldTransforms)}}]),e}(),V_=function(){function e(t,n,r){Xi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zi(e,[{key:"toMutation",value:function(e,t){return new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function U_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bf()}}var z_=function(){function e(t,n,r,i,a,o){Xi(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Zi(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return sk(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(U_(this.Ya)&&j_.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),q_=function(){function e(t,n,r){Xi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||mg(t)}return Zi(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new z_({Ya:e,methodName:t,oc:n,path:Hf.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function G_(e){var t=e._freezeSettings(),n=mg(e._databaseId);return new q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function K_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);ik("Data must be an object, but it was:",o,r);var u,s,c=nk(r,o);if(a.merge)u=new Qf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=na(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=ak(t,h,n);if(!o.contains(p))throw new Ef(kf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ck(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Qf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new B_(new Id(c),u,s)}var W_=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(M_);function H_(e,t,n){return new z_({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Q_=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"_toFieldTransform",value:function(e){return new Bh(e.path,new Nh)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(M_),$_=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e)).ac=r,i}return Zi(n,[{key:"_toFieldTransform",value:function(e){var t=H_(this,e,!0),n=this.ac.map((function(e){return tk(e,t)})),r=new Ph(n);return new Bh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_),Y_=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e)).ac=r,i}return Zi(n,[{key:"_toFieldTransform",value:function(e){var t=H_(this,e,!0),n=this.ac.map((function(e){return tk(e,t)})),r=new Lh(n);return new Bh(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_),X_=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e)).cc=r,i}return Zi(n,[{key:"_toFieldTransform",value:function(e){var t=new Mh(e.M,Th(e.M,this.cc));return new Bh(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(M_);function J_(e,t,n,r){var i=e.uc(1,t,n);ik("Data must be an object, but it was:",i,r);var a=[],o=Id.empty();zf(r,(function(e,r){var u=uk(t,e,n);r=Pa(r);var s=i.nc(u);if(r instanceof W_)a.push(u);else{var c=tk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qf(a);return new V_(o,u,i.fieldTransforms)}function Z_(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[ak(t,r,n)],s=[i];if(a.length%2!=0)throw new Ef(kf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ak(t,a[c])),s.push(a[c+1]);for(var l=[],f=Id.empty(),d=u.length-1;d>=0;--d)if(!ck(l,u[d])){var h=u[d],p=s[d];p=Pa(p);var v=o.nc(h);if(p instanceof W_)l.push(h);else{var m=tk(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Qf(l);return new V_(f,y,o.fieldTransforms)}function ek(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tk(n,e.uc(r?4:3,t))}function tk(e,t){if(rk(e=Pa(e)))return ik("Unsupported field value:",t,e),nk(e,t);if(e instanceof M_)return function(e,t){if(!U_(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=na(e);try{for(a.s();!(n=a.n()).done;){var o=tk(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Pa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Th(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bf.fromDate(e);return{timestampValue:Mp(t.M,n)}}if(e instanceof Bf){var r=new Bf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mp(t.M,r)}}if(e instanceof F_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof R_)return{bytesValue:Fp(t.M,e._byteString)};if(e instanceof v_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(c_(e)))}(e,t)}function nk(e,t){var n={};return qf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zf(e,(function(e,r){var i=tk(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bf||e instanceof F_||e instanceof R_||e instanceof v_||e instanceof M_)}function ik(e,t,n){if(!rk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=c_(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function ak(e,t,n){if((t=Pa(t))instanceof L_)return t._internalPath;if("string"==typeof t)return uk(e,t);throw sk("Field path arguments must be of type string or ",e,!1,void 0,n)}var ok=new RegExp("[~\\*/\\[\\]]");function uk(e,t,n){if(t.search(ok)>=0)throw sk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return fa(L_,ja(t.split(".")))._internalPath}catch(r){throw sk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ef(kf.INVALID_ARGUMENT,u+e+s)}function ck(e,t){return e.some((function(e){return e.isEqual(t)}))}var lk=function(){function e(t,n,r,i,a){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Zi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new v_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(dk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fk=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"data",value:function(){return $o(oa(n.prototype),"data",this).call(this)}}]),n}(lk);function dk(e,t){return"string"==typeof t?uk(e,t):t instanceof L_?t._internalPath:t._delegate._internalPath}var hk=function(){function e(t,n){Xi(this,e),this.hasPendingWrites=t,this.fromCache=n}return Zi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pk=function(e){aa(n,e);var t=la(n);function n(e,r,i,a,o,u){var s;return Xi(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Zi(n,[{key:"exists",value:function(){return $o(oa(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(dk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lk),vk=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $o(oa(n.prototype),"data",this).call(this,e)}}]),n}(pk),mk=function(){function e(t,n,r,i){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hk(i.hasPendingWrites,i.fromCache),this.query=r}return Zi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vk(n._firestore,n._userDataWriter,r.key,r,new hk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ef(kf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bf()}}function gk(e,t){return e instanceof pk&&t instanceof pk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mk&&t instanceof mk&&e._firestore===t._firestore&&__(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function bk(e){if(lh(e)&&0===e.explicitOrderBy.length)throw new Ef(kf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wk=Zi((function e(){Xi(this,e)}));function _k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var kk=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return Zi(n,[{key:"_apply",value:function(e){var t=G_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ef(kf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Ok(o,a);var s,c=[],l=na(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Pk(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Pk(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ok(o,a),u=ek(n,"where",o,"in"===a||"not-in"===a);var d=Wd.create(i,a,u);return function(e,t){if(t.S()){var n=dh(e);if(null!==n&&!n.isEqual(t.field))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=fh(e);null!==r&&Lk(e,t.field,r)}var i=function(e,t){var n,r=na(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ef(kf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ef(kf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new m_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(wk);var Ek=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return Zi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nh(t,n);return function(e,t){if(null===fh(e)){var n=dh(e);null!==n&&Lk(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new m_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new oh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(wk);var xk=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return Zi(n,[{key:"_apply",value:function(e){return new m_(e.firestore,e.converter,mh(e._query,this._c,this.wc))}}]),n}(wk);var Sk=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Zi(n,[{key:"_apply",value:function(e){var t=Nk(e,this.type,this.mc,this.gc);return new m_(e.firestore,e.converter,function(e,t){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(wk);function Tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sk("startAt",t,!0)}function Ck(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sk("startAfter",t,!1)}var Ik=function(e){aa(n,e);var t=la(n);function n(e,r,i){var a;return Xi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return Zi(n,[{key:"_apply",value:function(e){var t=Nk(e,this.type,this.mc,this.gc);return new m_(e.firestore,e.converter,function(e,t){return new oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(wk);function Ak(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ik("endBefore",t,!1)}function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ik("endAt",t,!0)}function Nk(e,t,n,r){if(n[0]=Pa(n[0]),n[0]instanceof lk)return function(e,t,n,r,i){if(!r)throw new Ef(kf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=na(ph(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(gd(t,r.key));else{var c=r.data.field(s.field);if(ed(c))throw new Ef(kf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new th(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=G_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ef(kf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!hh(e)&&-1!==c.indexOf("/"))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Kf.fromString(c));if(!sd.isDocumentKey(l))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new sd(l);u.push(gd(t,f))}else{var d=ek(n,r,c);u.push(d)}}return new th(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Pk(e,t,n){if("string"==typeof(n=Pa(n))){if(""===n)throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hh(t)&&-1!==n.indexOf("/"))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Kf.fromString(n));if(!sd.isDocumentKey(r))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gd(e,new sd(r))}if(n instanceof v_)return gd(e,n._key);throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(c_(n),"."))}function Ok(e,t){if(!Array.isArray(e)||0===e.length)throw new Ef(kf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ef(kf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Lk(e,t,n){if(!n.isEqual(t))throw new Ef(kf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Rk=function(){function e(){Xi(this,e)}return Zi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bf()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new F_(Jf(e.latitude),Jf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=td(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nd(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Xf(e);return new Bf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Kf.fromString(e);wf(lv(n));var r=new id(n.get(1),n.get(3)),i=new sd(n.popFirst(5));return r.isEqual(t)||mf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Mk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fk=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return Zi(n,[{key:"convertBytes",value:function(e){return new R_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new v_(this.firestore,null,t)}}]),n}(Rk),jk=function(){function e(t,n){Xi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=G_(t)}return Zi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Bk(e,this._firestore),i=Mk(r.converter,t,n),a=K_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Uh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Bk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pa(t))||t instanceof L_?Z_(this._dataReader,"WriteBatch.update",i._key,t,n,o):J_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Uh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Bk(e,this._firestore);return this._mutations=this._mutations.concat(new np(t._key,Uh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ef(kf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Bk(e,t){if((e=Pa(e)).firestore!==t)throw new Ef(kf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Vk=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return Zi(n,[{key:"convertBytes",value:function(e){return new R_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new v_(this.firestore,null,t)}}]),n}(Rk);function Uk(e){e=l_(e,v_);var t=l_(e.firestore,S_),n=T_(t),r=new Vk(t);return function(e,t){var n=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=_f(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ef(kf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=db(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Xw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pk(t,r,e._key,n,new hk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function zk(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=T_(t),r=new Vk(t);return function(e,t){var n=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(l().mark((function e(t,n,r){var i,a,o,u,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ly(t,n,!0);case 3:i=e.sent,a=new Pb(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=db(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Xw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mk(t,r,e,n)}))}function qk(e,t,n){e=l_(e,v_);var r=l_(e.firestore,S_),i=Mk(e.converter,t,n);return Hk(r,[K_(G_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uh.none())])}function Gk(e,t,n){e=l_(e,v_);for(var r=l_(e.firestore,S_),i=G_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Hk(r,[("string"==typeof(t=Pa(t))||t instanceof L_?Z_(i,"updateDoc",e._key,t,n,o):J_(i,"updateDoc",e._key,t)).toMutation(e._key,Uh.exists(!0))])}function Kk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u;e=Pa(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||E_(n[c])||(s=n[c],c++);var f,d,h,p={includeMetadataChanges:s.includeMetadataChanges};if(E_(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[c+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof v_)d=l_(e.firestore,S_),h=sh(e._key.path),f={next:function(t){n[c]&&n[c](Qk(d,e,t))},error:n[c+1],complete:n[c+2]};else{var m=l_(e,m_);d=l_(m.firestore,S_),h=m._query;var y=new Vk(d);f={next:function(e){n[c]&&n[c](new mk(d,y,m,e))},error:n[c+1],complete:n[c+2]},bk(e._query)}return function(e,t,n,r){var i=new Fw(r),o=new Sb(t,i,n);return e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gb,t.next=3,e_(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wb,t.next=3,e_(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(T_(d),h,p,f)}function Wk(e,t){return function(e,t){var n=new Fw(t);return e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){_f(e).Tu.add(t),t.next()},t.next=3,e_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){_f(e).Tu.delete(t)},t.next=3,e_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(T_(e=l_(e,S_)),E_(t)?t:{next:t})}function Hk(e,t){return function(e,t){var n=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zb,r.next=3,Zw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(T_(e),t)}function Qk(e,t,n){var r=n.docs.get(t._key),i=new Vk(e);return new pk(e,i,t._key,r,new hk(n.hasPendingWrites,n.fromCache),t.converter)}var $k=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r))._firestore=e,i}return Zi(n,[{key:"get",value:function(e){var t=this,r=Bk(e,this._firestore),i=new Vk(this._firestore);return $o(oa(n.prototype),"get",this).call(this,e).then((function(e){return new pk(t._firestore,i,r._key,e._document,new hk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Xi(this,e),this._firestore=t,this._transaction=n,this._dataReader=G_(t)}return Zi(e,[{key:"get",value:function(e){var t=this,n=Bk(e,this._firestore),r=new Fk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bf();var i=e[0];if(i.isFoundDocument())return new lk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lk(t._firestore,r,n._key,null,n.converter);throw bf()}))}},{key:"set",value:function(e,t,n){var r=Bk(e,this._firestore),i=Mk(r.converter,t,n),a=K_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Bk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pa(t))||t instanceof L_?Z_(this._dataReader,"Transaction.update",i._key,t,n,o):J_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Bk(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Yk(e,t){return function(e,t){var n=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){var i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Qw(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Vw(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(T_(e=l_(e,S_)),(function(n){return t(new $k(e,n))}))}function Xk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $_("arrayUnion",t)}function Jk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Y_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){df=e}(yo),co(new Ba("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new S_(i,new If(e.getProvider("auth-internal")),new Pf(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Eo(lf,"3.4.7",e),Eo(lf,"3.4.7","esm2017")}();function Zk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ef("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function eE(){if("undefined"===typeof Uint8Array)throw new Ef("unimplemented","Uint8Arrays are not available in this environment.")}function tE(){if("undefined"==typeof atob)throw new Ef("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nE=function(){function e(t){Xi(this,e),this._delegate=t}return Zi(e,[{key:"toBase64",value:function(){return tE(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eE(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tE(),new e(R_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eE(),new e(R_.fromUint8Array(t))}}]),e}();function rE(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=na(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var iE=function(){function e(){Xi(this,e)}return Zi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){O_(e=l_(e,S_));var n=T_(e),r=e._freezeSettings(),i=new Rw;return I_(n,i,new Ow(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){O_(e=l_(e,S_));var t=T_(e),n=e._freezeSettings(),r=new Rw;return I_(t,r,new Lw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ef(kf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new xf;return e._queue.enqueueAndForgetEvenWhileRestricted(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uv.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Uv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gy(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),aE=function(){function e(t,n,r){var i=this;Xi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof id||(this._appCompat=t)}return Zi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return A_(this._delegate)}},{key:"disableNetwork",value:function(){return D_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&o_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new xf;return e.asyncQueue.enqueueAndForget(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Zb,n.next=3,Zw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(T_(e=l_(e,S_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Wk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ef("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bE(this,g_(this._delegate,e))}catch(t){throw fE(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lE(this,b_(this._delegate,e))}catch(t){throw fE(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mE(this,function(e,t){if(e=l_(e,h_),a_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ef(kf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new m_(e,null,function(e){return new oh(Kf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fE(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Yk(this._delegate,(function(n){return e(new uE(t,n))}))}},{key:"batch",value:function(){var e=this;return T_(this._delegate),new sE(new jk(this._delegate,(function(t){return Hk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return N_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return P_(this._delegate,e).then((function(e){return e?new mE(t,e):null}))}}]),e}(),oE=function(e){aa(n,e);var t=la(n);function n(e){var r;return Xi(this,n),(r=t.call(this)).firestore=e,r}return Zi(n,[{key:"convertBytes",value:function(e){return new nE(new R_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lE.forKey(t,this.firestore,null)}}]),n}(Rk);var uE=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new oE(t)}return Zi(e,[{key:"get",value:function(e){var t=this,n=wE(e);return this._delegate.get(n).then((function(e){return new pE(t._firestore,new pk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=wE(e);return n?(Zk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wE(e);return this._delegate.delete(t),this}}]),e}(),sE=function(){function e(t){Xi(this,e),this._delegate=t}return Zi(e,[{key:"set",value:function(e,t,n){var r=wE(e);return n?(Zk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=wE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=wE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cE=function(){function e(t,n,r){Xi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Zi(e,[{key:"fromFirestore",value:function(e,t){var n=new vk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vE(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new oE(t),n),i.set(n,a)),a}}]),e}();cE.INSTANCES=new WeakMap;var lE=function(){function e(t,n){Xi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oE(t)}return Zi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bE(this.firestore,g_(this._delegate,e))}catch(t){throw fE(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Pa(e))instanceof v_&&w_(this._delegate,e)}},{key:"set",value:function(e,t){t=Zk("DocumentReference.set",t);try{return t?qk(this._delegate,e,t):qk(this._delegate,e)}catch(n){throw fE(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Gk(this._delegate,e):Gk.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw fE(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Hk(l_(e.firestore,S_),[new np(e._key,Uh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dE(n),a=hE(n,(function(t){return new pE(e.firestore,new pk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Kk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Uk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=l_(e,v_);var t=l_(e.firestore,S_);return n_(T_(t),e._key,{source:"server"}).then((function(n){return Qk(t,e,n)}))}(this._delegate):function(e){e=l_(e,v_);var t=l_(e.firestore,S_);return n_(T_(t),e._key).then((function(n){return Qk(t,e,n)}))}(this._delegate),t.then((function(e){return new pE(n.firestore,new pk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ef("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new v_(n._delegate,r,new sd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new v_(n._delegate,r,t))}}]),e}();function fE(e,t,n){return e.message=e.message.replace(t,n),e}function dE(e){var t,n=na(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rE(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function hE(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rE(e[0])?e[0]:rE(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pE=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return Zi(e,[{key:"ref",get:function(){return new lE(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gk(this._delegate,e._delegate)}}]),e}(),vE=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bf()}(void 0!==t),t}}]),n}(pE),mE=function(){function e(t,n){Xi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new oE(t)}return Zi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,_k(this._delegate,function(e,t,n){var r=t,i=dk("where",e);return new kk(i,r,n)}(t,n,r)))}catch(i){throw fE(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,_k(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=dk("orderBy",e);return new Ek(n,t)}(t,n)))}catch(r){throw fE(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,_k(this._delegate,function(e){return f_("limit",e),new xk("limit",e,"F")}(t)))}catch(n){throw fE(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,_k(this._delegate,function(e){return f_("limitToLast",e),new xk("limitToLast",e,"L")}(t)))}catch(n){throw fE(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,_k(this._delegate,Tk.apply(void 0,arguments)))}catch(t){throw fE(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,_k(this._delegate,Ck.apply(void 0,arguments)))}catch(t){throw fE(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,_k(this._delegate,Ak.apply(void 0,arguments)))}catch(t){throw fE(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,_k(this._delegate,Dk.apply(void 0,arguments)))}catch(t){throw fE(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return __(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=T_(t),r=new Vk(t);return r_(n,e._query,{source:"server"}).then((function(n){return new mk(t,r,e,n)}))}(this._delegate):function(e){e=l_(e,m_);var t=l_(e.firestore,S_),n=T_(t),r=new Vk(t);return bk(e._query),r_(n,e._query).then((function(n){return new mk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new gE(n.firestore,new mk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=dE(n),a=hE(n,(function(t){return new gE(e.firestore,new mk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Kk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cE.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yE=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return Zi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vE(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),gE=function(){function e(t,n){Xi(this,e),this._firestore=t,this._delegate=n}return Zi(e,[{key:"query",get:function(){return new mE(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vE(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yE(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vE(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gk(this._delegate,e._delegate)}}]),e}(),bE=function(e){aa(n,e);var t=la(n);function n(e,r){var i;return Xi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Zi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lE(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lE(this.firestore,void 0===e?b_(this._delegate):b_(this._delegate,e))}catch(t){throw fE(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=l_(e.firestore,S_),r=b_(e),i=Mk(e.converter,t);return Hk(n,[K_(G_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lE(t.firestore,e)}))}},{key:"isEqual",value:function(e){return w_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cE.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mE);function wE(e){return l_(e,v_)}var _E,kE=function(){function e(){Xi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=fa(L_,n)}return Zi(e,[{key:"isEqual",value:function(e){return(e=Pa(e))instanceof L_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hf.keyField().canonicalString())}}]),e}(),EE=function(){function e(t){Xi(this,e),this._delegate=t}return Zi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Q_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new W_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Xk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Jk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new X_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xE={Firestore:aE,GeoPoint:F_,Timestamp:Bf,Blob:nE,Transaction:uE,WriteBatch:sE,DocumentReference:lE,DocumentSnapshot:pE,Query:mE,QueryDocumentSnapshot:vE,QuerySnapshot:gE,CollectionReference:bE,FieldPath:kE,FieldValue:EE,setLogLevel:function(e){!function(e){hf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function SE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IE(e){this.wrapped=e}function AE(e){return new IE(e)}function DE(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,u=o instanceof IE;Promise.resolve(u?o.wrapped:o).then((function(e){u?r("return"===t?"return":"next",e):i(a.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(s){i("throw",s)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var u={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!==typeof e.return&&(this.return=void 0)}function NE(e){return function(){return new DE(e.apply(this,arguments))}}(function(e,t){e.INTERNAL.registerComponent(new Ba("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xE)))})(_E=Ho,(function(e,t){return new aE(e,t,new iE)})),_E.registerVersion("@firebase/firestore-compat","0.1.16"),DE.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},DE.prototype.next=function(e){return this._invoke("next",e)},DE.prototype.throw=function(e){return this._invoke("throw",e)},DE.prototype.return=function(e){return this._invoke("return",e)};var PE,OE,LE,RE,ME,FE,jE=["horizontalFlip"],BE=["clientToken","locateFile","canvas","logger"];function VE(){var e=this;return new Promise((function(t){var n=new FileReader;n.onload=function(){return t(n.result)},n.readAsArrayBuffer(e)}))}"undefined"!==typeof File&&(null!==(LE=(ME=File.prototype).arrayBuffer)&&void 0!==LE||(ME.arrayBuffer=VE)),"undefined"!==typeof Blob&&(null!==(RE=(FE=Blob.prototype).arrayBuffer)&&void 0!==RE||(FE.arrayBuffer=VE));var UE=0,zE=function(){return UE++},qE=Zi((function e(t){if(Xi(this,e),"undefined"===typeof window)return this;var n=URL.createObjectURL(new Blob([t],{type:"text/javascript"})),r=new globalThis.Worker(n);return URL.revokeObjectURL(n),r})),GE=new qE("(function () {\n    'use strict';\n\n    onmessage = ({ data: request }) => {\n        const response = { id: request.id };\n        setTimeout(postMessage, request.timeout, response);\n    };\n\n})();\n"),KE=new Map,WE=function(e,t){var n=zE(),r={id:n,timeout:t};return KE.set(r.id,e),GE.postMessage(r),n};GE.onmessage=function(e){var t=e.data,n=KE.get(t.id);KE.delete(t.id),n()};var HE=1e3/60,QE=[],$E=0,YE=function(e){var t=zE();if(0===QE.length){var n=performance.now();WE((function(){var e=$E=performance.now(),t=[].concat(QE);QE.length=0,t.forEach((function(t){return t(e)}))}),HE-(n-$E)%HE)}return QE.push(e),t},XE=Object.freeze((ta(PE={__proto__:null},Symbol.toStringTag,"Module"),ta(PE,"setTimeout",WE),ta(PE,"requestAnimationFrame",YE),PE)),JE=new Map;"undefined"!==typeof document&&document.addEventListener("visibilitychange",(function(){"visible"!==document.visibilityState&&JE.forEach((function(e,t){JE.delete(t),cancelAnimationFrame(t),YE(e)}))}));var ZE=Object.freeze((ta(OE={__proto__:null},Symbol.toStringTag,"Module"),ta(OE,"setTimeout",(function(){var e;return(e=window).setTimeout.apply(e,arguments)})),ta(OE,"requestAnimationFrame",(function(e){var t=window.requestAnimationFrame((function(){JE.delete(t),e.apply(void 0,arguments)}));return JE.set(t,e),t})),OE)),ex=function(){return"visible"===document.visibilityState?ZE:XE},tx=function(e){return ex().requestAnimationFrame(e)},nx=function(e,t){return ex().setTimeout(e,t)},rx=function(){return new Promise((function(e){return tx(e)}))},ix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return function(t,n,r){var i=r.value;function a(){return a=NE(l().mark((function t(){var n,r,a,o,u,s,c,f,d,h,p,v,m=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=m.length,r=new Array(n),a=0;a<n;a++)r[a]=m[a];o=i.call.apply(i,[this].concat(r)),u=0,s=0;case 4:0,f=.1*(c=1e3/e);case 7:if(!((s=performance.now())-u<c-f)){t.next=12;break}return t.next=10,AE(rx());case 10:t.next=7;break;case 12:return u=s,t.next=15,AE(o.next());case 15:if(d=t.sent,h=d.done,p=d.value,!h){t.next=20;break}return t.abrupt("return",p);case 20:return t.next=22,p;case 22:"undefined"!==typeof(v=t.sent)&&(e=v),t.next=4;break;case 26:case"end":return t.stop()}}),t,this)}))),a.apply(this,arguments)}return CE(CE({},r),{},{value:function(){return a.apply(this,arguments)}})}},ax=function(){var e=a(l().mark((function e(t){var n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",new Promise((function(e){var r=document.createElement("video");if(r.muted=!0,r.controls=!1,r.playsInline=!0,Object.assign(r,n),t instanceof globalThis.MediaStream)r.srcObject=t,r.addEventListener("ended",(function(){return r.srcObject=null}),{once:!0}),t.addEventListener("inactive",(function(){return r.dispatchEvent(new CustomEvent("ended"))}),{once:!0});else{if("string"!==typeof t){var i=t=URL.createObjectURL(t);r.addEventListener("emptied",(function(){return URL.revokeObjectURL(i)}),{once:!0})}r.crossOrigin="anonymous",r.src=t,r.addEventListener("ended",(function(){return r.src=""}),{once:!0})}r.style.position="fixed",r.style.zIndex="-9999999",r.style.opacity="0.0000000001",document.body.appendChild(r),r.addEventListener("emptied",(function(){return r.remove()}),{once:!0});var a=setInterval((function(){return r.readyState}),300);r.addEventListener("play",(function(){return clearInterval(a)}),{once:!0}),r.addEventListener("play",(function(){return e(r)}),{once:!0}),r.addEventListener("loadedmetadata",(function(){return r.play()}),{once:!0})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ox=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return"undefined"===typeof OffscreenCanvas?((e=document.createElement("canvas")).width=t,e.height=n):e=new OffscreenCanvas(t,n),e},ux={alpha:!0,antialias:!1,depth:!1,desynchronized:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1};function sx(e,t,n){var r=e.createProgram();return e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),e.useProgram(r),r}function cx(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function lx(e,t){var n=e.createTexture();return e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),n}var fx=function(e,t){var n=e.clientWaitSync(t,0,0);return n===e.CONDITION_SATISFIED||n===e.ALREADY_SIGNALED};function dx(e){return hx.apply(this,arguments)}function hx(){return hx=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0),t.flush(),e.next=4,new Promise((function(e){return function r(){fx(t,n)?e():nx(r,2)}()}));case 4:t.deleteSync(n);case 5:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}var px,vx=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||ox(),r=n.getContext("webgl2",CE(CE({},ux),t));if(null==r)return null;var i=cx(r,r.VERTEX_SHADER,"#version 300 es\n    uniform vec2 u_scale;\n    out vec2 v_tex_uv;\n\n    void main() {\n      float x = -1.0 + float((gl_VertexID & 1) << 2);\n      float y = -1.0 + float((gl_VertexID & 2) << 1);\n\n      v_tex_uv.x = (x + 1.0) * 0.5;\n      v_tex_uv.y = (y + 1.0) * 0.5;\n\n      gl_Position = vec4(x, y, 0, 1);\n      gl_Position.xy *= u_scale;\n    }\n  "),o=cx(r,r.FRAGMENT_SHADER,"#version 300 es\n    precision mediump float;\n\n    in vec2 v_tex_uv;\n    uniform sampler2D u_texture;\n    out vec4 fragColor;\n\n    void main () {\n      fragColor = texture(u_texture, v_tex_uv);\n    }\n  "),u=sx(r,i,o),s=lx(r,r.TEXTURE0),c=lx(r,r.TEXTURE1),f=null;e instanceof HTMLCanvasElement||(f=r.createFramebuffer(),r.bindFramebuffer(r.FRAMEBUFFER,f),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,c,0));var d=r.createBuffer();r.bindBuffer(r.PIXEL_PACK_BUFFER,d),r.bufferData(r.PIXEL_PACK_BUFFER,0,r.STREAM_READ);var h,p=r.getUniformLocation(u,"u_scale"),v=r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT),m=r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE),y=v===r.RGB?"RGB":"RGBA",g=y.length;return"RGB"===y&&r.pixelStorei(r.PACK_ALIGNMENT,1),{get width(){return r.drawingBufferWidth},get height(){return r.drawingBufferHeight},drawImage:function(e,t,i,o,u){return a(l().mark((function t(){var i,a;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.activeTexture(r.TEXTURE0),r.texImage2D(r.TEXTURE_2D,0,v,v,m,e),i=Math.sign(o),a=Math.sign(u),p.x===i&&p.y===a||r.uniform2fv(p,new Float32Array([p.x=i,p.y=a])),o<0&&(o=Math.abs(o)),u<0&&(u=Math.abs(u)),n.width===o&&n.height===u||(r.activeTexture(r.TEXTURE1),r.texImage2D(r.TEXTURE_2D,0,v,n.width=o,n.height=u,0,v,m,null),r.viewport(0,0,n.width,n.height)),r.drawArrays(r.TRIANGLES,0,3);case 9:case"end":return t.stop()}}),t)})))()},getImageData:function(){var e=a(l().mark((function e(t,n,i,a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===h||void 0===h?void 0:h.length)!==i*a*g&&(h=new Uint8ClampedArray(i*a*g),r.bufferData(r.PIXEL_PACK_BUFFER,h.length,r.STREAM_READ)),r.readPixels(t,n,i,a,v,m,0),e.next=4,dx(r);case 4:return r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,h),e.abrupt("return",{width:i,height:a,data:h,format:y});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),dispose:function(){r.bindBuffer(r.PIXEL_PACK_BUFFER,null),r.activeTexture(r.TEXTURE1),f&&r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,null),r.useProgram(null),r.deleteBuffer(d),r.deleteFramebuffer(f),r.deleteTexture(s),r.deleteTexture(c),r.deleteProgram(u),r.deleteShader(i),r.deleteShader(o)}}}(e,t);return null==n&&(n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||ox(),r=n.getContext("2d",t);return{get width(){return n.width},get height(){return n.height},drawImage:function(){var e=a(l().mark((function e(t,i,a,o,u){var s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.width=null!==(s=t.videoWidth)&&void 0!==s?s:t.width,n.height=null!==(c=t.videoHeight)&&void 0!==c?c:t.height,r.save(),r.translate(i,a),r.scale(Math.sign(o),Math.sign(u)),t instanceof ImageData?r.putImageData(t,i,a):r.drawImage(t,0,0,Math.abs(o),Math.abs(u)),r.restore();case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),getImageData:function(){var e=a(l().mark((function e(){var t,n,i,a,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.getImageData.apply(r,o),n=t.width,i=t.height,a=t.data,e.abrupt("return",{width:n,height:i,data:a,format:"RGBA"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dispose:function(){}}}(e,t)),n},mx={horizontalFlip:!1,resize:function(e,t){return[e,t]},crop:function(e,t){return[0,0,e,t]}},yx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=CE(CE({},mx),e),n=t.resize,r=t.crop,i=t.horizontalFlip;return{dxywh:function(e){var t,r,a=null!==(t=e.videoWidth)&&void 0!==t?t:e.width,o=null!==(r=e.videoHeight)&&void 0!==r?r:e.height,u=0,c=s(n(a,o),2),l=c[0],f=c[1];if(i){var d=[l,-l];u=d[0],l=d[1]}return[u,0,l,f]},sxywh:function(e){var t,n,i=null!==(t=e.videoWidth)&&void 0!==t?t:e.width,a=null!==(n=e.videoHeight)&&void 0!==n?n:e.height,o=s(r(i,a),4);return[o[0],o[1],o[2],o[3]]}}};function gx(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}var bx,wx=function(e){function t(e){Xi(this,t),Object.defineProperty(this,"_src",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._src="string"===typeof e?e:URL.createObjectURL(e)}return Zi(t,[{key:e,value:function(e){var t=this;return NE(l().mark((function n(){var r,i,a,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=document.createElement("img"),n.next=3,AE(new Promise((function(e,n){r.onload=e,r.onerror=n,r.crossOrigin="anonymous",r.src=t._src})));case 3:return i=vx(),a=yx(e),i.drawImage.apply(i,[r].concat(ja(a.dxywh(r)))),n.next=8,AE(i.getImageData.apply(i,ja(a.sxywh(i))));case 8:o=n.sent,i.dispose(),URL.revokeObjectURL(r.src),r.src="";case 11:return n.next=14,o;case 14:n.next=11;break;case 16:case"end":return n.stop()}}),n)})))()}}]),t}(px=Symbol.asyncIterator);gx([ix(30)],wx.prototype,px,null);var _x={loop:!1},kx=function(e){function t(e,n){Xi(this,t),Object.defineProperty(this,"_video",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_ctx",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_src",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._src=e,this._options=CE(CE({},_x),n)}return Zi(t,[{key:e,value:function(e){var t=this;return NE(l().mark((function n(){var r,i,a,o,u,s,c,f;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(r=t._video)||void 0===r){n.next=4;break}n.t0=r,n.next=7;break;case 4:return n.next=6,AE(ax(t._src,t._options));case 6:n.t0=t._video=n.sent;case 7:a=n.t0,o=null!==(i=t._ctx)&&void 0!==i?i:t._ctx=vx(),u=yx(e),s=!1,a.addEventListener("ended",(function(){return t.stop()}),{once:!0}),a.addEventListener("emptied",(function(){return s=!0}),{once:!0}),a.addEventListener("emptied",(function(){return f.then((function(){return o.dispose()}))}),{once:!0}),o.drawImage.apply(o,[a].concat(ja(u.dxywh(a)))),c=o.getImageData.apply(o,ja(u.sxywh(o)));case 16:if(s){n.next=29;break}return o.drawImage.apply(o,[a].concat(ja(u.dxywh(a)))),f=o.getImageData.apply(o,ja(u.sxywh(o))),n.next=21,AE(new Promise((function(e){return nx(e)})));case 21:return n.next=23,c;case 23:return n.next=25,AE(c=f);case 25:return n.next=27,AE(new Promise((function(e){return tx(e)})));case 27:n.next=16;break;case 29:case"end":return n.stop()}}),n)})))()}},{key:"stop",value:function(){this._video&&(this._video.srcObject=null,this._video.src=""),this._ctx=null,this._video=null}}]),t}(bx=Symbol.asyncIterator);gx([ix(30)],kx.prototype,bx,null);var Ex=function(e){function t(e){if(Xi(this,t),Object.defineProperty(this,"_video",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_stream",{enumerable:!0,configurable:!0,writable:!0,value:null}),t.cache.has(e))return t.cache.get(e);t.cache.set(e,this),this._stream=e}return Zi(t,[{key:Symbol.asyncIterator,value:function(e){var t=this;return NE(l().mark((function n(){var r,i,a,o,u,s,c;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=null!==(r=t._video)&&void 0!==r?r:t._video=new kx(t._stream),a=i[Symbol.asyncIterator](e);case 2:return n.next=5,AE(a.next(o));case 5:if(u=n.sent,s=u.done,c=u.value,!s){n.next=12;break}return n.abrupt("break",17);case 12:return n.next=14,c;case 14:o=n.sent;case 15:n.next=2;break;case 17:t.stop();case 18:case"end":return n.stop()}}),n)})))()}},{key:"stop",value:function(){var e,t,n,r,i=na(null!==(n=null===(t=null===(e=this._stream)||void 0===e?void 0:e.getVideoTracks)||void 0===t?void 0:t.call(e))&&void 0!==n?n:[]);try{for(i.s();!(r=i.n()).done;){r.value.stop()}}catch(a){i.e(a)}finally{i.f()}this._stream=null,this._video=null}}]),t}();Object.defineProperty(Ex,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new WeakMap});var xx,Sx,Tx="undefined"!==typeof screen&&screen.height>screen.width,Cx={facingMode:"user",width:Tx?{}:{min:640,ideal:1280,max:1920},height:Tx?{}:{min:480,ideal:720,max:1080},resizeMode:{ideal:"crop-and-scale"}},Ix=(Symbol.asyncIterator,function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof navigator.mediaDevices){e.next=2;break}throw new Error("SecureContext is required to access webcam\nIt's likely you need to set up HTTPS/TLS for your website\nSee https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Encryption_based_security for details ");case 2:return e.t0=Ex,e.next=5,navigator.mediaDevices.getUserMedia({video:t});case 5:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ax=vx,Dx="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Nx=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;n--;)t+=Dx[64*Math.random()|0];return t},Px=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){t="undefined"!==typeof(t=t||{})?t:{};var n,r,i=Object.assign;t.ready=new Promise((function(e,t){n=e,r=t})),t.expectedDataFileDownloads||(t.expectedDataFileDownloads=0),t.expectedDataFileDownloads++,function(){if(!t.ENVIRONMENT_IS_PTHREAD){!function(e){"object"===typeof window?window.encodeURIComponent(window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/"):"undefined"===typeof process&&"undefined"!==typeof location&&encodeURIComponent(location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/");var n="BanubaSDK.data";"function"!==typeof t.locateFilePackage||t.locateFile||(t.locateFile=t.locateFilePackage,v("warning: you defined Module.locateFilePackage, that has been renamed to Module.locateFile (using your locateFilePackage for now)"));var r=t.locateFile?t.locateFile(n,""):n,i=e.remote_package_size;e.package_uuid;var a=null,o=t.getPreloadedPackage?t.getPreloadedPackage(r,i):null;function u(){function n(e,t){if(!e)throw t+(new Error).stack}function r(e,t,n){this.start=e,this.end=t,this.audio=n}t.FS_createPath("/","bnb_js",!0,!0),t.FS_createPath("/","frx",!0,!0),t.FS_createPath("/","flow",!0,!0),t.FS_createPath("/","MoMoFRX",!0,!0),t.FS_createPath("/","bnb_shaders",!0,!0),t.FS_createPath("/bnb_shaders","bnb",!0,!0),r.prototype={requests:{},open:function(e,n){this.name=n,this.requests[n]=this,t.addRunDependency("fp "+this.name)},send:function(){},onload:function(){var e=this.byteArray.subarray(this.start,this.end);this.finish(e)},finish:function(e){t.FS_createDataFile(this.name,null,e,!0,!0,!0),t.removeRunDependency("fp "+this.name),this.requests[this.name]=null}};for(var i=e.files,u=0;u<i.length;++u)new r(i[u].start,i[u].end,i[u].audio||0).open("GET",i[u].filename);function s(i){n(i,"Loading data file failed."),n(i instanceof ArrayBuffer,"bad input to processPackageData");var a=new Uint8Array(i);r.prototype.byteArray=a;for(var o=e.files,u=0;u<o.length;++u)r.prototype.requests[o[u].filename].onload();t.removeRunDependency("datafile_BanubaSDK.data")}t.addRunDependency("datafile_BanubaSDK.data"),t.preloadResults||(t.preloadResults={}),t.preloadResults["BanubaSDK.data"]={fromCache:!1},o?(s(o),o=null):a=s}o||function(e,n,r,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onprogress=function(r){var i=e,o=n;if(r.total&&(o=r.total),r.loaded){a.addedTotal?t.dataFileDownloads[i].loaded=r.loaded:(a.addedTotal=!0,t.dataFileDownloads||(t.dataFileDownloads={}),t.dataFileDownloads[i]={loaded:r.loaded,total:o});var u=0,s=0,c=0;for(var l in t.dataFileDownloads){var f=t.dataFileDownloads[l];u+=f.total,s+=f.loaded,c++}u=Math.ceil(u*t.expectedDataFileDownloads/c),t.setStatus&&t.setStatus("Downloading data... ("+s+"/"+u+")")}else t.dataFileDownloads||t.setStatus&&t.setStatus("Downloading data...")},a.onerror=function(t){throw new Error("NetworkError for: "+e)},a.onload=function(e){if(!(200==a.status||304==a.status||206==a.status||0==a.status&&a.response))throw new Error(a.statusText+" : "+a.responseURL);var t=a.response;r(t)},a.send(null)}(r,i,(function(e){a?(a(e),a=null):o=e})),t.calledRun?u():(t.preRun||(t.preRun=[]),t.preRun.push(u))}({files:[{filename:"/bnb_js/.empty",start:0,end:20},{filename:"/bnb_js/background.js",start:20,end:2569},{filename:"/bnb_js/console.js",start:2569,end:3108},{filename:"/bnb_js/legacy.js",start:3108,end:7376},{filename:"/bnb_js/light_streaks.js",start:7376,end:17053},{filename:"/bnb_js/timers.js",start:17053,end:20351},{filename:"/frx/frx.js",start:20351,end:22873},{filename:"/flow/frx_prior.tflite",start:22873,end:791105},{filename:"/MoMoFRX/edgetopology1.ef",start:791105,end:838345},{filename:"/MoMoFRX/edgetopology1.ev",start:838345,end:885585},{filename:"/MoMoFRX/head.3308.DA.c30.tm.pca2.86.blendshapes",start:885585,end:2076465},{filename:"/MoMoFRX/head.3308.DA.c30.tm.pca2.86.means",start:2076465,end:2116161},{filename:"/MoMoFRX/head.verts",start:2116161,end:2155857},{filename:"/MoMoFRX/head1.triangles",start:2155857,end:2233089},{filename:"/MoMoFRX/head_au.tex",start:2233089,end:2259553},{filename:"/flow/landmarks_128.tflite",start:2259553,end:4144197},{filename:"/flow/landmarks_96.tflite",start:4144197,end:6028841},{filename:"/flow/face_detector_online.tflite",start:6028841,end:6452989},{filename:"/flow/bg_lite_horiz.tflite",start:6452989,end:6788493},{filename:"/flow/bg_lite_vert.tflite",start:6788493,end:7123997},{filename:"/flow/hair_lite_vert.tflite",start:7123997,end:7956897},{filename:"/flow/hair_lite_horiz.tflite",start:7956897,end:8790109},{filename:"/flow/eyes_segmentation.tflite",start:8790109,end:9057801},{filename:"/flow/lips_segmentation.tflite",start:9057801,end:11569997},{filename:"/flow/skin_segm.tflite",start:11569997,end:12998001},{filename:"/bnb_shaders/.empty",start:12998001,end:12998020},{filename:"/bnb_shaders/bnb/anim_transform.glsl",start:12998020,end:12998183},{filename:"/bnb_shaders/bnb/apply_light_streaks.frag",start:12998183,end:12998495},{filename:"/bnb_shaders/bnb/apply_light_streaks.vert",start:12998495,end:12998750},{filename:"/bnb_shaders/bnb/auto_morph.frag",start:12998750,end:12998863},{filename:"/bnb_shaders/bnb/auto_morph.vert",start:12998863,end:12999499},{filename:"/bnb_shaders/bnb/auto_morph_fisheye.frag",start:12999499,end:12999612},{filename:"/bnb_shaders/bnb/auto_morph_fisheye.vert",start:12999612,end:13000143},{filename:"/bnb_shaders/bnb/beauty_morph.frag",start:13000143,end:13000261},{filename:"/bnb_shaders/bnb/beauty_morph.vert",start:13000261,end:13001426},{filename:"/bnb_shaders/bnb/camera.frag",start:13001426,end:13002665},{filename:"/bnb_shaders/bnb/camera.vert",start:13002665,end:13002986},{filename:"/bnb_shaders/bnb/color_spaces.glsl",start:13002986,end:13007283},{filename:"/bnb_shaders/bnb/copy_pixels.frag",start:13007283,end:13007457},{filename:"/bnb_shaders/bnb/copy_pixels.vert",start:13007457,end:13007712},{filename:"/bnb_shaders/bnb/decode_int1010102.glsl",start:13007712,end:13008901},{filename:"/bnb_shaders/bnb/dual_filter_blur_downscale.frag",start:13008901,end:13009544},{filename:"/bnb_shaders/bnb/dual_filter_blur_downscale.vert",start:13009544,end:13009749},{filename:"/bnb_shaders/bnb/dual_filter_blur_upscale.frag",start:13009749,end:13010661},{filename:"/bnb_shaders/bnb/dual_filter_blur_upscale.vert",start:13010661,end:13011002},{filename:"/bnb_shaders/bnb/filter_light_streaks_0.frag",start:13011002,end:13011988},{filename:"/bnb_shaders/bnb/filter_light_streaks_0.vert",start:13011988,end:13012579},{filename:"/bnb_shaders/bnb/filter_light_streaks_1.frag",start:13012579,end:13013565},{filename:"/bnb_shaders/bnb/filter_light_streaks_1.vert",start:13013565,end:13014156},{filename:"/bnb_shaders/bnb/filter_light_streaks_2.frag",start:13014156,end:13015142},{filename:"/bnb_shaders/bnb/filter_light_streaks_2.vert",start:13015142,end:13015733},{filename:"/bnb_shaders/bnb/filter_light_streaks_3.frag",start:13015733,end:13016719},{filename:"/bnb_shaders/bnb/filter_light_streaks_3.vert",start:13016719,end:13017310},{filename:"/bnb_shaders/bnb/get_bone.glsl",start:13017310,end:13018109},{filename:"/bnb_shaders/bnb/get_transform.glsl",start:13018109,end:13019562},{filename:"/bnb_shaders/bnb/glsl.frag",start:13019562,end:13020328},{filename:"/bnb_shaders/bnb/glsl.vert",start:13020328,end:13021380},{filename:"/bnb_shaders/bnb/init_light_streaks.frag",start:13021380,end:13021710},{filename:"/bnb_shaders/bnb/init_light_streaks.vert",start:13021710,end:13021965},{filename:"/bnb_shaders/bnb/lut.glsl",start:13021965,end:13026753},{filename:"/bnb_shaders/bnb/math.glsl",start:13026753,end:13027126},{filename:"/bnb_shaders/bnb/matrix_operations.glsl",start:13027126,end:13030777},{filename:"/bnb_shaders/bnb/mesh_morph.frag",start:13030777,end:13030895},{filename:"/bnb_shaders/bnb/mesh_morph.vert",start:13030895,end:13032992},{filename:"/bnb_shaders/bnb/morph_transform.glsl",start:13032992,end:13034050},{filename:"/bnb_shaders/bnb/quat_rotation.glsl",start:13034050,end:13034802},{filename:"/bnb_shaders/bnb/retouch.frag",start:13034802,end:13038553},{filename:"/bnb_shaders/bnb/retouch.vert",start:13038553,end:13039211},{filename:"/bnb_shaders/bnb/samplers_declaration.glsl",start:13039211,end:13041859},{filename:"/bnb_shaders/bnb/static_pos.frag",start:13041859,end:13041970},{filename:"/bnb_shaders/bnb/static_pos.vert",start:13041970,end:13042248},{filename:"/bnb_shaders/bnb/texture_bicubic.glsl",start:13042248,end:13043778},{filename:"/bnb_shaders/bnb/textures_lookup.glsl",start:13043778,end:13046487},{filename:"/bnb_shaders/bnb/transform_uv.glsl",start:13046487,end:13048919},{filename:"/bnb_shaders/bnb/uv_morph.frag",start:13048919,end:13049032},{filename:"/bnb_shaders/bnb/uv_morph.vert",start:13049032,end:13049563},{filename:"/bnb_shaders/bnb/vbg.frag",start:13049563,end:13050523},{filename:"/bnb_shaders/bnb/vbg.vert",start:13050523,end:13051986},{filename:"/bnb_shaders/bnb/version.glsl",start:13051986,end:13052290},{filename:"/watermark_blurred.png",start:13052290,end:13145912},{filename:"/watermark.png",start:13145912,end:13151833}],remote_package_size:13151833,package_uuid:"6b2f36ca-8e65-4918-9d5a-54e90e87addf"})}}();var a,o,u=t.FinalizationGroup,s=i({},t),c=[],l="./this.program",f=function(e,t){throw t},d="";"undefined"!==typeof document&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=0!==d.indexOf("blob:")?d.substr(0,d.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},o=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)};var h,p=t.print||console.log.bind(console),v=t.printErr||console.warn.bind(console);function m(e){m.shown||(m.shown={}),m.shown[e]||(m.shown[e]=1,v(e))}i(t,s),s=null,t.arguments&&(c=t.arguments),t.thisProgram&&(l=t.thisProgram),t.quit&&(f=t.quit),t.wasmBinary&&(h=t.wasmBinary);var y,g=t.noExitRuntime||!0;"object"!==typeof WebAssembly&&se("no native wasm support detected");var b,w=!1;function _(e,t){e||se(t)}function k(e,t){var n;return n=1==t?$n(e.length):Un(e.length),e.subarray||e.slice?N.set(e,n):N.set(new Uint8Array(e),n),n}var E="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function x(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&E)return E.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var u=63&e[t++];if(192!=(224&o)){var s=63&e[t++];if((o=224==(240&o)?(15&o)<<12|u<<6|s:(7&o)<<18|u<<12|s<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|u)}else a+=String.fromCharCode(o)}return a}function S(e,t){return e?x(N,e,t):""}function T(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var u=e.charCodeAt(o);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&e.charCodeAt(++o);if(u<=127){if(n>=a)break;t[n++]=u}else if(u<=2047){if(n+1>=a)break;t[n++]=192|u>>6,t[n++]=128|63&u}else if(u<=65535){if(n+2>=a)break;t[n++]=224|u>>12,t[n++]=128|u>>6&63,t[n++]=128|63&u}else{if(n+3>=a)break;t[n++]=240|u>>18,t[n++]=128|u>>12&63,t[n++]=128|u>>6&63,t[n++]=128|63&u}}return t[n]=0,n-i}function C(e,t,n){return T(e,N,t,n)}function I(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}var A,D,N,P,O,L,R,M,F,j,B="undefined"!==typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function V(e,t){for(var n=e,r=n>>1,i=r+t/2;!(r>=i)&&O[r];)++r;if((n=r<<1)-e>32&&B)return B.decode(N.subarray(e,n));for(var a="",o=0;!(o>=t/2);++o){var u=P[e+2*o>>1];if(0==u)break;a+=String.fromCharCode(u)}return a}function U(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,i=(n-=2)<2*e.length?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);P[t>>1]=o,t+=2}return P[t>>1]=0,t-r}function z(e){return 2*e.length}function q(e,t){for(var n=0,r="";!(n>=t/4);){var i=L[e+4*n>>2];if(0==i)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|1023&a)}else r+=String.fromCharCode(i)}return r}function G(e,t,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(L[t>>2]=o,(t+=4)+4>i)break}return L[t>>2]=0,t-r}function K(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function W(e){var t=I(e)+1,n=Un(t);return n&&T(e,D,n,t),n}function H(e){var t=I(e)+1,n=$n(t);return T(e,D,n,t),n}function Q(e,t){return e%t>0&&(e+=t-e%t),e}function $(e){A=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=P=new Int16Array(e),t.HEAP32=L=new Int32Array(e),t.HEAPU8=N=new Uint8Array(e),t.HEAPU16=O=new Uint16Array(e),t.HEAPU32=R=new Uint32Array(e),t.HEAPF32=M=new Float32Array(e),t.HEAPF64=F=new Float64Array(e)}t.INITIAL_MEMORY;var Y=[],X=[],J=[],Z=[],ee=!1;function te(){return g||!1}function ne(e){Y.unshift(e)}function re(e){Z.unshift(e)}var ie=0,ae=null;function oe(e){ie++,t.monitorRunDependencies&&t.monitorRunDependencies(ie)}function ue(e){if(ie--,t.monitorRunDependencies&&t.monitorRunDependencies(ie),0==ie&&ae){var n=ae;ae=null,n()}}function se(e){t.onAbort&&t.onAbort(e),v(e="Aborted("+e+")"),w=!0,b=1,e+=". Build with -s ASSERTIONS=1 for more info.";var n=new WebAssembly.RuntimeError(e);throw r(n),n}t.preloadedImages={},t.preloadedAudios={};var ce,le,fe,de;function he(e){return e.startsWith("data:application/octet-stream;base64,")}function pe(e){try{if(e==ce&&h)return new Uint8Array(h);throw"both async and sync fetching of the wasm failed"}catch(t){se(t)}}function ve(e){for(;e.length>0;){var n=e.shift();if("function"!=typeof n){var r=n.func;"number"===typeof r?void 0===n.arg?ge(r)():ge(r)(n.arg):r(void 0===n.arg?null:n.arg)}else n(t)}}he(ce="BanubaSDK.wasm")||(le=ce,ce=t.locateFile?t.locateFile(le,d):d+le);var me,ye=[];function ge(e){var t=ye[e];return t||(e>=ye.length&&(ye.length=e+1),ye[e]=t=j.get(e)),t}function be(e){if(e instanceof Xn||"unwind"==e)return b;f(1,e)}me=function(){return performance.now()};function we(e){return L[zn()>>2]=e,e}function _e(e,t){var n;if(0===e)n=Date.now();else{if(1!==e&&4!==e)return we(28),-1;n=me()}return L[t>>2]=n/1e3|0,L[t+4>>2]=n%1e3*1e3*1e3|0,0}var ke=[];function Ee(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){L[this.ptr+4>>2]=e},this.get_type=function(){return L[this.ptr+4>>2]},this.set_destructor=function(e){L[this.ptr+8>>2]=e},this.get_destructor=function(){return L[this.ptr+8>>2]},this.set_refcount=function(e){L[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,D[this.ptr+12>>0]=e},this.get_caught=function(){return 0!=D[this.ptr+12>>0]},this.set_rethrown=function(e){e=e?1:0,D[this.ptr+13>>0]=e},this.get_rethrown=function(){return 0!=D[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=L[this.ptr>>2];L[this.ptr>>2]=e+1},this.release_ref=function(){var e=L[this.ptr>>2];return L[this.ptr>>2]=e-1,1===e}}function xe(e,t){var n=new Date(1e3*L[e>>2]);L[t>>2]=n.getUTCSeconds(),L[t+4>>2]=n.getUTCMinutes(),L[t+8>>2]=n.getUTCHours(),L[t+12>>2]=n.getUTCDate(),L[t+16>>2]=n.getUTCMonth(),L[t+20>>2]=n.getUTCFullYear()-1900,L[t+24>>2]=n.getUTCDay(),L[t+36>>2]=0,L[t+32>>2]=0;var r=Date.UTC(n.getUTCFullYear(),0,1,0,0,0,0),i=(n.getTime()-r)/864e5|0;return L[t+28>>2]=i,xe.GMTString||(xe.GMTString=W("GMT")),L[t+40>>2]=xe.GMTString,t}var Se={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Se.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=Se.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Se.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Se.normalize(e.join("/"))},join2:function(e,t){return Se.normalize(e+"/"+t)}};function Te(){if("object"===typeof crypto&&"function"===typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){se("randomDevice")}}var Ce={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:Ne.cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Ce.resolve(e).substr(1),t=Ce.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,u=0;u<a;u++)if(r[u]!==i[u]){o=u;break}var s=[];for(u=o;u<r.length;u++)s.push("..");return(s=s.concat(i.slice(o))).join("/")}},Ie={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Ie.ttys[e]={input:[],output:[],ops:t},Ne.registerDevice(e,Ie.stream_ops)},stream_ops:{open:function(e){var t=Ie.ttys[e.node.rdev];if(!t)throw new Ne.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new Ne.ErrnoError(60);for(var a=0,o=0;o<r;o++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(s){throw new Ne.ErrnoError(29)}if(void 0===u&&0===a)throw new Ne.ErrnoError(6);if(null===u||void 0===u)break;a++,t[n+o]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new Ne.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch(o){throw new Ne.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=Bn(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(p(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(p(x(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(v(x(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(v(x(e.output,0)),e.output=[])}}};function Ae(e){e=function(e,t){return Math.ceil(e/t)*t}(e,65536);var t=Yn(65536,e);return t?(function(e,t){N.fill(0,e,e+t)}(t,e),t):0}var De={ops_table:null,mount:function(e){return De.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Ne.isBlkdev(n)||Ne.isFIFO(n))throw new Ne.ErrnoError(63);De.ops_table||(De.ops_table={dir:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,lookup:De.node_ops.lookup,mknod:De.node_ops.mknod,rename:De.node_ops.rename,unlink:De.node_ops.unlink,rmdir:De.node_ops.rmdir,readdir:De.node_ops.readdir,symlink:De.node_ops.symlink},stream:{llseek:De.stream_ops.llseek}},file:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:{llseek:De.stream_ops.llseek,read:De.stream_ops.read,write:De.stream_ops.write,allocate:De.stream_ops.allocate,mmap:De.stream_ops.mmap,msync:De.stream_ops.msync}},link:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr,readlink:De.node_ops.readlink},stream:{}},chrdev:{node:{getattr:De.node_ops.getattr,setattr:De.node_ops.setattr},stream:Ne.chrdev_stream_ops}});var i=Ne.createNode(e,t,n,r);return Ne.isDir(i.mode)?(i.node_ops=De.ops_table.dir.node,i.stream_ops=De.ops_table.dir.stream,i.contents={}):Ne.isFile(i.mode)?(i.node_ops=De.ops_table.file.node,i.stream_ops=De.ops_table.file.stream,i.usedBytes=0,i.contents=null):Ne.isLink(i.mode)?(i.node_ops=De.ops_table.link.node,i.stream_ops=De.ops_table.link.stream):Ne.isChrdev(i.mode)&&(i.node_ops=De.ops_table.chrdev.node,i.stream_ops=De.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1048576?2:1.125)>>>0),0!=n&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t)if(0==t)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ne.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ne.isDir(e.mode)?t.size=4096:Ne.isFile(e.mode)?t.size=e.usedBytes:Ne.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&De.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ne.genericErrors[44]},mknod:function(e,t,n,r){return De.createNode(e,t,n,r)},rename:function(e,t,n){if(Ne.isDir(e.mode)){var r;try{r=Ne.lookupNode(t,n)}catch(a){}if(r)for(var i in r.contents)throw new Ne.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir:function(e,t){var n=Ne.lookupNode(e,t);for(var r in n.contents)throw new Ne.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=De.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!Ne.isLink(e.mode))throw new Ne.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var u=0;u<o;u++)t[n+u]=a[i+u];return o},write:function(e,t,n,r,i,a){if(t.buffer===D.buffer&&(a=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(De.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var u=0;u<r;u++)o.contents[i+u]=t[n+u];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&Ne.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new Ne.ErrnoError(28);return r},allocate:function(e,t,n){De.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a){if(0!==t)throw new Ne.ErrnoError(28);if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);var o,u,s=e.node.contents;if(2&a||s.buffer!==A){if((r>0||r+n<s.length)&&(s=s.subarray?s.subarray(r,r+n):Array.prototype.slice.call(s,r,r+n)),u=!0,!(o=Ae(n)))throw new Ne.ErrnoError(48);D.set(s,o)}else u=!1,o=s.byteOffset;return{ptr:o,allocated:u}},msync:function(e,t,n,r,i){if(!Ne.isFile(e.node.mode))throw new Ne.ErrnoError(43);return 2&i||De.stream_ops.write(e,t,0,r,n,!1),0}}};var Ne={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(e,t){if(t=t||{},!(e=Ce.resolve(Ne.cwd(),e)))return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new Ne.ErrnoError(32);for(var i=Se.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),a=Ne.root,o="/",u=0;u<i.length;u++){var s=u===i.length-1;if(s&&t.parent)break;if(a=Ne.lookupNode(a,i[u]),o=Se.join2(o,i[u]),Ne.isMountpoint(a)&&(!s||s&&t.follow_mount)&&(a=a.mounted.root),!s||t.follow)for(var c=0;Ne.isLink(a.mode);){var l=Ne.readlink(o);if(o=Ce.resolve(Se.dirname(o),l),a=Ne.lookupPath(o,{recurse_count:t.recurse_count}).node,c++>40)throw new Ne.ErrnoError(32)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(Ne.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Ne.nameTable.length},hashAddNode:function(e){var t=Ne.hashName(e.parent.id,e.name);e.name_next=Ne.nameTable[t],Ne.nameTable[t]=e},hashRemoveNode:function(e){var t=Ne.hashName(e.parent.id,e.name);if(Ne.nameTable[t]===e)Ne.nameTable[t]=e.name_next;else for(var n=Ne.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=Ne.mayLookup(e);if(n)throw new Ne.ErrnoError(n,e);for(var r=Ne.hashName(e.id,t),i=Ne.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return Ne.lookup(e,t)},createNode:function(e,t,n,r){var i=new Ne.FSNode(e,t,n,r);return Ne.hashAddNode(i),i},destroyNode:function(e){Ne.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(e){var t=Ne.flagModes[e];if("undefined"===typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ne.ignorePermissions||(!t.includes("r")||292&e.mode)&&(!t.includes("w")||146&e.mode)&&(!t.includes("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Ne.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{Ne.lookupNode(e,t);return 20}catch(n){}return Ne.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=Ne.lookupNode(e,t)}catch(a){return a.errno}var i=Ne.nodePermissions(e,"wx");if(i)return i;if(n){if(!Ne.isDir(r.mode))return 54;if(Ne.isRoot(r)||Ne.getPath(r)===Ne.cwd())return 10}else if(Ne.isDir(r.mode))return 31;return 0},mayOpen:function(e,t){return e?Ne.isLink(e.mode)?32:Ne.isDir(e.mode)&&("r"!==Ne.flagsToPermissionString(t)||512&t)?31:Ne.nodePermissions(e,Ne.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ne.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!Ne.streams[n])return n;throw new Ne.ErrnoError(33)},getStream:function(e){return Ne.streams[e]},createStream:function(e,t,n){Ne.FSStream||(Ne.FSStream=function(){},Ne.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new Ne.FSStream;for(var i in e)r[i]=e[i];e=r;var a=Ne.nextfd(t,n);return e.fd=a,Ne.streams[a]=e,e},closeStream:function(e){Ne.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ne.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ne.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ne.devices[e]={stream_ops:t}},getDevice:function(e){return Ne.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){"function"===typeof e&&(t=e,e=!1),Ne.syncFSRequests++,Ne.syncFSRequests>1&&v("warning: "+Ne.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Ne.getMounts(Ne.root.mount),r=0;function i(e){return Ne.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach((function(t){if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)}))},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&Ne.root)throw new Ne.ErrnoError(10);if(!i&&!a){var o=Ne.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,Ne.isMountpoint(r))throw new Ne.ErrnoError(10);if(!Ne.isDir(r.mode))throw new Ne.ErrnoError(54)}var u={type:e,opts:t,mountpoint:n,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,i?Ne.root=s:r&&(r.mounted=u,r.mount&&r.mount.mounts.push(u)),s},unmount:function(e){var t=Ne.lookupPath(e,{follow_mount:!1});if(!Ne.isMountpoint(t.node))throw new Ne.ErrnoError(28);var n=t.node,r=n.mounted,i=Ne.getMounts(r);Object.keys(Ne.nameTable).forEach((function(e){for(var t=Ne.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&Ne.destroyNode(t),t=n}})),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=Ne.lookupPath(e,{parent:!0}).node,i=Se.basename(e);if(!i||"."===i||".."===i)throw new Ne.ErrnoError(28);var a=Ne.mayCreate(r,i);if(a)throw new Ne.ErrnoError(a);if(!r.node_ops.mknod)throw new Ne.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ne.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ne.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{Ne.mkdir(r,t)}catch(a){if(20!=a.errno)throw a}}},mkdev:function(e,t,n){return"undefined"===typeof n&&(n=t,t=438),t|=8192,Ne.mknod(e,t,n)},symlink:function(e,t){if(!Ce.resolve(e))throw new Ne.ErrnoError(44);var n=Ne.lookupPath(t,{parent:!0}).node;if(!n)throw new Ne.ErrnoError(44);var r=Se.basename(t),i=Ne.mayCreate(n,r);if(i)throw new Ne.ErrnoError(i);if(!n.node_ops.symlink)throw new Ne.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename:function(e,t){var n,r,i=Se.dirname(e),a=Se.dirname(t),o=Se.basename(e),u=Se.basename(t);if(n=Ne.lookupPath(e,{parent:!0}).node,r=Ne.lookupPath(t,{parent:!0}).node,!n||!r)throw new Ne.ErrnoError(44);if(n.mount!==r.mount)throw new Ne.ErrnoError(75);var s,c=Ne.lookupNode(n,o),l=Ce.relative(e,a);if("."!==l.charAt(0))throw new Ne.ErrnoError(28);if("."!==(l=Ce.relative(t,i)).charAt(0))throw new Ne.ErrnoError(55);try{s=Ne.lookupNode(r,u)}catch(h){}if(c!==s){var f=Ne.isDir(c.mode),d=Ne.mayDelete(n,o,f);if(d)throw new Ne.ErrnoError(d);if(d=s?Ne.mayDelete(r,u,f):Ne.mayCreate(r,u))throw new Ne.ErrnoError(d);if(!n.node_ops.rename)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(c)||s&&Ne.isMountpoint(s))throw new Ne.ErrnoError(10);if(r!==n&&(d=Ne.nodePermissions(n,"w")))throw new Ne.ErrnoError(d);Ne.hashRemoveNode(c);try{n.node_ops.rename(c,r,u)}catch(h){throw h}finally{Ne.hashAddNode(c)}}},rmdir:function(e){var t=Ne.lookupPath(e,{parent:!0}).node,n=Se.basename(e),r=Ne.lookupNode(t,n),i=Ne.mayDelete(t,n,!0);if(i)throw new Ne.ErrnoError(i);if(!t.node_ops.rmdir)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.rmdir(t,n),Ne.destroyNode(r)},readdir:function(e){var t=Ne.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ne.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ne.lookupPath(e,{parent:!0}).node;if(!t)throw new Ne.ErrnoError(44);var n=Se.basename(e),r=Ne.lookupNode(t,n),i=Ne.mayDelete(t,n,!1);if(i)throw new Ne.ErrnoError(i);if(!t.node_ops.unlink)throw new Ne.ErrnoError(63);if(Ne.isMountpoint(r))throw new Ne.ErrnoError(10);t.node_ops.unlink(t,n),Ne.destroyNode(r)},readlink:function(e){var t=Ne.lookupPath(e).node;if(!t)throw new Ne.ErrnoError(44);if(!t.node_ops.readlink)throw new Ne.ErrnoError(28);return Ce.resolve(Ne.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var n=Ne.lookupPath(e,{follow:!t}).node;if(!n)throw new Ne.ErrnoError(44);if(!n.node_ops.getattr)throw new Ne.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ne.stat(e,!0)},chmod:function(e,t,n){var r;"string"===typeof e?r=Ne.lookupPath(e,{follow:!n}).node:r=e;if(!r.node_ops.setattr)throw new Ne.ErrnoError(63);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){Ne.chmod(e,t,!0)},fchmod:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);Ne.chmod(n.node,t)},chown:function(e,t,n,r){var i;"string"===typeof e?i=Ne.lookupPath(e,{follow:!r}).node:i=e;if(!i.node_ops.setattr)throw new Ne.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){Ne.chown(e,t,n,!0)},fchown:function(e,t,n){var r=Ne.getStream(e);if(!r)throw new Ne.ErrnoError(8);Ne.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new Ne.ErrnoError(28);var n;"string"===typeof e?n=Ne.lookupPath(e,{follow:!0}).node:n=e;if(!n.node_ops.setattr)throw new Ne.ErrnoError(63);if(Ne.isDir(n.mode))throw new Ne.ErrnoError(31);if(!Ne.isFile(n.mode))throw new Ne.ErrnoError(28);var r=Ne.nodePermissions(n,"w");if(r)throw new Ne.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=Ne.getStream(e);if(!n)throw new Ne.ErrnoError(8);if(0===(2097155&n.flags))throw new Ne.ErrnoError(28);Ne.truncate(n.node,t)},utime:function(e,t,n){var r=Ne.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open:function(e,n,r,i,a){if(""===e)throw new Ne.ErrnoError(44);var o;if(r="undefined"===typeof r?438:r,r=64&(n="string"===typeof n?Ne.modeStringToFlags(n):n)?4095&r|32768:0,"object"===typeof e)o=e;else{e=Se.normalize(e);try{o=Ne.lookupPath(e,{follow:!(131072&n)}).node}catch(l){}}var u=!1;if(64&n)if(o){if(128&n)throw new Ne.ErrnoError(20)}else o=Ne.mknod(e,r,0),u=!0;if(!o)throw new Ne.ErrnoError(44);if(Ne.isChrdev(o.mode)&&(n&=-513),65536&n&&!Ne.isDir(o.mode))throw new Ne.ErrnoError(54);if(!u){var s=Ne.mayOpen(o,n);if(s)throw new Ne.ErrnoError(s)}512&n&&Ne.truncate(o,0),n&=-131713;var c=Ne.createStream({node:o,path:Ne.getPath(o),id:o.id,flags:n,mode:o.mode,seekable:!0,position:0,stream_ops:o.stream_ops,node_ops:o.node_ops,ungotten:[],error:!1},i,a);return c.stream_ops.open&&c.stream_ops.open(c),!t.logReadFiles||1&n||(Ne.readFiles||(Ne.readFiles={}),e in Ne.readFiles||(Ne.readFiles[e]=1)),c},close:function(e){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{Ne.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ne.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Ne.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(1===(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.read)throw new Ne.ErrnoError(28);var a="undefined"!==typeof i;if(a){if(!e.seekable)throw new Ne.ErrnoError(70)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new Ne.ErrnoError(28);if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(0===(2097155&e.flags))throw new Ne.ErrnoError(8);if(Ne.isDir(e.node.mode))throw new Ne.ErrnoError(31);if(!e.stream_ops.write)throw new Ne.ErrnoError(28);e.seekable&&1024&e.flags&&Ne.llseek(e,0,2);var o="undefined"!==typeof i;if(o){if(!e.seekable)throw new Ne.ErrnoError(70)}else i=e.position;var u=e.stream_ops.write(e,t,n,r,i,a);return o||(e.position+=u),u},allocate:function(e,t,n){if(Ne.isClosed(e))throw new Ne.ErrnoError(8);if(t<0||n<=0)throw new Ne.ErrnoError(28);if(0===(2097155&e.flags))throw new Ne.ErrnoError(8);if(!Ne.isFile(e.node.mode)&&!Ne.isDir(e.node.mode))throw new Ne.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ne.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a){if(0!==(2&i)&&0===(2&a)&&2!==(2097155&e.flags))throw new Ne.ErrnoError(2);if(1===(2097155&e.flags))throw new Ne.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ne.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i,a)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new Ne.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=Ne.open(e,t.flags),i=Ne.stat(e).size,a=new Uint8Array(i);return Ne.read(r,a,0,i,0),"utf8"===t.encoding?n=x(a,0):"binary"===t.encoding&&(n=a),Ne.close(r),n},writeFile:function(e,t,n){(n=n||{}).flags=n.flags||577;var r=Ne.open(e,n.flags,n.mode);if("string"===typeof t){var i=new Uint8Array(I(t)+1),a=T(t,i,0,i.length);Ne.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ne.write(r,t,0,t.byteLength,void 0,n.canOwn)}Ne.close(r)},cwd:function(){return Ne.currentPath},chdir:function(e){var t=Ne.lookupPath(e,{follow:!0});if(null===t.node)throw new Ne.ErrnoError(44);if(!Ne.isDir(t.node.mode))throw new Ne.ErrnoError(54);var n=Ne.nodePermissions(t.node,"x");if(n)throw new Ne.ErrnoError(n);Ne.currentPath=t.path},createDefaultDirectories:function(){Ne.mkdir("/tmp"),Ne.mkdir("/home"),Ne.mkdir("/home/web_user")},createDefaultDevices:function(){Ne.mkdir("/dev"),Ne.registerDevice(Ne.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),Ne.mkdev("/dev/null",Ne.makedev(1,3)),Ie.register(Ne.makedev(5,0),Ie.default_tty_ops),Ie.register(Ne.makedev(6,0),Ie.default_tty1_ops),Ne.mkdev("/dev/tty",Ne.makedev(5,0)),Ne.mkdev("/dev/tty1",Ne.makedev(6,0));var e=Te();Ne.createDevice("/dev","random",e),Ne.createDevice("/dev","urandom",e),Ne.mkdir("/dev/shm"),Ne.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ne.mkdir("/proc");var e=Ne.mkdir("/proc/self");Ne.mkdir("/proc/self/fd"),Ne.mount({mount:function(){var t=Ne.createNode(e,"fd",16895,73);return t.node_ops={lookup:function(e,t){var n=+t,r=Ne.getStream(n);if(!r)throw new Ne.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},t}},{},"/proc/self/fd")},createStandardStreams:function(){t.stdin?Ne.createDevice("/dev","stdin",t.stdin):Ne.symlink("/dev/tty","/dev/stdin"),t.stdout?Ne.createDevice("/dev","stdout",null,t.stdout):Ne.symlink("/dev/tty","/dev/stdout"),t.stderr?Ne.createDevice("/dev","stderr",null,t.stderr):Ne.symlink("/dev/tty1","/dev/stderr"),Ne.open("/dev/stdin",0),Ne.open("/dev/stdout",1),Ne.open("/dev/stderr",1)},ensureErrnoError:function(){Ne.ErrnoError||(Ne.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ne.ErrnoError.prototype=new Error,Ne.ErrnoError.prototype.constructor=Ne.ErrnoError,[44].forEach((function(e){Ne.genericErrors[e]=new Ne.ErrnoError(e),Ne.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ne.ensureErrnoError(),Ne.nameTable=new Array(4096),Ne.mount(De,{},"/"),Ne.createDefaultDirectories(),Ne.createDefaultDevices(),Ne.createSpecialDirectories(),Ne.filesystems={MEMFS:De}},init:function(e,n,r){Ne.init.initialized=!0,Ne.ensureErrnoError(),t.stdin=e||t.stdin,t.stdout=n||t.stdout,t.stderr=r||t.stderr,Ne.createStandardStreams()},quit:function(){Ne.init.initialized=!1;for(var e=0;e<Ne.streams.length;e++){var t=Ne.streams[e];t&&Ne.close(t)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},findObject:function(e,t){var n=Ne.analyzePath(e,t);return n.exists?n.object:null},analyzePath:function(e,t){try{e=(r=Ne.lookupPath(e,{follow:!t})).path}catch(i){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ne.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Se.basename(e),r=Ne.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(i){n.error=i.errno}return n},createPath:function(e,t,n,r){e="string"===typeof e?e:Ne.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=Se.join2(e,a);try{Ne.mkdir(o)}catch(u){}e=o}}return o},createFile:function(e,t,n,r,i){var a=Se.join2("string"===typeof e?e:Ne.getPath(e),t),o=Ne.getMode(r,i);return Ne.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?Se.join2("string"===typeof e?e:Ne.getPath(e),t):e,u=Ne.getMode(r,i),s=Ne.create(o,u);if(n){if("string"===typeof n){for(var c=new Array(n.length),l=0,f=n.length;l<f;++l)c[l]=n.charCodeAt(l);n=c}Ne.chmod(s,146|u);var d=Ne.open(s,577);Ne.write(d,n,0,n.length,0,a),Ne.close(d),Ne.chmod(s,u)}return s},createDevice:function(e,t,n,r){var i=Se.join2("string"===typeof e?e:Ne.getPath(e),t),a=Ne.getMode(!!n,!!r);Ne.createDevice.major||(Ne.createDevice.major=64);var o=Ne.makedev(Ne.createDevice.major++,0);return Ne.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,u=0;u<i;u++){var s;try{s=n()}catch(c){throw new Ne.ErrnoError(29)}if(void 0===s&&0===o)throw new Ne.ErrnoError(6);if(null===s||void 0===s)break;o++,t[r+u]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(u){throw new Ne.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),Ne.mkdev(i,a,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Bn(a(e.url),!0),e.usedBytes=e.contents.length}catch(t){throw new Ne.ErrnoError(29)}},createLazyFile:function(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=r);var u=this;u.setDataGetter((function(e){var t=e*o,i=(e+1)*o-1;if(i=Math.min(i,r-1),"undefined"===typeof u.chunks[e]&&(u.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>r-1)throw new Error("only "+r+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",n,!1),r!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+n+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Bn(i.responseText||"",!0)}(t,i)),"undefined"===typeof u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]})),!a&&r||(o=r=1,r=this.getter(0).length,o=r,p("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=r,this._chunkSize=o,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o={isDevice:!1,url:n},u=Ne.createFile(e,t,o,r,i);o.contents?u.contents=o.contents:o.url&&(u.contents=null,u.url=o.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var s={};return Object.keys(u.stream_ops).forEach((function(e){var t=u.stream_ops[e];s[e]=function(){return Ne.forceLoadFile(u),t.apply(null,arguments)}})),s.read=function(e,t,n,r,i){Ne.forceLoadFile(u);var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(s=0;s<o;s++)t[n+s]=a.get(i+s);return o},u.stream_ops=s,u},createPreloadedFile:function(e,n,r,i,a,u,s,c,l,f){sn.init();var d=n?Ce.resolve(Se.join2(e,n)):e;function h(r){function o(t){f&&f(),c||Ne.createDataFile(e,n,t,i,a,l),u&&u(),ue()}var h=!1;t.preloadPlugins.forEach((function(e){h||e.canHandle(d)&&(e.handle(r,d,o,(function(){s&&s(),ue()})),h=!0)})),h||o(r)}oe(),"string"==typeof r?function(e,t,n,r){var i=r?"":"al "+e;o(e,(function(n){_(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),i&&ue()}),(function(t){if(!n)throw'Loading data file "'+e+'" failed.';n()})),i&&oe()}(r,(function(e){h(e)}),s):h(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Ne.indexedDB();try{var i=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(a){return n(a)}i.onupgradeneeded=function(){p("creating db"),i.result.createObjectStore(Ne.DB_STORE_NAME)},i.onsuccess=function(){var r=i.result.transaction([Ne.DB_STORE_NAME],"readwrite"),a=r.objectStore(Ne.DB_STORE_NAME),o=0,u=0,s=e.length;function c(){0==u?t():n()}e.forEach((function(e){var t=a.put(Ne.analyzePath(e).object.contents,e);t.onsuccess=function(){++o+u==s&&c()},t.onerror=function(){u++,o+u==s&&c()}})),r.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=Ne.indexedDB();try{var i=r.open(Ne.DB_NAME(),Ne.DB_VERSION)}catch(a){return n(a)}i.onupgradeneeded=n,i.onsuccess=function(){var r=i.result;try{var o=r.transaction([Ne.DB_STORE_NAME],"readonly")}catch(a){return void n(a)}var u=o.objectStore(Ne.DB_STORE_NAME),s=0,c=0,l=e.length;function f(){0==c?t():n()}e.forEach((function(e){var t=u.get(e);t.onsuccess=function(){Ne.analyzePath(e).exists&&Ne.unlink(e),Ne.createDataFile(Se.dirname(e),Se.basename(e),t.result,!0,!0,!0),++s+c==l&&f()},t.onerror=function(){c++,s+c==l&&f()}})),o.onerror=n},i.onerror=n}},Pe={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if("/"===t[0])return t;var r;if(-100===e)r=Ne.cwd();else{var i=Ne.getStream(e);if(!i)throw new Ne.ErrnoError(8);r=i.path}if(0==t.length){if(!n)throw new Ne.ErrnoError(44);return r}return Se.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(i){if(i&&i.node&&Se.normalize(t)!==Se.normalize(Ne.getPath(i.node)))return-54;throw i}return L[n>>2]=r.dev,L[n+4>>2]=0,L[n+8>>2]=r.ino,L[n+12>>2]=r.mode,L[n+16>>2]=r.nlink,L[n+20>>2]=r.uid,L[n+24>>2]=r.gid,L[n+28>>2]=r.rdev,L[n+32>>2]=0,de=[r.size>>>0,(fe=r.size,+Math.abs(fe)>=1?fe>0?(0|Math.min(+Math.floor(fe/4294967296),4294967295))>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],L[n+40>>2]=de[0],L[n+44>>2]=de[1],L[n+48>>2]=4096,L[n+52>>2]=r.blocks,L[n+56>>2]=r.atime.getTime()/1e3|0,L[n+60>>2]=0,L[n+64>>2]=r.mtime.getTime()/1e3|0,L[n+68>>2]=0,L[n+72>>2]=r.ctime.getTime()/1e3|0,L[n+76>>2]=0,de=[r.ino>>>0,(fe=r.ino,+Math.abs(fe)>=1?fe>0?(0|Math.min(+Math.floor(fe/4294967296),4294967295))>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],L[n+80>>2]=de[0],L[n+84>>2]=de[1],0},doMsync:function(e,t,n,r,i){var a=N.slice(e,e+n);Ne.msync(t,a,i,n,r)},doMkdir:function(e,t){return"/"===(e=Se.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ne.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ne.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-28;var r=Ne.readlink(e),i=Math.min(n,I(r)),a=D[t+i];return C(r,t,n+1),D[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-28;var n=Ne.lookupPath(e,{follow:!0}).node;if(!n)return-44;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&Ne.nodePermissions(n,r)?-2:0},doDup:function(e,t,n){var r=Ne.getStream(n);return r&&Ne.close(r),Ne.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=L[t+8*a>>2],u=L[t+(8*a+4)>>2],s=Ne.read(e,D,o,u,r);if(s<0)return-1;if(i+=s,s<u)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=L[t+8*a>>2],u=L[t+(8*a+4)>>2],s=Ne.write(e,D,o,u,r);if(s<0)return-1;i+=s}return i},varargs:void 0,get:function(){return Pe.varargs+=4,L[Pe.varargs-4>>2]},getStr:function(e){return S(e)},getStreamFromFD:function(e){var t=Ne.getStream(e);if(!t)throw new Ne.ErrnoError(8);return t},get64:function(e,t){return e}};function Oe(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Le=void 0;function Re(e){for(var t="",n=e;N[n];)t+=Le[N[n++]];return t}var Me={},Fe={},je={};function Be(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function Ve(e,t){return e=Be(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Ue(e,t){var n=Ve(t,(function(e){this.name=t,this.message=e;var n=new Error(e).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ze=void 0;function qe(e){throw new ze(e)}var Ge=void 0;function Ke(e){throw new Ge(e)}function We(e,t,n){function r(t){var r=n(t);r.length!==e.length&&Ke("Mismatched type converter count");for(var i=0;i<e.length;++i)He(e[i],r[i])}e.forEach((function(e){je[e]=t}));var i=new Array(t.length),a=[],o=0;t.forEach((function(e,t){Fe.hasOwnProperty(e)?i[t]=Fe[e]:(a.push(e),Me.hasOwnProperty(e)||(Me[e]=[]),Me[e].push((function(){i[t]=Fe[e],++o===a.length&&r(i)})))})),0===a.length&&r(i)}function He(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||qe('type "'+r+'" must have a positive integer typeid pointer'),Fe.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;qe("Cannot register type '"+r+"' twice")}if(Fe[e]=t,delete je[e],Me.hasOwnProperty(e)){var i=Me[e];delete Me[e],i.forEach((function(e){e()}))}}function Qe(e){if(!(this instanceof ut))return!1;if(!(e instanceof ut))return!1;for(var t=this.$$.ptrType.registeredClass,n=this.$$.ptr,r=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;r.baseClass;)i=r.upcast(i),r=r.baseClass;return t===r&&n===i}function $e(e){qe(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Ye=!1;function Xe(e){}function Je(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function Ze(e){return"undefined"===typeof u?(Ze=function(e){return e},e):(Ye=new u((function(e){for(var t=e.next();!t.done;t=e.next()){var n=t.value;n.ptr?Je(n):console.warn("object already deleted: "+n.ptr)}})),Xe=function(e){Ye.unregister(e.$$)},(Ze=function(e){return Ye.register(e,e.$$,e.$$),e})(e))}function et(){if(this.$$.ptr||$e(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e,t=Ze(Object.create(Object.getPrototypeOf(this),{$$:{value:(e=this.$$,{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType})}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t}function tt(){this.$$.ptr||$e(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&qe("Object already scheduled for deletion"),Xe(this),Je(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function nt(){return!this.$$.ptr}var rt=void 0,it=[];function at(){for(;it.length;){var e=it.pop();e.$$.deleteScheduled=!1,e.delete()}}function ot(){return this.$$.ptr||$e(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&qe("Object already scheduled for deletion"),it.push(this),1===it.length&&rt&&rt(at),this.$$.deleteScheduled=!0,this}function ut(){}var st={};function ct(e,t,n){if(void 0===e[t].overloadTable){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||qe("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function lt(e,n,r){t.hasOwnProperty(e)?((void 0===r||void 0!==t[e].overloadTable&&void 0!==t[e].overloadTable[r])&&qe("Cannot register public name '"+e+"' twice"),ct(t,e,e),t.hasOwnProperty(r)&&qe("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),t[e].overloadTable[r]=n):(t[e]=n,void 0!==r&&(t[e].numArguments=r))}function ft(e,t,n,r,i,a,o,u){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=r,this.baseClass=i,this.getActualType=a,this.upcast=o,this.downcast=u,this.pureVirtualFunctions=[]}function dt(e,t,n){for(;t!==n;)t.upcast||qe("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function ht(e,t){if(null===t)return this.isReference&&qe("null is not a valid "+this.name),0;t.$$||qe('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||qe("Cannot pass deleted object as a pointer of type "+this.name);var n=t.$$.ptrType.registeredClass;return dt(t.$$.ptr,n,this.registeredClass)}function pt(e,t){var n;if(null===t)return this.isReference&&qe("null is not a valid "+this.name),this.isSmartPointer?(n=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,n),n):0;t.$$||qe('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||qe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&qe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;if(n=dt(t.$$.ptr,r,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&qe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:qe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var i=t.clone();n=this.rawShare(n,Kt.toHandle((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,n)}break;default:qe("Unsupporting sharing policy")}return n}function vt(e,t){if(null===t)return this.isReference&&qe("null is not a valid "+this.name),0;t.$$||qe('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||qe("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&qe("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;return dt(t.$$.ptr,n,this.registeredClass)}function mt(e){return this.fromWireType(R[e>>2])}function yt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function gt(e){this.rawDestructor&&this.rawDestructor(e)}function bt(e){null!==e&&e.delete()}function wt(e,t,n){if(t===n)return e;if(void 0===n.baseClass)return null;var r=wt(e,t,n.baseClass);return null===r?null:n.downcast(r)}function _t(){return Object.keys(xt).length}function kt(){var e=[];for(var t in xt)xt.hasOwnProperty(t)&&e.push(xt[t]);return e}function Et(e){rt=e,it.length&&rt&&rt(at)}var xt={};function St(e,t){return t=function(e,t){for(void 0===t&&qe("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),xt[t]}function Tt(e,t){return t.ptrType&&t.ptr||Ke("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&Ke("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ze(Object.create(e,{$$:{value:t}}))}function Ct(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=St(this.registeredClass,t);if(void 0!==n){if(0===n.$$.count.value)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var r=n.clone();return this.destructor(e),r}function i(){return this.isSmartPointer?Tt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Tt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var a,o=this.registeredClass.getActualType(t),u=st[o];if(!u)return i.call(this);a=this.isConst?u.constPointerType:u.pointerType;var s=wt(t,this.registeredClass,a.registeredClass);return null===s?i.call(this):this.isSmartPointer?Tt(a.registeredClass.instancePrototype,{ptrType:a,ptr:s,smartPtrType:this,smartPtr:e}):Tt(a.registeredClass.instancePrototype,{ptrType:a,ptr:s})}function It(e,t,n,r,i,a,o,u,s,c,l){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=r,this.isSmartPointer=i,this.pointeeType=a,this.sharingPolicy=o,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=l,i||void 0!==t.baseClass?this.toWireType=pt:r?(this.toWireType=ht,this.destructorFunction=null):(this.toWireType=vt,this.destructorFunction=null)}function At(e,n,r){t.hasOwnProperty(e)||Ke("Replacing nonexistant public symbol"),void 0!==t[e].overloadTable&&void 0!==r?t[e].overloadTable[r]=n:(t[e]=n,t[e].argCount=r)}function Dt(e,n,r){return e.includes("j")?function(e,n,r){var i=t["dynCall_"+e];return r&&r.length?i.apply(null,[n].concat(r)):i.call(null,n)}(e,n,r):ge(n).apply(null,r)}function Nt(e,t){var n=(e=Re(e)).includes("j")?function(e,t){var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return Dt(e,t,n)}}(e,t):ge(t);return"function"!==typeof n&&qe("unknown function pointer with signature "+e+": "+t),n}var Pt=void 0;function Ot(e){var t=Gn(e),n=Re(t);return qn(t),n}function Lt(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Fe[t]||(je[t]?je[t].forEach(e):(n.push(t),r[t]=!0))})),new Pt(e+": "+n.map(Ot).join([", "]))}function Rt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var n=Ve(e.name||"unknownFunctionName",(function(){}));n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return i instanceof Object?i:r}function Mt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ft(e,t,n,r,i){var a=t.length;a<2&&qe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&null!==n,u=!1,s=1;s<t.length;++s)if(null!==t[s]&&void 0===t[s].destructorFunction){u=!0;break}var c="void"!==t[0].name,l="",f="";for(s=0;s<a-2;++s)l+=(0!==s?", ":"")+"arg"+s,f+=(0!==s?", ":"")+"arg"+s+"Wired";var d="return function "+Be(e)+"("+l+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var h=u?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[qe,r,i,Mt,t[0],t[1]];o&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(s=0;s<a-2;++s)d+="var arg"+s+"Wired = argType"+s+".toWireType("+h+", arg"+s+"); // "+t[s+2].name+"\n",p.push("argType"+s),v.push(t[s+2]);if(o&&(f="thisWired"+(f.length>0?", ":"")+f),d+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",u)d+="runDestructors(destructors);\n";else for(s=o?1:2;s<t.length;++s){var m=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==t[s].destructorFunction&&(d+=m+"_dtor("+m+"); // "+t[s].name+"\n",p.push(m+"_dtor"),v.push(t[s].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d),Rt(Function,p).apply(null,v)}function jt(e,t){for(var n=[],r=0;r<e;r++)n.push(L[(t>>2)+r]);return n}function Bt(e,t,n){return e instanceof Object||qe(n+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||qe(n+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||qe("cannot call emscripten binding method "+n+" on deleted object"),dt(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}var Vt=[],Ut=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function zt(e){e>4&&0===--Ut[e].refcount&&(Ut[e]=void 0,Vt.push(e))}function qt(){for(var e=0,t=5;t<Ut.length;++t)void 0!==Ut[t]&&++e;return e}function Gt(){for(var e=5;e<Ut.length;++e)if(void 0!==Ut[e])return Ut[e];return null}var Kt={toValue:function(e){return e||qe("Cannot use deleted val. handle = "+e),Ut[e].value},toHandle:function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Vt.length?Vt.pop():Ut.length;return Ut[t]={refcount:1,value:e},t}}};function Wt(e,t,n){switch(t){case 0:return function(e){var t=n?D:N;return this.fromWireType(t[e])};case 1:return function(e){var t=n?P:O;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?L:R;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Ht(e,t){var n=Fe[e];return void 0===n&&qe(t+" has unknown type "+Ot(e)),n}function Qt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function $t(e,t){switch(t){case 2:return function(e){return this.fromWireType(M[e>>2])};case 3:return function(e){return this.fromWireType(F[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Yt(e,t,n){switch(t){case 0:return n?function(e){return D[e]}:function(e){return N[e]};case 1:return n?function(e){return P[e>>1]}:function(e){return O[e>>1]};case 2:return n?function(e){return L[e>>2]}:function(e){return R[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Xt(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=Ht(L[(t>>2)+r],"parameter "+r);return n}var Jt={};function Zt(e){var t=Jt[e];return void 0===t?Re(e):t}var en=[];var tn=[];function nn(e,t){if(sn.mainLoop.timingMode=e,sn.mainLoop.timingValue=t,!sn.mainLoop.func)return 1;if(sn.mainLoop.running||(sn.mainLoop.running=!0),0==e)sn.mainLoop.scheduler=function(){var e=0|Math.max(0,sn.mainLoop.tickStartTime+t-me());setTimeout(sn.mainLoop.runner,e)},sn.mainLoop.method="timeout";else if(1==e)sn.mainLoop.scheduler=function(){sn.requestAnimationFrame(sn.mainLoop.runner)},sn.mainLoop.method="rAF";else if(2==e){if("undefined"===typeof setImmediate){var n=[],r="setimmediate";addEventListener("message",(function(e){e.data!==r&&e.data.target!==r||(e.stopPropagation(),n.shift()())}),!0),setImmediate=function(e){n.push(e),postMessage(r,"*")}}sn.mainLoop.scheduler=function(){setImmediate(sn.mainLoop.runner)},sn.mainLoop.method="immediate"}return 0}function rn(e){Zn(e)}function an(e,t,n,r,i){_(!sn.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),sn.mainLoop.func=e,sn.mainLoop.arg=r;var a=sn.mainLoop.currentlyRunningMainloop;function o(){return!(a<sn.mainLoop.currentlyRunningMainloop)||(function(){if(!te())try{rn(b)}catch(e){be(e)}}(),!1)}if(sn.mainLoop.running=!1,sn.mainLoop.runner=function(){if(!w)if(sn.mainLoop.queue.length>0){var t=Date.now(),n=sn.mainLoop.queue.shift();if(n.func(n.arg),sn.mainLoop.remainingBlockers){var r=sn.mainLoop.remainingBlockers,i=r%1==0?r-1:Math.floor(r);n.counted?sn.mainLoop.remainingBlockers=i:(i+=.5,sn.mainLoop.remainingBlockers=(8*r+i)/9)}if(p('main loop blocker "'+n.name+'" took '+(Date.now()-t)+" ms"),sn.mainLoop.updateStatus(),!o())return;setTimeout(sn.mainLoop.runner,0)}else o()&&(sn.mainLoop.currentFrameNumber=sn.mainLoop.currentFrameNumber+1|0,1==sn.mainLoop.timingMode&&sn.mainLoop.timingValue>1&&sn.mainLoop.currentFrameNumber%sn.mainLoop.timingValue!=0?sn.mainLoop.scheduler():(0==sn.mainLoop.timingMode&&(sn.mainLoop.tickStartTime=me()),sn.mainLoop.runIter(e),o()&&("object"===typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),sn.mainLoop.scheduler())))},i||(t&&t>0?nn(0,1e3/t):nn(1,1),sn.mainLoop.scheduler()),n)throw"unwind"}function on(e,t){if(!ee&&!w)if(t)e();else try{e()}catch(n){be(n)}}function un(e,t){return setTimeout((function(){on(e)}),t)}var sn={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){sn.mainLoop.scheduler=null,sn.mainLoop.currentlyRunningMainloop++},resume:function(){sn.mainLoop.currentlyRunningMainloop++;var e=sn.mainLoop.timingMode,t=sn.mainLoop.timingValue,n=sn.mainLoop.func;sn.mainLoop.func=null,an(n,0,!1,sn.mainLoop.arg,!0),nn(e,t),sn.mainLoop.scheduler()},updateStatus:function(){if(t.setStatus){var e=t.statusMessage||"Please wait...",n=sn.mainLoop.remainingBlockers,r=sn.mainLoop.expectedBlockers;n?n<r?t.setStatus(e+" ("+(r-n)+"/"+r+")"):t.setStatus(e):t.setStatus("")}},runIter:function(e){if(!w){if(t.preMainLoop)if(!1===t.preMainLoop())return;on(e),t.postMainLoop&&t.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(t.preloadPlugins||(t.preloadPlugins=[]),!sn.initted){sn.initted=!0;try{new Blob,sn.hasBlobConstructor=!0}catch(a){sn.hasBlobConstructor=!1,p("warning: no blob constructor, cannot create blobs with mimetypes")}sn.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:sn.hasBlobConstructor?null:p("warning: no BlobBuilder"),sn.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,t.noImageDecoding||"undefined"!==typeof sn.URLObject||(p("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),t.noImageDecoding=!0);var e={canHandle:function(e){return!t.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)}};e.handle=function(e,n,r,i){var o=null;if(sn.hasBlobConstructor)try{(o=new Blob([e],{type:sn.getMimetype(n)})).size!==e.length&&(o=new Blob([new Uint8Array(e).buffer],{type:sn.getMimetype(n)}))}catch(a){m("Blob constructor present but fails: "+a+"; falling back to blob builder")}if(!o){var u=new sn.BlobBuilder;u.append(new Uint8Array(e).buffer),o=u.getBlob()}var s=sn.URLObject.createObjectURL(o),c=new Image;c.onload=function(){_(c.complete,"Image "+n+" could not be decoded");var i=document.createElement("canvas");i.width=c.width,i.height=c.height,i.getContext("2d").drawImage(c,0,0),t.preloadedImages[n]=i,sn.URLObject.revokeObjectURL(s),r&&r(e)},c.onerror=function(e){p("Image "+s+" could not be decoded"),i&&i()},c.src=s},t.preloadPlugins.push(e);var n={canHandle:function(e){return!t.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,n,r,i){var o=!1;function u(i){o||(o=!0,t.preloadedAudios[n]=i,r&&r(e))}function s(){o||(o=!0,t.preloadedAudios[n]=new Audio,i&&i())}if(!sn.hasBlobConstructor)return s();try{var c=new Blob([e],{type:sn.getMimetype(n)})}catch(a){return s()}var l=sn.URLObject.createObjectURL(c),f=new Audio;f.addEventListener("canplaythrough",(function(){u(f)}),!1),f.onerror=function(t){o||(p("warning: browser could not fully decode audio "+n+", trying slower base64 approach"),f.src="data:audio/x-"+n.substr(-3)+";base64,"+function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0,i=0,a=0;a<e.length;a++)for(r=r<<8|e[a],i+=8;i>=6;){var o=r>>i-6&63;i-=6,n+=t[o]}return 2==i?(n+=t[(3&r)<<4],n+="=="):4==i&&(n+=t[(15&r)<<2],n+="="),n}(e),u(f))},f.src=l,un((function(){u(f)}),1e4)}};t.preloadPlugins.push(n);var r=t.canvas;r&&(r.requestPointerLock=r.requestPointerLock||r.mozRequestPointerLock||r.webkitRequestPointerLock||r.msRequestPointerLock||function(){},r.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},r.exitPointerLock=r.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",i,!1),document.addEventListener("mozpointerlockchange",i,!1),document.addEventListener("webkitpointerlockchange",i,!1),document.addEventListener("mspointerlockchange",i,!1),t.elementPointerLock&&r.addEventListener("click",(function(e){!sn.pointerLock&&t.canvas.requestPointerLock&&(t.canvas.requestPointerLock(),e.preventDefault())}),!1))}function i(){sn.pointerLock=document.pointerLockElement===t.canvas||document.mozPointerLockElement===t.canvas||document.webkitPointerLockElement===t.canvas||document.msPointerLockElement===t.canvas}},createContext:function(e,n,r,i){if(n&&t.ctx&&e==t.canvas)return t.ctx;var a,o;if(n){var u={antialias:!1,alpha:!1,majorVersion:"undefined"!==typeof WebGL2RenderingContext?2:1};if(i)for(var s in i)u[s]=i[s];"undefined"!==typeof vn&&(o=vn.createContext(e,u))&&(a=vn.getContext(o).GLctx)}else a=e.getContext("2d");return a?(r&&(n||_("undefined"===typeof On,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),t.ctx=a,n&&vn.makeContextCurrent(o),t.useWebGL=n,sn.moduleContextCreatedCallbacks.forEach((function(e){e()})),sn.init()),a):null},destroyContext:function(e,t,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,n){sn.lockPointer=e,sn.resizeCanvas=n,"undefined"===typeof sn.lockPointer&&(sn.lockPointer=!0),"undefined"===typeof sn.resizeCanvas&&(sn.resizeCanvas=!1);var r=t.canvas;function i(){sn.isFullscreen=!1;var e=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.exitFullscreen=sn.exitFullscreen,sn.lockPointer&&r.requestPointerLock(),sn.isFullscreen=!0,sn.resizeCanvas?sn.setFullscreenCanvasSize():sn.updateCanvasDimensions(r)):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),sn.resizeCanvas?sn.setWindowedCanvasSize():sn.updateCanvasDimensions(r)),t.onFullScreen&&t.onFullScreen(sn.isFullscreen),t.onFullscreen&&t.onFullscreen(sn.isFullscreen)}sn.fullscreenHandlersInstalled||(sn.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",i,!1),document.addEventListener("mozfullscreenchange",i,!1),document.addEventListener("webkitfullscreenchange",i,!1),document.addEventListener("MSFullscreenChange",i,!1));var a=document.createElement("div");r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?function(){a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(a.webkitRequestFullScreen?function(){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),a.requestFullscreen()},exitFullscreen:function(){return!!sn.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var t=Date.now();if(0===sn.nextRAF)sn.nextRAF=t+1e3/60;else for(;t+2>=sn.nextRAF;)sn.nextRAF+=1e3/60;var n=Math.max(sn.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){"function"!==typeof requestAnimationFrame?(0,sn.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)})),safeSetTimeout:function(e){return un(e)},safeRequestAnimationFrame:function(e){return sn.requestAnimationFrame((function(){on(e)}))},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var t=0;switch(e.type){case"DOMMouseScroll":t=e.detail/3;break;case"mousewheel":t=e.wheelDelta/120;break;case"wheel":switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(sn.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?sn.mouseMovementX=sn.mouseMovementY=0:(sn.mouseMovementX=sn.getMovementX(e),sn.mouseMovementY=sn.getMovementY(e)),"undefined"!=typeof SDL?(sn.mouseX=SDL.mouseX+sn.mouseMovementX,sn.mouseY=SDL.mouseY+sn.mouseMovementY):(sn.mouseX+=sn.mouseMovementX,sn.mouseY+=sn.mouseMovementY);else{var n=t.canvas.getBoundingClientRect(),r=t.canvas.width,i=t.canvas.height,a="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,o="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var u=e.touch;if(void 0===u)return;var s=u.pageX-(a+n.left),c=u.pageY-(o+n.top),l={x:s*=r/n.width,y:c*=i/n.height};if("touchstart"===e.type)sn.lastTouches[u.identifier]=l,sn.touches[u.identifier]=l;else if("touchend"===e.type||"touchmove"===e.type){var f=sn.touches[u.identifier];f||(f=l),sn.lastTouches[u.identifier]=f,sn.touches[u.identifier]=l}return}var d=e.pageX-(a+n.left),h=e.pageY-(o+n.top);d*=r/n.width,h*=i/n.height,sn.mouseMovementX=d-sn.mouseX,sn.mouseMovementY=h-sn.mouseY,sn.mouseX=d,sn.mouseY=h}},resizeListeners:[],updateResizeListeners:function(){var e=t.canvas;sn.resizeListeners.forEach((function(t){t(e.width,e.height)}))},setCanvasSize:function(e,n,r){var i=t.canvas;sn.updateCanvasDimensions(i,e,n),r||sn.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=R[SDL.screen>>2];e|=8388608,L[SDL.screen>>2]=e}sn.updateCanvasDimensions(t.canvas),sn.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=R[SDL.screen>>2];e&=-8388609,L[SDL.screen>>2]=e}sn.updateCanvasDimensions(t.canvas),sn.updateResizeListeners()},updateCanvasDimensions:function(e,n,r){n&&r?(e.widthNative=n,e.heightNative=r):(n=e.widthNative,r=e.heightNative);var i=n,a=r;if(t.forcedAspectRatio&&t.forcedAspectRatio>0&&(i/a<t.forcedAspectRatio?i=Math.round(a*t.forcedAspectRatio):a=Math.round(i/t.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/i,screen.height/a);i=Math.round(i*o),a=Math.round(a*o)}sn.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=a&&(e.height=a),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=n&&(e.width=n),e.height!=r&&(e.height=r),"undefined"!=typeof e.style&&(i!=n||a!=r?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},cn={QUEUE_INTERVAL:25,QUEUE_LOOKAHEAD:.1,DEVICE_NAME:"Emscripten OpenAL",CAPTURE_DEVICE_NAME:"Emscripten OpenAL capture",ALC_EXTENSIONS:{ALC_SOFT_pause_device:!0,ALC_SOFT_HRTF:!0},AL_EXTENSIONS:{AL_EXT_float32:!0,AL_SOFT_loop_points:!0,AL_SOFT_source_length:!0,AL_EXT_source_distance_model:!0,AL_SOFT_source_spatialize:!0},_alcErr:0,alcErr:0,deviceRefCounts:{},alcStringCache:{},paused:!1,stringCache:{},contexts:{},currentCtx:null,buffers:{0:{id:0,refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0}},paramArray:[],_nextId:1,newId:function(){return cn.freeIds.length>0?cn.freeIds.pop():cn._nextId++},freeIds:[],scheduleContextAudio:function(e){if(1!==sn.mainLoop.timingMode||"visible"==document.visibilityState)for(var t in e.sources)cn.scheduleSourceAudio(e.sources[t])},scheduleSourceAudio:function(e,t){if((1!==sn.mainLoop.timingMode||"visible"==document.visibilityState)&&4114===e.state){for(var n=cn.updateSourceTime(e),r=e.bufStartTime,i=e.bufOffset,a=e.bufsProcessed,o=0;o<e.audioQueue.length;o++){r=(l=e.audioQueue[o])._startTime+l._duration,i=0,a+=l._skipCount+1}t||(t=cn.QUEUE_LOOKAHEAD);for(var u=n+t,s=0;r<u;){if(a>=e.bufQueue.length){if(!e.looping)break;a%=e.bufQueue.length}var c=e.bufQueue[a%e.bufQueue.length];if(0===c.length){if(++s===e.bufQueue.length)break}else{var l;(l=e.context.audioCtx.createBufferSource()).buffer=c.audioBuf,l.playbackRate.value=e.playbackRate,(c.audioBuf._loopStart||c.audioBuf._loopEnd)&&(l.loopStart=c.audioBuf._loopStart,l.loopEnd=c.audioBuf._loopEnd);var f=0;4136===e.type&&e.looping?(f=Number.POSITIVE_INFINITY,l.loop=!0,c.audioBuf._loopStart&&(l.loopStart=c.audioBuf._loopStart),c.audioBuf._loopEnd&&(l.loopEnd=c.audioBuf._loopEnd)):f=(c.audioBuf.duration-i)/e.playbackRate,l._startOffset=i,l._duration=f,l._skipCount=s,s=0,l.connect(e.gain),"undefined"!==typeof l.start?(r=Math.max(r,e.context.audioCtx.currentTime),l.start(r,i)):"undefined"!==typeof l.noteOn&&(r=Math.max(r,e.context.audioCtx.currentTime),l.noteOn(r)),l._startTime=r,e.audioQueue.push(l),r+=f}i=0,a++}}},updateSourceTime:function(e){var t=e.context.audioCtx.currentTime;if(4114!==e.state)return t;isFinite(e.bufStartTime)||(e.bufStartTime=t-e.bufOffset/e.playbackRate,e.bufOffset=0);for(var n=0;e.audioQueue.length;){var r=e.audioQueue[0];if(e.bufsProcessed+=r._skipCount,t<(n=r._startTime+r._duration))break;e.audioQueue.shift(),e.bufStartTime=n,e.bufOffset=0,e.bufsProcessed++}if(e.bufsProcessed>=e.bufQueue.length&&!e.looping)cn.setSourceState(e,4116);else if(4136===e.type&&e.looping){if(0===(c=e.bufQueue[0]).length)e.bufOffset=0;else{var i=(t-e.bufStartTime)*e.playbackRate,a=c.audioBuf._loopStart||0,o=c.audioBuf._loopEnd||c.audioBuf.duration;o<=a&&(o=c.audioBuf.duration),e.bufOffset=i<o?i:a+(i-a)%(o-a)}}else if(e.audioQueue[0])e.bufOffset=(t-e.audioQueue[0]._startTime)*e.playbackRate;else{if(4136!==e.type&&e.looping){var u=cn.sourceDuration(e)/e.playbackRate;u>0&&(e.bufStartTime+=Math.floor((t-e.bufStartTime)/u)*u)}for(var s=0;s<e.bufQueue.length;s++){if(e.bufsProcessed>=e.bufQueue.length){if(!e.looping){cn.setSourceState(e,4116);break}e.bufsProcessed%=e.bufQueue.length}var c;if((c=e.bufQueue[e.bufsProcessed]).length>0){if(t<(n=e.bufStartTime+c.audioBuf.duration/e.playbackRate)){e.bufOffset=(t-e.bufStartTime)*e.playbackRate;break}e.bufStartTime=n}e.bufOffset=0,e.bufsProcessed++}}return t},cancelPendingSourceAudio:function(e){cn.updateSourceTime(e);for(var t=1;t<e.audioQueue.length;t++){e.audioQueue[t].stop()}e.audioQueue.length>1&&(e.audioQueue.length=1)},stopSourceAudio:function(e){for(var t=0;t<e.audioQueue.length;t++)e.audioQueue[t].stop();e.audioQueue.length=0},setSourceState:function(e,t){4114===t?(4114!==e.state&&4116!=e.state||(e.bufsProcessed=0,e.bufOffset=0),cn.stopSourceAudio(e),e.state=4114,e.bufStartTime=Number.NEGATIVE_INFINITY,cn.scheduleSourceAudio(e)):4115===t?4114===e.state&&(cn.updateSourceTime(e),cn.stopSourceAudio(e),e.state=4115):4116===t?4113!==e.state&&(e.state=4116,e.bufsProcessed=e.bufQueue.length,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,cn.stopSourceAudio(e)):4113===t&&4113!==e.state&&(e.state=4113,e.bufsProcessed=0,e.bufStartTime=Number.NEGATIVE_INFINITY,e.bufOffset=0,cn.stopSourceAudio(e))},initSourcePanner:function(e){if(4144!==e.type){for(var t=cn.buffers[0],n=0;n<e.bufQueue.length;n++)if(0!==e.bufQueue[n].id){t=e.bufQueue[n];break}if(1===e.spatialize||2===e.spatialize&&1===t.channels){if(e.panner)return;e.panner=e.context.audioCtx.createPanner(),cn.updateSourceGlobal(e),cn.updateSourceSpace(e),e.panner.connect(e.context.gain),e.gain.disconnect(),e.gain.connect(e.panner)}else{if(!e.panner)return;e.panner.disconnect(),e.gain.disconnect(),e.gain.connect(e.context.gain),e.panner=null}}},updateContextGlobal:function(e){for(var t in e.sources)cn.updateSourceGlobal(e.sources[t])},updateSourceGlobal:function(e){var t=e.panner;if(t)switch(t.refDistance=e.refDistance,t.maxDistance=e.maxDistance,t.rolloffFactor=e.rolloffFactor,t.panningModel=e.context.hrtf?"HRTF":"equalpower",e.context.sourceDistanceModel?e.distanceModel:e.context.distanceModel){case 0:t.distanceModel="inverse",t.refDistance=340282e33;break;case 53249:case 53250:t.distanceModel="inverse";break;case 53251:case 53252:t.distanceModel="linear";break;case 53253:case 53254:t.distanceModel="exponential"}},updateListenerSpace:function(e){var t=e.audioCtx.listener;for(var n in t.positionX?(t.positionX.value=e.listener.position[0],t.positionY.value=e.listener.position[1],t.positionZ.value=e.listener.position[2]):t.setPosition(e.listener.position[0],e.listener.position[1],e.listener.position[2]),t.forwardX?(t.forwardX.value=e.listener.direction[0],t.forwardY.value=e.listener.direction[1],t.forwardZ.value=e.listener.direction[2],t.upX.value=e.listener.up[0],t.upY.value=e.listener.up[1],t.upZ.value=e.listener.up[2]):t.setOrientation(e.listener.direction[0],e.listener.direction[1],e.listener.direction[2],e.listener.up[0],e.listener.up[1],e.listener.up[2]),e.sources)cn.updateSourceSpace(e.sources[n])},updateSourceSpace:function(e){if(e.panner){var t=e.panner,n=e.position[0],r=e.position[1],i=e.position[2],a=e.direction[0],o=e.direction[1],u=e.direction[2],s=e.context.listener,c=s.position[0],l=s.position[1],f=s.position[2];if(e.relative){var d=-s.direction[0],h=-s.direction[1],p=-s.direction[2],v=s.up[0],m=s.up[1],y=s.up[2],g=function(e,t,n){var r=Math.sqrt(e*e+t*t+n*n);return r<Number.EPSILON?0:1/r},b=g(d,h,p);d*=b,h*=b,p*=b;var w=(m*=b=g(v,m,y))*p-(y*=b)*h,_=y*d-(v*=b)*p,k=v*h-m*d,E=a,x=o,S=u;a=E*(w*=b=g(w,_,k))+x*(v=h*(k*=b)-p*(_*=b))+S*d,o=E*_+x*(m=p*w-d*k)+S*h,u=E*k+x*(y=d*_-h*w)+S*p,n=(E=n)*w+(x=r)*v+(S=i)*d,r=E*_+x*m+S*h,i=E*k+x*y+S*p,n+=c,r+=l,i+=f}t.positionX?(t.positionX.value=n,t.positionY.value=r,t.positionZ.value=i):t.setPosition(n,r,i),t.orientationX?(t.orientationX.value=a,t.orientationY.value=o,t.orientationZ.value=u):t.setOrientation(a,o,u);var T=e.dopplerShift,C=e.velocity[0],I=e.velocity[1],A=e.velocity[2],D=s.velocity[0],N=s.velocity[1],P=s.velocity[2];if(n===c&&r===l&&i===f||C===D&&I===N&&A===P)e.dopplerShift=1;else{var O=e.context.speedOfSound,L=e.context.dopplerFactor,R=c-n,M=l-r,F=f-i,j=Math.sqrt(R*R+M*M+F*F),B=(R*D+M*N+F*P)/j,V=(R*C+M*I+F*A)/j;B=Math.min(B,O/L),V=Math.min(V,O/L),e.dopplerShift=(O-L*B)/(O-L*V)}e.dopplerShift!==T&&cn.updateSourceRate(e)}},updateSourceRate:function(e){if(4114===e.state){cn.cancelPendingSourceAudio(e);var t,n=e.audioQueue[0];if(!n)return;t=4136===e.type&&e.looping?Number.POSITIVE_INFINITY:(n.buffer.duration-n._startOffset)/e.playbackRate,n._duration=t,n.playbackRate.value=e.playbackRate,cn.scheduleSourceAudio(e)}},sourceDuration:function(e){for(var t=0,n=0;n<e.bufQueue.length;n++){var r=e.bufQueue[n].audioBuf;t+=r?r.duration:0}return t},sourceTell:function(e){cn.updateSourceTime(e);for(var t=0,n=0;n<e.bufsProcessed;n++)e.bufQueue[n].audioBuf&&(t+=e.bufQueue[n].audioBuf.duration);return t+=e.bufOffset},sourceSeek:function(e,t){var n=4114==e.state;if(n&&cn.setSourceState(e,4113),null!==e.bufQueue[e.bufsProcessed].audioBuf){for(e.bufsProcessed=0;t>e.bufQueue[e.bufsProcessed].audioBuf.duration;)t-=e.bufQueue[e.bufsProcessed].audiobuf.duration,e.bufsProcessed++;e.bufOffset=t}n&&cn.setSourceState(e,4114)},getGlobalParam:function(e,t){if(!cn.currentCtx)return null;switch(t){case 49152:return cn.currentCtx.dopplerFactor;case 49155:return cn.currentCtx.speedOfSound;case 53248:return cn.currentCtx.distanceModel;default:return cn.currentCtx.err=40962,null}},setGlobalParam:function(e,t,n){if(cn.currentCtx)switch(t){case 49152:if(!Number.isFinite(n)||n<0)return void(cn.currentCtx.err=40963);cn.currentCtx.dopplerFactor=n,cn.updateListenerSpace(cn.currentCtx);break;case 49155:if(!Number.isFinite(n)||n<=0)return void(cn.currentCtx.err=40963);cn.currentCtx.speedOfSound=n,cn.updateListenerSpace(cn.currentCtx);break;case 53248:switch(n){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:cn.currentCtx.distanceModel=n,cn.updateContextGlobal(cn.currentCtx);break;default:return void(cn.currentCtx.err=40963)}break;default:return void(cn.currentCtx.err=40962)}},getListenerParam:function(e,t){if(!cn.currentCtx)return null;switch(t){case 4100:return cn.currentCtx.listener.position;case 4102:return cn.currentCtx.listener.velocity;case 4111:return cn.currentCtx.listener.direction.concat(cn.currentCtx.listener.up);case 4106:return cn.currentCtx.gain.gain.value;default:return cn.currentCtx.err=40962,null}},setListenerParam:function(e,t,n){if(cn.currentCtx)if(null!==n){var r=cn.currentCtx.listener;switch(t){case 4100:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(cn.currentCtx.err=40963);r.position[0]=n[0],r.position[1]=n[1],r.position[2]=n[2],cn.updateListenerSpace(cn.currentCtx);break;case 4102:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2]))return void(cn.currentCtx.err=40963);r.velocity[0]=n[0],r.velocity[1]=n[1],r.velocity[2]=n[2],cn.updateListenerSpace(cn.currentCtx);break;case 4106:if(!Number.isFinite(n)||n<0)return void(cn.currentCtx.err=40963);cn.currentCtx.gain.gain.value=n;break;case 4111:if(!Number.isFinite(n[0])||!Number.isFinite(n[1])||!Number.isFinite(n[2])||!Number.isFinite(n[3])||!Number.isFinite(n[4])||!Number.isFinite(n[5]))return void(cn.currentCtx.err=40963);r.direction[0]=n[0],r.direction[1]=n[1],r.direction[2]=n[2],r.up[0]=n[3],r.up[1]=n[4],r.up[2]=n[5],cn.updateListenerSpace(cn.currentCtx);break;default:return void(cn.currentCtx.err=40962)}}else cn.currentCtx.err=40962},getBufferParam:function(e,t,n){if(cn.currentCtx){var r=cn.buffers[t];if(r&&0!==t)switch(n){case 8193:return r.frequency;case 8194:return 8*r.bytesPerSample;case 8195:return r.channels;case 8196:return r.length*r.bytesPerSample*r.channels;case 8213:return 0===r.length?[0,0]:[(r.audioBuf._loopStart||0)*r.frequency,(r.audioBuf._loopEnd||r.length)*r.frequency];default:return cn.currentCtx.err=40962,null}else cn.currentCtx.err=40961}},setBufferParam:function(e,t,n,r){if(cn.currentCtx){var i=cn.buffers[t];if(i&&0!==t)if(null!==r)switch(n){case 8196:if(0!==r)return void(cn.currentCtx.err=40963);break;case 8213:if(r[0]<0||r[0]>i.length||r[1]<0||r[1]>i.Length||r[0]>=r[1])return void(cn.currentCtx.err=40963);if(i.refCount>0)return void(cn.currentCtx.err=40964);i.audioBuf&&(i.audioBuf._loopStart=r[0]/i.frequency,i.audioBuf._loopEnd=r[1]/i.frequency);break;default:return void(cn.currentCtx.err=40962)}else cn.currentCtx.err=40962;else cn.currentCtx.err=40961}},getSourceParam:function(e,t,n){if(!cn.currentCtx)return null;var r=cn.currentCtx.sources[t];if(!r)return cn.currentCtx.err=40961,null;switch(n){case 514:return r.relative;case 4097:return r.coneInnerAngle;case 4098:return r.coneOuterAngle;case 4099:return r.pitch;case 4100:return r.position;case 4101:return r.direction;case 4102:return r.velocity;case 4103:return r.looping;case 4105:return 4136===r.type?r.bufQueue[0].id:0;case 4106:return r.gain.gain.value;case 4109:return r.minGain;case 4110:return r.maxGain;case 4112:return r.state;case 4117:return 1===r.bufQueue.length&&0===r.bufQueue[0].id?0:r.bufQueue.length;case 4118:return 1===r.bufQueue.length&&0===r.bufQueue[0].id||r.looping?0:r.bufsProcessed;case 4128:return r.refDistance;case 4129:return r.rolloffFactor;case 4130:return r.coneOuterGain;case 4131:return r.maxDistance;case 4132:return cn.sourceTell(r);case 4133:return(i=cn.sourceTell(r))>0&&(i*=r.bufQueue[0].frequency),i;case 4134:var i;return(i=cn.sourceTell(r))>0&&(i*=r.bufQueue[0].frequency*r.bufQueue[0].bytesPerSample),i;case 4135:return r.type;case 4628:return r.spatialize;case 8201:for(var a=0,o=0,u=0;u<r.bufQueue.length;u++)a+=r.bufQueue[u].length,0!==r.bufQueue[u].id&&(o=r.bufQueue[u].bytesPerSample*r.bufQueue[u].channels);return a*o;case 8202:for(a=0,u=0;u<r.bufQueue.length;u++)a+=r.bufQueue[u].length;return a;case 8203:return cn.sourceDuration(r);case 53248:return r.distanceModel;default:return cn.currentCtx.err=40962,null}},setSourceParam:function(e,t,n,r){if(cn.currentCtx){var i=cn.currentCtx.sources[t];if(i)if(null!==r)switch(n){case 514:if(1===r)i.relative=!0,cn.updateSourceSpace(i);else{if(0!==r)return void(cn.currentCtx.err=40963);i.relative=!1,cn.updateSourceSpace(i)}break;case 4097:if(!Number.isFinite(r))return void(cn.currentCtx.err=40963);i.coneInnerAngle=r,i.panner&&(i.panner.coneInnerAngle=r%360);break;case 4098:if(!Number.isFinite(r))return void(cn.currentCtx.err=40963);i.coneOuterAngle=r,i.panner&&(i.panner.coneOuterAngle=r%360);break;case 4099:if(!Number.isFinite(r)||r<=0)return void(cn.currentCtx.err=40963);if(i.pitch===r)break;i.pitch=r,cn.updateSourceRate(i);break;case 4100:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2]))return void(cn.currentCtx.err=40963);i.position[0]=r[0],i.position[1]=r[1],i.position[2]=r[2],cn.updateSourceSpace(i);break;case 4101:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2]))return void(cn.currentCtx.err=40963);i.direction[0]=r[0],i.direction[1]=r[1],i.direction[2]=r[2],cn.updateSourceSpace(i);break;case 4102:if(!Number.isFinite(r[0])||!Number.isFinite(r[1])||!Number.isFinite(r[2]))return void(cn.currentCtx.err=40963);i.velocity[0]=r[0],i.velocity[1]=r[1],i.velocity[2]=r[2],cn.updateSourceSpace(i);break;case 4103:if(1===r){if(i.looping=!0,cn.updateSourceTime(i),4136===i.type&&i.audioQueue.length>0)(a=i.audioQueue[0]).loop=!0,a._duration=Number.POSITIVE_INFINITY}else{if(0!==r)return void(cn.currentCtx.err=40963);i.looping=!1;var a,o=cn.updateSourceTime(i);4136===i.type&&i.audioQueue.length>0&&((a=i.audioQueue[0]).loop=!1,a._duration=i.bufQueue[0].audioBuf.duration/i.playbackRate,a._startTime=o-i.bufOffset/i.playbackRate)}break;case 4105:if(4114===i.state||4115===i.state)return void(cn.currentCtx.err=40964);if(0===r){for(var u in i.bufQueue)i.bufQueue[u].refCount--;i.bufQueue.length=1,i.bufQueue[0]=cn.buffers[0],i.bufsProcessed=0,i.type=4144}else{if(!(d=cn.buffers[r]))return void(cn.currentCtx.err=40963);for(var u in i.bufQueue)i.bufQueue[u].refCount--;i.bufQueue.length=0,d.refCount++,i.bufQueue=[d],i.bufsProcessed=0,i.type=4136}cn.initSourcePanner(i),cn.scheduleSourceAudio(i);break;case 4106:if(!Number.isFinite(r)||r<0)return void(cn.currentCtx.err=40963);i.gain.gain.value=r;break;case 4109:if(!Number.isFinite(r)||r<0||r>Math.min(i.maxGain,1))return void(cn.currentCtx.err=40963);i.minGain=r;break;case 4110:if(!Number.isFinite(r)||r<Math.max(0,i.minGain)||r>1)return void(cn.currentCtx.err=40963);i.maxGain=r;break;case 4128:if(!Number.isFinite(r)||r<0)return void(cn.currentCtx.err=40963);i.refDistance=r,i.panner&&(i.panner.refDistance=r);break;case 4129:if(!Number.isFinite(r)||r<0)return void(cn.currentCtx.err=40963);i.rolloffFactor=r,i.panner&&(i.panner.rolloffFactor=r);break;case 4130:if(!Number.isFinite(r)||r<0||r>1)return void(cn.currentCtx.err=40963);i.coneOuterGain=r,i.panner&&(i.panner.coneOuterGain=r);break;case 4131:if(!Number.isFinite(r)||r<0)return void(cn.currentCtx.err=40963);i.maxDistance=r,i.panner&&(i.panner.maxDistance=r);break;case 4132:if(r<0||r>cn.sourceDuration(i))return void(cn.currentCtx.err=40963);cn.sourceSeek(i,r);break;case 4133:if((l=cn.sourceDuration(i))>0){var s;for(var c in i.bufQueue)if(c){s=i.bufQueue[c].frequency;break}r/=s}if(r<0||r>l)return void(cn.currentCtx.err=40963);cn.sourceSeek(i,r);break;case 4134:var l;if((l=cn.sourceDuration(i))>0){var f;for(var c in i.bufQueue)if(c){var d;f=(d=i.bufQueue[c]).frequency*d.bytesPerSample*d.channels;break}r/=f}if(r<0||r>l)return void(cn.currentCtx.err=40963);cn.sourceSeek(i,r);break;case 4628:if(0!==r&&1!==r&&2!==r)return void(cn.currentCtx.err=40963);i.spatialize=r,cn.initSourcePanner(i);break;case 8201:case 8202:case 8203:cn.currentCtx.err=40964;break;case 53248:switch(r){case 0:case 53249:case 53250:case 53251:case 53252:case 53253:case 53254:i.distanceModel=r,cn.currentCtx.sourceDistanceModel&&cn.updateContextGlobal(cn.currentCtx);break;default:return void(cn.currentCtx.err=40963)}break;default:return void(cn.currentCtx.err=40962)}else cn.currentCtx.err=40962;else cn.currentCtx.err=40961}},captures:{},sharedCaptureAudioCtx:null,requireValidCaptureDevice:function(e,t){if(0===e)return cn.alcErr=40961,null;var n=cn.captures[e];return n?n.mediaStreamError?(cn.alcErr=40961,null):n:(cn.alcErr=40961,null)}};function ln(e,t,n){switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4628:case 8201:case 8202:case 53248:cn.setSourceParam("alSourcei",e,t,n);break;default:cn.setSourceParam("alSourcei",e,t,null)}}function fn(e,t){t||(t=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((function(n){t.forEach((function(t){t&&function(e,t,n){e.addEventListener(t,n,{once:!0})}(t,n,(function(){"suspended"===e.state&&e.resume()}))}))}))}function dn(e){try{return y.grow(e-A.byteLength+65535>>>16),$(y.buffer),1}catch(t){}}var hn={};function pn(){if(!pn.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:l||"./this.program"};for(var t in hn)void 0===hn[t]?delete e[t]:e[t]=hn[t];var n=[];for(var t in e)n.push(t+"="+e[t]);pn.strings=n}return pn.strings}var vn={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function(e){vn.lastError||(vn.lastError=e)},getNewId:function(e){for(var t=vn.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:function(e,t,n,r){for(var i="",a=0;a<t;++a){var o=r?L[r+4*a>>2]:-1;i+=S(L[n+4*a>>2],o<0?void 0:o)}return i},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,n){var r=e.getContextSafariWebGL2Fixed(t,n);return"webgl"==t==r instanceof WebGLRenderingContext?r:null});var n=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t);return n?vn.registerContext(n,t):0},registerContext:function(e,t){var n=vn.getNewId(vn.contexts),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),vn.contexts[n]=r,("undefined"===typeof t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&vn.initExtensions(r),n},makeContextCurrent:function(e){return vn.currentContext=vn.contexts[e],t.ctx=On=vn.currentContext&&vn.currentContext.GLctx,!(e&&!On)},getContext:function(e){return vn.contexts[e]},deleteContext:function(e){vn.currentContext===vn.contexts[e]&&(vn.currentContext=null),"object"===typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(vn.contexts[e].GLctx.canvas),vn.contexts[e]&&vn.contexts[e].GLctx.canvas&&(vn.contexts[e].GLctx.canvas.GLctxObject=void 0),vn.contexts[e]=null},initExtensions:function(e){if(e||(e=vn.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t,n=e.GLctx;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");if(t)e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,i){t.drawArraysInstancedANGLE(e,n,r,i)},e.drawElementsInstanced=function(e,n,r,i,a){t.drawElementsInstancedANGLE(e,n,r,i,a)}}(n),function(e){var t=e.getExtension("OES_vertex_array_object");if(t)e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)}}(n),function(e){var t=e.getExtension("WEBGL_draw_buffers");if(t)e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)}}(n),(t=n).dibvbi=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),function(e){e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")}(n),e.version>=2&&(n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!n.disjointTimerQueryExt)&&(n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query")),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(n),(n.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||n.getExtension(e)}))}}};var mn=[];function yn(e,t,n,r){for(var i=0;i<e;i++){var a=On[n](),o=a&&vn.getNewId(r);a?(a.name=o,r[o]=a):vn.recordError(1282),L[t+4*i>>2]=o}}function gn(e,t,n){if(t){var r,i,a=void 0;switch(e){case 36346:a=1;break;case 36344:return void(0!=n&&1!=n&&vn.recordError(1280));case 34814:case 36345:a=0;break;case 34466:var o=On.getParameter(34467);a=o?o.length:0;break;case 33309:if(vn.currentContext.version<2)return void vn.recordError(1282);a=2*(On.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(vn.currentContext.version<2)return void vn.recordError(1280);a=33307==e?3:0}if(void 0===a){var u=On.getParameter(e);switch(typeof u){case"number":a=u;break;case"boolean":a=u?1:0;break;case"string":return void vn.recordError(1280);case"object":if(null===u)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:a=0;break;default:return void vn.recordError(1280)}else{if(u instanceof Float32Array||u instanceof Uint32Array||u instanceof Int32Array||u instanceof Array){for(var s=0;s<u.length;++s)switch(n){case 0:L[t+4*s>>2]=u[s];break;case 2:M[t+4*s>>2]=u[s];break;case 4:D[t+s>>0]=u[s]?1:0}return}try{a=0|u.name}catch(c){return vn.recordError(1280),void v("GL_INVALID_ENUM in glGet"+n+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+c+")")}}break;default:return vn.recordError(1280),void v("GL_INVALID_ENUM in glGet"+n+"v: Native code calling glGet"+n+"v("+e+") and it returns "+u+" of type "+typeof u+"!")}}switch(n){case 1:i=a,R[(r=t)>>2]=i,R[r+4>>2]=(i-R[r>>2])/4294967296;break;case 0:L[t>>2]=a;break;case 2:M[t>>2]=a;break;case 4:D[t>>0]=a?1:0}}else vn.recordError(1281)}function bn(e){var t=I(e)+1,n=Un(t);return C(e,n,t),n}function wn(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}function _n(e){return 0==(e-=5120)?D:1==e?N:2==e?P:4==e?L:6==e?M:5==e||28922==e||28520==e||30779==e||30782==e?R:O}function kn(e){return 31-Math.clz32(e.BYTES_PER_ELEMENT)}function En(e,t,n,r,i,a){var o=_n(e),u=kn(o),s=1<<u,c=function(e){return{5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1}(t)*s,l=function(e,t,n,r){var i=function(e,t){return e+t-1&-t}(e*n,r);return t*i}(n,r,c,vn.unpackAlignment);return o.subarray(i>>u,i+l>>u)}function xn(e){var t=On.currentProgram;if(t){var n=t.uniformLocsById[e];return"number"===typeof n&&(t.uniformLocsById[e]=n=On.getUniformLocation(t,t.uniformArrayNamesById[e]+(n>0?"["+n+"]":""))),n}vn.recordError(1282)}var Sn=[];function Tn(){Tn.called||(Tn.called=!0,function(){var e=(new Date).getFullYear(),t=new Date(e,0,1),n=new Date(e,6,1),r=t.getTimezoneOffset(),i=n.getTimezoneOffset(),a=Math.max(r,i);function o(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:"GMT"}L[Qn()>>2]=60*a,L[Hn()>>2]=Number(r!=i);var u=o(t),s=o(n),c=W(u),l=W(s);i<r?(L[Wn()>>2]=c,L[Wn()+4>>2]=l):(L[Wn()>>2]=l,L[Wn()+4>>2]=c)}())}function Cn(e){return e%4===0&&(e%100!==0||e%400===0)}function In(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var An=[31,29,31,30,31,30,31,31,30,31,30,31],Dn=[31,28,31,30,31,30,31,31,30,31,30,31];function Nn(e,t){for(var n=new Date(e.getTime());t>0;){var r=Cn(n.getFullYear()),i=n.getMonth(),a=(r?An:Dn)[i];if(!(t>a-n.getDate()))return n.setDate(n.getDate()+t),n;t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function Pn(e,t,n,r){var i=L[r+40>>2],a={tm_sec:L[r>>2],tm_min:L[r+4>>2],tm_hour:L[r+8>>2],tm_mday:L[r+12>>2],tm_mon:L[r+16>>2],tm_year:L[r+20>>2],tm_wday:L[r+24>>2],tm_yday:L[r+28>>2],tm_isdst:L[r+32>>2],tm_gmtoff:L[r+36>>2],tm_zone:i?S(i):""},o=S(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var s in u)o=o.replace(new RegExp(s,"g"),u[s]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,n){for(var r="number"===typeof e?e.toString():e||"";r.length<t;)r=n[0]+r;return r}function d(e,t){return f(e,t,"0")}function h(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function v(e){var t=Nn(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=p(n),a=p(r);return h(i,t)<=0?h(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return d((e.tm_year+1900)/100|0,2)},"%d":function(e){return d(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return v(e).toString().substring(2)},"%G":function(e){return v(e)},"%H":function(e){return d(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),d(t,2)},"%j":function(e){return d(e.tm_mday+In(Cn(e.tm_year+1900)?An:Dn,e.tm_mon-1),3)},"%m":function(e){return d(e.tm_mon+1,2)},"%M":function(e){return d(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return d(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),n=0===t.getDay()?t:Nn(t,7-t.getDay()),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(n,r)<0){var i=In(Cn(r.getFullYear())?An:Dn,r.getMonth()-1)-31,a=31-n.getDate()+i+r.getDate();return d(Math.ceil(a/7),2)}return 0===h(n,t)?"01":"00"},"%V":function(e){var t,n=new Date(e.tm_year+1900,0,4),r=new Date(e.tm_year+1901,0,4),i=p(n),a=p(r),o=Nn(new Date(e.tm_year+1900,0,1),e.tm_yday);return h(o,i)<0?"53":h(a,o)<=0?"01":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),d(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),n=1===t.getDay()?t:Nn(t,0===t.getDay()?1:7-t.getDay()+1),r=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(h(n,r)<0){var i=In(Cn(r.getFullYear())?An:Dn,r.getMonth()-1)-31,a=31-n.getDate()+i+r.getDate();return d(Math.ceil(a/7),2)}return 0===h(n,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,n=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(n?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var s in m)o.includes(s)&&(o=o.replace(new RegExp(s,"g"),m[s](a)));var y,g,b=Bn(o,!1);return b.length>t?0:(y=b,g=e,D.set(y,g),b.length-1)}var On,Ln=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ne.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Rn=365,Mn=146;Object.defineProperties(Ln.prototype,{read:{get:function(){return(this.mode&Rn)===Rn},set:function(e){e?this.mode|=Rn:this.mode&=-366}},write:{get:function(){return(this.mode&Mn)===Mn},set:function(e){e?this.mode|=Mn:this.mode&=-147}},isFolder:{get:function(){return Ne.isDir(this.mode)}},isDevice:{get:function(){return Ne.isChrdev(this.mode)}}}),Ne.FSNode=Ln,Ne.staticInit(),t.FS_createPath=Ne.createPath,t.FS_createDataFile=Ne.createDataFile,t.FS_createPreloadedFile=Ne.createPreloadedFile,t.FS_createLazyFile=Ne.createLazyFile,t.FS_createDevice=Ne.createDevice,t.FS_unlink=Ne.unlink,function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Le=e}(),ze=t.BindingError=Ue(Error,"BindingError"),Ge=t.InternalError=Ue(Error,"InternalError"),ut.prototype.isAliasOf=Qe,ut.prototype.clone=et,ut.prototype.delete=tt,ut.prototype.isDeleted=nt,ut.prototype.deleteLater=ot,It.prototype.getPointee=yt,It.prototype.destructor=gt,It.prototype.argPackAdvance=8,It.prototype.readValueFromPointer=mt,It.prototype.deleteObject=bt,It.prototype.fromWireType=Ct,t.getInheritedInstanceCount=_t,t.getLiveInheritedInstances=kt,t.flushPendingDeletes=at,t.setDelayFunction=Et,Pt=t.UnboundTypeError=Ue(Error,"UnboundTypeError"),t.count_emval_handles=qt,t.get_first_emval=Gt,t.requestFullscreen=function(e,t){sn.requestFullscreen(e,t)},t.requestAnimationFrame=function(e){sn.requestAnimationFrame(e)},t.setCanvasSize=function(e,t,n){sn.setCanvasSize(e,t,n)},t.pauseMainLoop=function(){sn.mainLoop.pause()},t.resumeMainLoop=function(){sn.mainLoop.resume()},t.getUserMedia=function(){sn.getUserMedia()},t.createContext=function(e,t,n,r){return sn.createContext(e,t,n,r)};for(var Fn=0;Fn<32;++Fn)mn.push(new Array(Fn));var jn=new Float32Array(288);for(Fn=0;Fn<288;++Fn)Sn[Fn]=jn.subarray(0,Fn+1);function Bn(e,t,n){var r=n>0?n:I(e)+1,i=new Array(r),a=T(e,i,0,i.length);return t&&(i.length=a),i}var Vn={_ZN3bnb13serialization21frame_data_serializer11write_frameERKNS_10frame_dataE:function(){v("missing function: _ZN3bnb13serialization21frame_data_serializer11write_frameERKNS_10frame_dataE"),se(-1)},_ZN3bnb13serialization21frame_data_serializerC1ERKNSt3__212basic_stringIcNS2_11char_traitsIcEENS2_9allocatorIcEEEENS0_16compression_typeERKNS2_13unordered_mapIS8_S8_NS2_4hashIS8_EENS2_8equal_toIS8_EENS6_INS2_4pairIS9_S8_EEEEEE:function(){v("missing function: _ZN3bnb13serialization21frame_data_serializerC1ERKNSt3__212basic_stringIcNS2_11char_traitsIcEENS2_9allocatorIcEEEENS0_16compression_typeERKNS2_13unordered_mapIS8_S8_NS2_4hashIS8_EENS2_8equal_toIS8_EENS6_INS2_4pairIS9_S8_EEEEEE"),se(-1)},__clock_gettime:function(e,t){return _e(e,t)},__cxa_allocate_exception:function(e){return Un(e+16)+16},__cxa_rethrow:function(){var e=ke.pop();e||se("no exception to throw");var t=e.get_exception_info(),n=e.get_base_ptr();throw t.get_rethrown()?e.free():(ke.push(e),t.set_rethrown(!0),t.set_caught(!1)),n},__cxa_throw:function(e,t,n){throw new Ee(e).init(t,n),e},__gmtime_r:function(e,t){return xe(e,t)},__syscall_fcntl64:function(e,t,n){Pe.varargs=n;try{var r=Pe.getStreamFromFD(e);switch(t){case 0:return(i=Pe.get())<0?-28:Ne.open(r.path,r.flags,0,i).fd;case 1:case 2:case 6:case 7:return 0;case 3:return r.flags;case 4:var i=Pe.get();return r.flags|=i,0;case 5:i=Pe.get();return P[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return we(28),-1}}catch(a){if("undefined"===typeof Ne||!(a instanceof Ne.ErrnoError))throw a;return-a.errno}},__syscall_fstatat64:function(e,t,n,r){try{t=Pe.getStr(t);var i=256&r,a=4096&r;return r&=-4353,t=Pe.calculateAt(e,t,a),Pe.doStat(i?Ne.lstat:Ne.stat,t,n)}catch(o){if("undefined"===typeof Ne||!(o instanceof Ne.ErrnoError))throw o;return-o.errno}},__syscall_ftruncate64:function(e,t,n){try{var r=Pe.get64(t,n);return Ne.ftruncate(e,r),0}catch(i){if("undefined"===typeof Ne||!(i instanceof Ne.ErrnoError))throw i;return-i.errno}},__syscall_getcwd:function(e,t){try{if(0===t)return-28;var n=Ne.cwd();return t<I(n)+1?-68:(C(n,e,t),e)}catch(r){if("undefined"===typeof Ne||!(r instanceof Ne.ErrnoError))throw r;return-r.errno}},__syscall_getdents64:function(e,t,n){try{var r=Pe.getStreamFromFD(e);r.getdents||(r.getdents=Ne.readdir(r.path));for(var i=280,a=0,o=Ne.llseek(r,0,1),u=Math.floor(o/i);u<r.getdents.length&&a+i<=n;){var s,c,l=r.getdents[u];if("."===l)s=r.id,c=4;else if(".."===l){s=Ne.lookupPath(r.path,{parent:!0}).node.id,c=4}else{var f=Ne.lookupNode(r,l);s=f.id,c=Ne.isChrdev(f.mode)?2:Ne.isDir(f.mode)?4:Ne.isLink(f.mode)?10:8}de=[s>>>0,(fe=s,+Math.abs(fe)>=1?fe>0?(0|Math.min(+Math.floor(fe/4294967296),4294967295))>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],L[t+a>>2]=de[0],L[t+a+4>>2]=de[1],de=[(u+1)*i>>>0,(fe=(u+1)*i,+Math.abs(fe)>=1?fe>0?(0|Math.min(+Math.floor(fe/4294967296),4294967295))>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],L[t+a+8>>2]=de[0],L[t+a+12>>2]=de[1],P[t+a+16>>1]=280,D[t+a+18>>0]=c,C(l,t+a+19,256),a+=i,u+=1}return Ne.llseek(r,u*i,0),a}catch(d){if("undefined"===typeof Ne||!(d instanceof Ne.ErrnoError))throw d;return-d.errno}},__syscall_ioctl:function(e,t,n){Pe.varargs=n;try{var r=Pe.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var i=Pe.get();return L[i>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:i=Pe.get();return Ne.ioctl(r,t,i);default:se("bad ioctl syscall "+t)}}catch(a){if("undefined"===typeof Ne||!(a instanceof Ne.ErrnoError))throw a;return-a.errno}},__syscall_lstat64:function(e,t){try{return e=Pe.getStr(e),Pe.doStat(Ne.lstat,e,t)}catch(n){if("undefined"===typeof Ne||!(n instanceof Ne.ErrnoError))throw n;return-n.errno}},__syscall_mkdir:function(e,t){try{return e=Pe.getStr(e),Pe.doMkdir(e,t)}catch(n){if("undefined"===typeof Ne||!(n instanceof Ne.ErrnoError))throw n;return-n.errno}},__syscall_mmap2:function(e,t,n,r,i,a){try{return function(e,t,n,r,i,a){var o;a<<=12;var u=!1;if(0!==(16&r)&&e%65536!==0)return-28;if(0!==(32&r)){if(!(o=Ae(t)))return-48;u=!0}else{var s=Ne.getStream(i);if(!s)return-8;var c=Ne.mmap(s,e,t,a,n,r);o=c.ptr,u=c.allocated}return Pe.mappings[o]={malloc:o,len:t,allocated:u,fd:i,prot:n,flags:r,offset:a},o}(e,t,n,r,i,a)}catch(o){if("undefined"===typeof Ne||!(o instanceof Ne.ErrnoError))throw o;return-o.errno}},__syscall_munmap:function(e,t){try{return function(e,t){var n=Pe.mappings[e];if(0===t||!n)return-28;if(t===n.len){var r=Ne.getStream(n.fd);r&&(2&n.prot&&Pe.doMsync(e,r,t,n.flags,n.offset),Ne.munmap(r)),Pe.mappings[e]=null,n.allocated&&qn(n.malloc)}return 0}(e,t)}catch(n){if("undefined"===typeof Ne||!(n instanceof Ne.ErrnoError))throw n;return-n.errno}},__syscall_open:function(e,t,n){Pe.varargs=n;try{var r=Pe.getStr(e),i=n?Pe.get():0;return Ne.open(r,t,i).fd}catch(a){if("undefined"===typeof Ne||!(a instanceof Ne.ErrnoError))throw a;return-a.errno}},__syscall_readlink:function(e,t,n){try{return e=Pe.getStr(e),Pe.doReadlink(e,t,n)}catch(r){if("undefined"===typeof Ne||!(r instanceof Ne.ErrnoError))throw r;return-r.errno}},__syscall_stat64:function(e,t){try{return e=Pe.getStr(e),Pe.doStat(Ne.stat,e,t)}catch(n){if("undefined"===typeof Ne||!(n instanceof Ne.ErrnoError))throw n;return-n.errno}},__syscall_unlink:function(e){try{return e=Pe.getStr(e),Ne.unlink(e),0}catch(t){if("undefined"===typeof Ne||!(t instanceof Ne.ErrnoError))throw t;return-t.errno}},_dlopen_js:function(e,t){se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_dlsym_js:function(e,t){se("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},_embind_register_bigint:function(e,t,n,r,i){},_embind_register_bool:function(e,t,n,r,i){var a=Oe(n);He(e,{name:t=Re(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(1===n)r=D;else if(2===n)r=P;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=L}return this.fromWireType(r[e>>a])},destructorFunction:null})},_embind_register_class:function(e,t,n,r,i,a,o,u,s,c,l,f,d){l=Re(l),a=Nt(i,a),u&&(u=Nt(o,u)),c&&(c=Nt(s,c)),d=Nt(f,d);var h=Be(l);lt(h,(function(){Lt("Cannot construct "+l+" due to unbound types",[r])})),We([e,t,n],r?[r]:[],(function(t){var n,i;t=t[0],i=r?(n=t.registeredClass).instancePrototype:ut.prototype;var o=Ve(h,(function(){if(Object.getPrototypeOf(this)!==s)throw new ze("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new ze(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new ze("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),s=Object.create(i,{constructor:{value:o}});o.prototype=s;var f=new ft(l,o,s,d,n,a,u,c),p=new It(l,f,!0,!1,!1),v=new It(l+"*",f,!1,!1,!1),m=new It(l+" const*",f,!1,!0,!1);return st[e]={pointerType:v,constPointerType:m},At(h,o),[p,v,m]}))},_embind_register_class_class_function:function(e,t,n,r,i,a,o){var u=jt(n,r);t=Re(t),a=Nt(i,a),We([],[e],(function(e){var r=(e=e[0]).name+"."+t;function i(){Lt("Cannot call "+r+" due to unbound types",u)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var s=e.registeredClass.constructor;return void 0===s[t]?(i.argCount=n-1,s[t]=i):(ct(s,t,r),s[t].overloadTable[n-1]=i),We([],u,(function(e){var i=[e[0],null].concat(e.slice(1)),u=Ft(r,i,null,a,o);return void 0===s[t].overloadTable?(u.argCount=n-1,s[t]=u):s[t].overloadTable[n-1]=u,[]})),[]}))},_embind_register_class_constructor:function(e,t,n,r,i,a){_(t>0);var o=jt(t,n);i=Nt(r,i),We([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ze("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Lt("Cannot construct "+e.name+" due to unbound types",o)},We([],o,(function(r){return r.splice(1,0,null),e.registeredClass.constructor_body[t-1]=Ft(n,r,null,i,a),[]})),[]}))},_embind_register_class_function:function(e,t,n,r,i,a,o,u){var s=jt(n,r);t=Re(t),a=Nt(i,a),We([],[e],(function(e){var r=(e=e[0]).name+"."+t;function i(){Lt("Cannot call "+r+" due to unbound types",s)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===n-2?(i.argCount=n-2,i.className=e.name,c[t]=i):(ct(c,t,r),c[t].overloadTable[n-2]=i),We([],s,(function(i){var u=Ft(r,i,e,a,o);return void 0===c[t].overloadTable?(u.argCount=n-2,c[t]=u):c[t].overloadTable[n-2]=u,[]})),[]}))},_embind_register_class_property:function(e,t,n,r,i,a,o,u,s,c){t=Re(t),i=Nt(r,i),We([],[e],(function(e){var r=(e=e[0]).name+"."+t,l={get:function(){Lt("Cannot access "+r+" due to unbound types",[n,o])},enumerable:!0,configurable:!0};return l.set=s?function(){Lt("Cannot access "+r+" due to unbound types",[n,o])}:function(e){qe(r+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,l),We([],s?[n,o]:[n],(function(n){var o=n[0],l={get:function(){var t=Bt(this,e,r+" getter");return o.fromWireType(i(a,t))},enumerable:!0};if(s){s=Nt(u,s);var f=n[1];l.set=function(t){var n=Bt(this,e,r+" setter"),i=[];s(c,n,f.toWireType(i,t)),Mt(i)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,l),[]})),[]}))},_embind_register_emval:function(e,t){He(e,{name:t=Re(t),fromWireType:function(e){var t=Kt.toValue(e);return zt(e),t},toWireType:function(e,t){return Kt.toHandle(t)},argPackAdvance:8,readValueFromPointer:mt,destructorFunction:null})},_embind_register_enum:function(e,t,n,r){var i=Oe(n);function a(){}t=Re(t),a.values={},He(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:Wt(t,i,r),destructorFunction:null}),lt(t,a)},_embind_register_enum_value:function(e,t,n){var r=Ht(e,"enum");t=Re(t);var i=r.constructor,a=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ve(r.name+"_"+t,(function(){}))}});i.values[n]=a,i[t]=a},_embind_register_float:function(e,t,n){var r=Oe(n);He(e,{name:t=Re(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:$t(t,r),destructorFunction:null})},_embind_register_function:function(e,t,n,r,i,a){var o=jt(t,n);e=Re(e),i=Nt(r,i),lt(e,(function(){Lt("Cannot call "+e+" due to unbound types",o)}),t-1),We([],o,(function(n){var r=[n[0],null].concat(n.slice(1));return At(e,Ft(e,r,null,i,a),t-1),[]}))},_embind_register_integer:function(e,t,n,r,i){t=Re(t);var a=Oe(n),o=function(e){return e};if(0===r){var u=32-8*n;o=function(e){return e<<u>>>u}}var s=t.includes("unsigned");He(e,{name:t,fromWireType:o,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Yt(t,a,0!==r),destructorFunction:null})},_embind_register_memory_view:function(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=R,n=t[e>>=2],i=t[e+1];return new r(A,i,n)}He(e,{name:n=Re(n),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_smart_ptr:function(e,t,n,r,i,a,o,u,s,c,l,f){n=Re(n),a=Nt(i,a),u=Nt(o,u),c=Nt(s,c),f=Nt(l,f),We([e],[t],(function(e){return e=e[0],[new It(n,e.registeredClass,!1,!1,!0,e,r,a,u,c,f)]}))},_embind_register_std_string:function(e,t){var n="std::string"===(t=Re(t));He(e,{name:t,fromWireType:function(e){var t,r=R[e>>2];if(n)for(var i=e+4,a=0;a<=r;++a){var o=e+4+a;if(a==r||0==N[o]){var u=S(i,o-i);void 0===t?t=u:(t+=String.fromCharCode(0),t+=u),i=o+1}}else{var s=new Array(r);for(a=0;a<r;++a)s[a]=String.fromCharCode(N[e+4+a]);t=s.join("")}return qn(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"===typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||qe("Cannot pass non-string to std::string");var i=(n&&r?function(){return I(t)}:function(){return t.length})(),a=Un(4+i+1);if(R[a>>2]=i,n&&r)C(t,a+4,i+1);else if(r)for(var o=0;o<i;++o){var u=t.charCodeAt(o);u>255&&(qn(a),qe("String has UTF-16 code units that do not fit in 8 bits")),N[a+4+o]=u}else for(o=0;o<i;++o)N[a+4+o]=t[o];return null!==e&&e.push(qn,a),a},argPackAdvance:8,readValueFromPointer:mt,destructorFunction:function(e){qn(e)}})},_embind_register_std_wstring:function(e,t,n){var r,i,a,o,u;n=Re(n),2===t?(r=V,i=U,o=z,a=function(){return O},u=1):4===t&&(r=q,i=G,o=K,a=function(){return R},u=2),He(e,{name:n,fromWireType:function(e){for(var n,i=R[e>>2],o=a(),s=e+4,c=0;c<=i;++c){var l=e+4+c*t;if(c==i||0==o[l>>u]){var f=r(s,l-s);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),s=l+t}}return qn(e),n},toWireType:function(e,r){"string"!==typeof r&&qe("Cannot pass non-string to C++ string type "+n);var a=o(r),s=Un(4+a+t);return R[s>>2]=a>>u,i(r,s+4,a+t),null!==e&&e.push(qn,s),s},argPackAdvance:8,readValueFromPointer:mt,destructorFunction:function(e){qn(e)}})},_embind_register_void:function(e,t){He(e,{isVoid:!0,name:t=Re(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emval_as:function(e,t,n){e=Kt.toValue(e),t=Ht(t,"emval::as");var r=[],i=Kt.toHandle(r);return L[n>>2]=i,t.toWireType(r,e)},_emval_call:function(e,t,n,r){e=Kt.toValue(e);for(var i=Xt(t,n),a=new Array(t),o=0;o<t;++o){var u=i[o];a[o]=u.readValueFromPointer(r),r+=u.argPackAdvance}var s=e.apply(void 0,a);return Kt.toHandle(s)},_emval_call_void_method:function(e,t,n,r){(e=en[e])(t=Kt.toValue(t),n=Zt(n),null,r)},_emval_decref:zt,_emval_get_method_caller:function(e,t){var n=Xt(e,t),r=n[0],i=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",a=tn[i];if(void 0!==a)return a;for(var o=["retType"],u=[r],s="",c=0;c<e-1;++c)s+=(0!==c?", ":"")+"arg"+c,o.push("argType"+c),u.push(n[1+c]);var l="return function "+Be("methodCaller_"+i)+"(handle, name, destructors, args) {\n",f=0;for(c=0;c<e-1;++c)l+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(f?"+"+f:"")+");\n",f+=n[c+1].argPackAdvance;for(l+="    var rv = handle[name]("+s+");\n",c=0;c<e-1;++c)n[c+1].deleteObject&&(l+="    argType"+c+".deleteObject(arg"+c+");\n");return r.isVoid||(l+="    return retType.toWireType(destructors, rv);\n"),l+="};\n",o.push(l),a=function(e){var t=en.length;return en.push(e),t}(Rt(Function,o).apply(null,u)),tn[i]=a,a},_emval_get_module_property:function(e){return e=Zt(e),Kt.toHandle(t[e])},_emval_get_property:function(e,t){return e=Kt.toValue(e),t=Kt.toValue(t),Kt.toHandle(e[t])},_emval_incref:function(e){e>4&&(Ut[e].refcount+=1)},_emval_is_number:function(e){return"number"===typeof(e=Kt.toValue(e))},_emval_new_cstring:function(e){return Kt.toHandle(Zt(e))},_emval_run_destructors:function(e){Mt(Kt.toValue(e)),zt(e)},_emval_set_property:function(e,t,n){e=Kt.toValue(e),t=Kt.toValue(t),n=Kt.toValue(n),e[t]=n},_emval_take_value:function(e,t){var n=(e=Ht(e,"_emval_take_value")).readValueFromPointer(t);return Kt.toHandle(n)},abort:function(){se("")},alBufferData:function(e,t,n,r,i){if(cn.currentCtx){var a=cn.buffers[e];if(a)if(i<=0)cn.currentCtx.err=40963;else{var o=null;try{switch(t){case 4352:if(r>0)for(var u=(o=cn.currentCtx.audioCtx.createBuffer(1,r,i)).getChannelData(0),s=0;s<r;++s)u[s]=.0078125*N[n++]-1;a.bytesPerSample=1,a.channels=1,a.length=r;break;case 4353:if(r>0){u=(o=cn.currentCtx.audioCtx.createBuffer(1,r>>1,i)).getChannelData(0);n>>=1;for(s=0;s<r>>1;++s)u[s]=30517578125e-15*P[n++]}a.bytesPerSample=2,a.channels=1,a.length=r>>1;break;case 4354:if(r>0){u=(o=cn.currentCtx.audioCtx.createBuffer(2,r>>1,i)).getChannelData(0);var c=o.getChannelData(1);for(s=0;s<r>>1;++s)u[s]=.0078125*N[n++]-1,c[s]=.0078125*N[n++]-1}a.bytesPerSample=1,a.channels=2,a.length=r>>1;break;case 4355:if(r>0){u=(o=cn.currentCtx.audioCtx.createBuffer(2,r>>2,i)).getChannelData(0),c=o.getChannelData(1);n>>=1;for(s=0;s<r>>2;++s)u[s]=30517578125e-15*P[n++],c[s]=30517578125e-15*P[n++]}a.bytesPerSample=2,a.channels=2,a.length=r>>2;break;case 65552:if(r>0){u=(o=cn.currentCtx.audioCtx.createBuffer(1,r>>2,i)).getChannelData(0);n>>=2;for(s=0;s<r>>2;++s)u[s]=M[n++]}a.bytesPerSample=4,a.channels=1,a.length=r>>2;break;case 65553:if(r>0){u=(o=cn.currentCtx.audioCtx.createBuffer(2,r>>3,i)).getChannelData(0),c=o.getChannelData(1);n>>=2;for(s=0;s<r>>3;++s)u[s]=M[n++],c[s]=M[n++]}a.bytesPerSample=4,a.channels=2,a.length=r>>3;break;default:return void(cn.currentCtx.err=40963)}a.frequency=i,a.audioBuf=o}catch(l){return void(cn.currentCtx.err=40963)}}else cn.currentCtx.err=40963}},alDeleteBuffers:function(e,t){if(cn.currentCtx){for(var n=0;n<e;++n){if(0!==(r=L[t+4*n>>2])){if(!cn.buffers[r])return void(cn.currentCtx.err=40961);if(cn.buffers[r].refCount)return void(cn.currentCtx.err=40964)}}for(n=0;n<e;++n){var r;0!==(r=L[t+4*n>>2])&&(cn.deviceRefCounts[cn.buffers[r].deviceId]--,delete cn.buffers[r],cn.freeIds.push(r))}}},alDeleteSources:function(e,t){if(cn.currentCtx){for(var n=0;n<e;++n){var r=L[t+4*n>>2];if(!cn.currentCtx.sources[r])return void(cn.currentCtx.err=40961)}for(n=0;n<e;++n){r=L[t+4*n>>2];cn.setSourceState(cn.currentCtx.sources[r],4116),ln(r,4105,0),delete cn.currentCtx.sources[r],cn.freeIds.push(r)}}},alGenBuffers:function(e,t){if(cn.currentCtx)for(var n=0;n<e;++n){var r={deviceId:cn.currentCtx.deviceId,id:cn.newId(),refCount:0,audioBuf:null,frequency:0,bytesPerSample:2,channels:1,length:0};cn.deviceRefCounts[r.deviceId]++,cn.buffers[r.id]=r,L[t+4*n>>2]=r.id}},alGenSources:function(e,t){if(cn.currentCtx)for(var n=0;n<e;++n){var r=cn.currentCtx.audioCtx.createGain();r.connect(cn.currentCtx.gain);var i={context:cn.currentCtx,id:cn.newId(),type:4144,state:4113,bufQueue:[cn.buffers[0]],audioQueue:[],looping:!1,pitch:1,dopplerShift:1,gain:r,minGain:0,maxGain:1,panner:null,bufsProcessed:0,bufStartTime:Number.NEGATIVE_INFINITY,bufOffset:0,relative:!1,refDistance:1,maxDistance:340282e33,rolloffFactor:1,position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],coneOuterGain:0,coneInnerAngle:360,coneOuterAngle:360,distanceModel:53250,spatialize:2,get playbackRate(){return this.pitch*this.dopplerShift}};cn.currentCtx.sources[i.id]=i,L[t+4*n>>2]=i.id}},alGetError:function(){if(cn.currentCtx){var e=cn.currentCtx.err;return cn.currentCtx.err=0,e}return 40964},alGetSourcei:function(e,t,n){var r=cn.getSourceParam("alGetSourcei",e,t);if(null!==r)if(n)switch(t){case 514:case 4097:case 4098:case 4103:case 4105:case 4112:case 4117:case 4118:case 4128:case 4129:case 4131:case 4132:case 4133:case 4134:case 4135:case 4628:case 8201:case 8202:case 53248:L[n>>2]=r;break;default:return void(cn.currentCtx.err=40962)}else cn.currentCtx.err=40963},alGetString:function(e){if(!cn.currentCtx)return 0;if(cn.stringCache[e])return cn.stringCache[e];var t;switch(e){case 0:t="No Error";break;case 40961:t="Invalid Name";break;case 40962:t="Invalid Enum";break;case 40963:t="Invalid Value";break;case 40964:t="Invalid Operation";break;case 40965:t="Out of Memory";break;case 45057:t="Emscripten";break;case 45058:t="1.1";break;case 45059:t="WebAudio";break;case 45060:for(var n in t="",cn.AL_EXTENSIONS)t=(t=t.concat(n)).concat(" ");t=t.trim();break;default:return cn.currentCtx.err=40962,0}return t=k(Bn(t),0),cn.stringCache[e]=t,t},alSourcePause:function(e){if(cn.currentCtx){var t=cn.currentCtx.sources[e];t?cn.setSourceState(t,4115):cn.currentCtx.err=40961}},alSourcePlay:function(e){if(cn.currentCtx){var t=cn.currentCtx.sources[e];t?cn.setSourceState(t,4114):cn.currentCtx.err=40961}},alSourceStop:function(e){if(cn.currentCtx){var t=cn.currentCtx.sources[e];t?cn.setSourceState(t,4116):cn.currentCtx.err=40961}},alSourcef:function(e,t,n){switch(t){case 4097:case 4098:case 4099:case 4106:case 4109:case 4110:case 4128:case 4129:case 4130:case 4131:case 4132:case 4133:case 4134:case 8203:cn.setSourceParam("alSourcef",e,t,n);break;default:cn.setSourceParam("alSourcef",e,t,null)}},alSourcei:ln,alcCloseDevice:function(e){return!(e in cn.deviceRefCounts)||cn.deviceRefCounts[e]>0?0:(delete cn.deviceRefCounts[e],cn.freeIds.push(e),1)},alcCreateContext:function(e,t){if(!(e in cn.deviceRefCounts))return cn.alcErr=40961,0;var n=null,r=[],i=null;if(t>>=2)for(var a=0,o=0;a=L[t++],r.push(a),0!==a;)switch(o=L[t++],r.push(o),a){case 4103:n||(n={}),n.sampleRate=o;break;case 4112:case 4113:break;case 6546:switch(o){case 0:i=!1;break;case 1:i=!0;break;case 2:break;default:return cn.alcErr=40964,0}break;case 6550:if(0!==o)return cn.alcErr=40964,0;break;default:return cn.alcErr=40964,0}var u=window.AudioContext||window.webkitAudioContext,s=null;try{s=n?new u(n):new u}catch(h){return"NotSupportedError"===h.name?cn.alcErr=40964:cn.alcErr=40961,0}fn(s),"undefined"===typeof s.createGain&&(s.createGain=s.createGainNode);var c=s.createGain();c.connect(s.destination);var l={deviceId:e,id:cn.newId(),attrs:r,audioCtx:s,listener:{position:[0,0,0],velocity:[0,0,0],direction:[0,0,0],up:[0,0,0]},sources:[],interval:setInterval((function(){cn.scheduleContextAudio(l)}),cn.QUEUE_INTERVAL),gain:c,distanceModel:53250,speedOfSound:343.3,dopplerFactor:1,sourceDistanceModel:!1,hrtf:i||!1,_err:0,get err(){return this._err},set err(e){0!==this._err&&0!==e||(this._err=e)}};if(cn.deviceRefCounts[e]++,cn.contexts[l.id]=l,null!==i)for(var f in cn.contexts){var d=cn.contexts[f];d.deviceId===e&&(d.hrtf=i,cn.updateContextGlobal(d))}return l.id},alcDestroyContext:function(e){var t=cn.contexts[e];cn.currentCtx!==t?(cn.contexts[e].interval&&clearInterval(cn.contexts[e].interval),cn.deviceRefCounts[t.deviceId]--,delete cn.contexts[e],cn.freeIds.push(e)):cn.alcErr=40962},alcGetError:function(e){var t=cn.alcErr;return cn.alcErr=0,t},alcGetString:function(e,t){if(cn.alcStringCache[t])return cn.alcStringCache[t];var n;switch(t){case 0:n="No Error";break;case 40961:n="Invalid Device";break;case 40962:n="Invalid Context";break;case 40963:n="Invalid Enum";break;case 40964:n="Invalid Value";break;case 40965:n="Out of Memory";break;case 4100:if("undefined"===typeof AudioContext&&"undefined"===typeof webkitAudioContext)return 0;n=cn.DEVICE_NAME;break;case 4101:n="undefined"!==typeof AudioContext||"undefined"!==typeof webkitAudioContext?cn.DEVICE_NAME.concat("\0"):"\0";break;case 785:n=cn.CAPTURE_DEVICE_NAME;break;case 784:if(0===e)n=cn.CAPTURE_DEVICE_NAME.concat("\0");else{var r=cn.requireValidCaptureDevice(e,"alcGetString");if(!r)return 0;n=r.deviceName}break;case 4102:if(!e)return cn.alcErr=40961,0;for(var i in n="",cn.ALC_EXTENSIONS)n=(n=n.concat(i)).concat(" ");n=n.trim();break;default:return cn.alcErr=40963,0}return n=k(Bn(n),0),cn.alcStringCache[t]=n,n},alcMakeContextCurrent:function(e){return 0===e?(cn.currentCtx=null,0):(cn.currentCtx=cn.contexts[e],1)},alcOpenDevice:function(e){if(e&&S(e)!==cn.DEVICE_NAME)return 0;if("undefined"!==typeof AudioContext||"undefined"!==typeof webkitAudioContext){var t=cn.newId();return cn.deviceRefCounts[t]=0,t}return 0},clock_gettime:_e,create_video:function(e){var n=S(e),r=Ne.readFile(n),i=document.createElement("video"),a=URL.createObjectURL(new Blob([r],{type:"video/mp4"})),o=t.proxyVideoRequestsTo;return i.muted=!0,i.autoplay=!1,i.controls=!1,i.playsInline=!0,i.src=o?o+encodeURIComponent(a):a,Kt.toHandle(i)},delete_video:function(e){var t=Kt.toValue(e);URL.revokeObjectURL(t.src),t.src=""},emscripten_get_heap_max:function(){return 2147483648},emscripten_get_now:me,emscripten_memcpy_big:function(e,t,n){N.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){var t=N.length,n=2147483648;if((e>>>=0)>n)return!1;for(var r=1;r<=4;r*=2){var i=t*(1+.2/r);if(i=Math.min(i,e+100663296),dn(Math.min(n,Q(Math.max(e,i),65536))))return!0}return!1},environ_get:function(e,t){var n=0;return pn().forEach((function(r,i){var a=t+n;L[e+4*i>>2]=a,function(e,t,n){for(var r=0;r<e.length;++r)D[t++>>0]=e.charCodeAt(r);n||(D[t>>0]=0)}(r,a),n+=r.length+1})),0},environ_sizes_get:function(e,t){var n=pn();L[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),L[t>>2]=r,0},exit:rn,fd_close:function(e){try{var t=Pe.getStreamFromFD(e);return Ne.close(t),0}catch(n){if("undefined"===typeof Ne||!(n instanceof Ne.ErrnoError))throw n;return n.errno}},fd_read:function(e,t,n,r){try{var i=Pe.getStreamFromFD(e),a=Pe.doReadv(i,t,n);return L[r>>2]=a,0}catch(o){if("undefined"===typeof Ne||!(o instanceof Ne.ErrnoError))throw o;return o.errno}},fd_seek:function(e,t,n,r,i){try{var a=Pe.getStreamFromFD(e),o=4294967296*n+(t>>>0),u=9007199254740992;return o<=-u||o>=u?-61:(Ne.llseek(a,o,r),de=[a.position>>>0,(fe=a.position,+Math.abs(fe)>=1?fe>0?(0|Math.min(+Math.floor(fe/4294967296),4294967295))>>>0:~~+Math.ceil((fe-+(~~fe>>>0))/4294967296)>>>0:0)],L[i>>2]=de[0],L[i+4>>2]=de[1],a.getdents&&0===o&&0===r&&(a.getdents=null),0)}catch(s){if("undefined"===typeof Ne||!(s instanceof Ne.ErrnoError))throw s;return s.errno}},fd_write:function(e,t,n,r){try{var i=Pe.getStreamFromFD(e),a=Pe.doWritev(i,t,n);return L[r>>2]=a,0}catch(o){if("undefined"===typeof Ne||!(o instanceof Ne.ErrnoError))throw o;return o.errno}},get_camera_texture:function(){return t.useCamTexture&&t.texture?(t.camTextureId||(t.camTextureId=vn.getNewId(vn.textures),t.texture.name=t.camTextureId,vn.textures[t.camTextureId]=t.texture),t.camTextureId):0},get_current_hostname:function(){var e=window.location.hostname,t=I(e)+1,n=Un(t);return C(e,n,t),n},getentropy:function e(t,n){e.randomDevice||(e.randomDevice=Te());for(var r=0;r<n;r++)D[t+r>>0]=e.randomDevice();return 0},gettimeofday:function(e){var t=Date.now();return L[e>>2]=t/1e3|0,L[e+4>>2]=t%1e3*1e3|0,0},glActiveTexture:function(e){On.activeTexture(e)},glAttachShader:function(e,t){On.attachShader(vn.programs[e],vn.shaders[t])},glBindAttribLocation:function(e,t,n){On.bindAttribLocation(vn.programs[e],t,S(n))},glBindBuffer:function(e,t){35051==e?On.currentPixelPackBufferBinding=t:35052==e&&(On.currentPixelUnpackBufferBinding=t),On.bindBuffer(e,vn.buffers[t])},glBindBufferRange:function(e,t,n,r,i){On.bindBufferRange(e,t,vn.buffers[n],r,i)},glBindFramebuffer:function(e,t){On.bindFramebuffer(e,vn.framebuffers[t])},glBindRenderbuffer:function(e,t){On.bindRenderbuffer(e,vn.renderbuffers[t])},glBindTexture:function(e,t){On.bindTexture(e,vn.textures[t])},glBindVertexArray:function(e){On.bindVertexArray(vn.vaos[e])},glBlendEquation:function(e){On.blendEquation(e)},glBlendFunc:function(e,t){On.blendFunc(e,t)},glBlendFuncSeparate:function(e,t,n,r){On.blendFuncSeparate(e,t,n,r)},glBlitFramebuffer:function(e,t,n,r,i,a,o,u,s,c){On.blitFramebuffer(e,t,n,r,i,a,o,u,s,c)},glBufferData:function(e,t,n,r){vn.currentContext.version>=2?n?On.bufferData(e,N,r,n,t):On.bufferData(e,t,r):On.bufferData(e,n?N.subarray(n,n+t):t,r)},glBufferSubData:function(e,t,n,r){vn.currentContext.version>=2?On.bufferSubData(e,t,N,r,n):On.bufferSubData(e,t,N.subarray(r,r+n))},glClear:function(e){On.clear(e)},glClearBufferfv:function(e,t,n){On.clearBufferfv(e,t,M,n>>2)},glClearColor:function(e,t,n,r){On.clearColor(e,t,n,r)},glClearDepthf:function(e){On.clearDepth(e)},glColorMask:function(e,t,n,r){On.colorMask(!!e,!!t,!!n,!!r)},glCompileShader:function(e){On.compileShader(vn.shaders[e])},glCompressedTexImage2D:function(e,t,n,r,i,a,o,u){vn.currentContext.version>=2?On.currentPixelUnpackBufferBinding?On.compressedTexImage2D(e,t,n,r,i,a,o,u):On.compressedTexImage2D(e,t,n,r,i,a,N,u,o):On.compressedTexImage2D(e,t,n,r,i,a,u?N.subarray(u,u+o):null)},glCompressedTexImage3D:function(e,t,n,r,i,a,o,u,s){On.currentPixelUnpackBufferBinding?On.compressedTexImage3D(e,t,n,r,i,a,o,u,s):On.compressedTexImage3D(e,t,n,r,i,a,o,N,s,u)},glCopyTexSubImage2D:function(e,t,n,r,i,a,o,u){On.copyTexSubImage2D(e,t,n,r,i,a,o,u)},glCreateProgram:function(){var e=vn.getNewId(vn.programs),t=On.createProgram();return t.name=e,t.maxUniformLength=t.maxAttributeLength=t.maxUniformBlockNameLength=0,t.uniformIdCounter=1,vn.programs[e]=t,e},glCreateShader:function(e){var t=vn.getNewId(vn.shaders);return vn.shaders[t]=On.createShader(e),t},glDeleteBuffers:function(e,t){for(var n=0;n<e;n++){var r=L[t+4*n>>2],i=vn.buffers[r];i&&(On.deleteBuffer(i),i.name=0,vn.buffers[r]=null,r==On.currentPixelPackBufferBinding&&(On.currentPixelPackBufferBinding=0),r==On.currentPixelUnpackBufferBinding&&(On.currentPixelUnpackBufferBinding=0))}},glDeleteFramebuffers:function(e,t){for(var n=0;n<e;++n){var r=L[t+4*n>>2],i=vn.framebuffers[r];i&&(On.deleteFramebuffer(i),i.name=0,vn.framebuffers[r]=null)}},glDeleteProgram:function(e){if(e){var t=vn.programs[e];t?(On.deleteProgram(t),t.name=0,vn.programs[e]=null):vn.recordError(1281)}},glDeleteRenderbuffers:function(e,t){for(var n=0;n<e;n++){var r=L[t+4*n>>2],i=vn.renderbuffers[r];i&&(On.deleteRenderbuffer(i),i.name=0,vn.renderbuffers[r]=null)}},glDeleteShader:function(e){if(e){var t=vn.shaders[e];t?(On.deleteShader(t),vn.shaders[e]=null):vn.recordError(1281)}},glDeleteTextures:function(e,t){for(var n=0;n<e;n++){var r=L[t+4*n>>2],i=vn.textures[r];i&&(On.deleteTexture(i),i.name=0,vn.textures[r]=null)}},glDeleteVertexArrays:function(e,t){for(var n=0;n<e;n++){var r=L[t+4*n>>2];On.deleteVertexArray(vn.vaos[r]),vn.vaos[r]=null}},glDepthFunc:function(e){On.depthFunc(e)},glDepthMask:function(e){On.depthMask(!!e)},glDisable:function(e){On.disable(e)},glDrawArrays:function(e,t,n){On.drawArrays(e,t,n)},glDrawArraysInstanced:function(e,t,n,r){On.drawArraysInstanced(e,t,n,r)},glDrawBuffers:function(e,t){for(var n=mn[e],r=0;r<e;r++)n[r]=L[t+4*r>>2];On.drawBuffers(n)},glDrawElements:function(e,t,n,r){On.drawElements(e,t,n,r)},glDrawElementsInstanced:function(e,t,n,r,i){On.drawElementsInstanced(e,t,n,r,i)},glEnable:function(e){On.enable(e)},glEnableVertexAttribArray:function(e){On.enableVertexAttribArray(e)},glFramebufferRenderbuffer:function(e,t,n,r){On.framebufferRenderbuffer(e,t,n,vn.renderbuffers[r])},glFramebufferTexture2D:function(e,t,n,r,i){On.framebufferTexture2D(e,t,n,vn.textures[r],i)},glFrontFace:function(e){On.frontFace(e)},glGenBuffers:function(e,t){yn(e,t,"createBuffer",vn.buffers)},glGenFramebuffers:function(e,t){yn(e,t,"createFramebuffer",vn.framebuffers)},glGenRenderbuffers:function(e,t){yn(e,t,"createRenderbuffer",vn.renderbuffers)},glGenTextures:function(e,t){yn(e,t,"createTexture",vn.textures)},glGenVertexArrays:function(e,t){yn(e,t,"createVertexArray",vn.vaos)},glGenerateMipmap:function(e){On.generateMipmap(e)},glGetError:function(){var e=On.getError()||vn.lastError;return vn.lastError=0,e},glGetIntegerv:function(e,t){gn(e,t,0)},glGetProgramInfoLog:function(e,t,n,r){var i=On.getProgramInfoLog(vn.programs[e]);null===i&&(i="(unknown error)");var a=t>0&&r?C(i,r,t):0;n&&(L[n>>2]=a)},glGetProgramiv:function(e,t,n){if(n)if(e>=vn.counter)vn.recordError(1281);else if(e=vn.programs[e],35716==t){var r=On.getProgramInfoLog(e);null===r&&(r="(unknown error)"),L[n>>2]=r.length+1}else if(35719==t){if(!e.maxUniformLength)for(var i=0;i<On.getProgramParameter(e,35718);++i)e.maxUniformLength=Math.max(e.maxUniformLength,On.getActiveUniform(e,i).name.length+1);L[n>>2]=e.maxUniformLength}else if(35722==t){if(!e.maxAttributeLength)for(i=0;i<On.getProgramParameter(e,35721);++i)e.maxAttributeLength=Math.max(e.maxAttributeLength,On.getActiveAttrib(e,i).name.length+1);L[n>>2]=e.maxAttributeLength}else if(35381==t){if(!e.maxUniformBlockNameLength)for(i=0;i<On.getProgramParameter(e,35382);++i)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,On.getActiveUniformBlockName(e,i).length+1);L[n>>2]=e.maxUniformBlockNameLength}else L[n>>2]=On.getProgramParameter(e,t);else vn.recordError(1281)},glGetShaderInfoLog:function(e,t,n,r){var i=On.getShaderInfoLog(vn.shaders[e]);null===i&&(i="(unknown error)");var a=t>0&&r?C(i,r,t):0;n&&(L[n>>2]=a)},glGetShaderiv:function(e,t,n){if(n)if(35716==t){var r=On.getShaderInfoLog(vn.shaders[e]);null===r&&(r="(unknown error)");var i=r?r.length+1:0;L[n>>2]=i}else if(35720==t){var a=On.getShaderSource(vn.shaders[e]),o=a?a.length+1:0;L[n>>2]=o}else L[n>>2]=On.getShaderParameter(vn.shaders[e],t);else vn.recordError(1281)},glGetString:function(e){var t=vn.stringCache[e];if(!t){switch(e){case 7939:var n=On.getSupportedExtensions()||[];t=bn((n=n.concat(n.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var r=On.getParameter(e);r||vn.recordError(1280),t=r&&bn(r);break;case 7938:var i=On.getParameter(7938);t=bn(i=vn.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var a=On.getParameter(35724),o=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==o&&(3==o[1].length&&(o[1]=o[1]+"0"),a="OpenGL ES GLSL ES "+o[1]+" ("+a+")"),t=bn(a);break;default:vn.recordError(1280)}vn.stringCache[e]=t}return t},glGetUniformLocation:function(e,t){if(t=S(t),e=vn.programs[e]){!function(e){var t,n,r=e.uniformLocsById,i=e.uniformSizeAndIdsByName;if(!r)for(e.uniformLocsById=r={},e.uniformArrayNamesById={},t=0;t<On.getProgramParameter(e,35718);++t){var a=On.getActiveUniform(e,t),o=a.name,u=a.size,s=wn(o),c=s>0?o.slice(0,s):o,l=e.uniformIdCounter;for(e.uniformIdCounter+=u,i[c]=[u,l],n=0;n<u;++n)r[l]=n,e.uniformArrayNamesById[l++]=c}}(e);var n=e.uniformLocsById,r=0,i=t,a=wn(t);a>0&&(u=t.slice(a+1),r=parseInt(u)>>>0,i=t.slice(0,a));var o=e.uniformSizeAndIdsByName[i];if(o&&r<o[0]&&(n[r+=o[1]]=n[r]||On.getUniformLocation(e,t)))return r}else vn.recordError(1281);var u;return-1},glInvalidateFramebuffer:function(e,t,n){for(var r=mn[t],i=0;i<t;i++)r[i]=L[n+4*i>>2];On.invalidateFramebuffer(e,r)},glLinkProgram:function(e){e=vn.programs[e],On.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},glPixelStorei:function(e,t){3317==e&&(vn.unpackAlignment=t),On.pixelStorei(e,t)},glReadPixels:function(e,t,n,r,i,a,o){if(vn.currentContext.version>=2)if(On.currentPixelPackBufferBinding)On.readPixels(e,t,n,r,i,a,o);else{var u=_n(a);On.readPixels(e,t,n,r,i,a,u,o>>kn(u))}else{var s=En(a,i,n,r,o);s?On.readPixels(e,t,n,r,i,a,s):vn.recordError(1280)}},glRenderbufferStorage:function(e,t,n,r){On.renderbufferStorage(e,t,n,r)},glRenderbufferStorageMultisample:function(e,t,n,r,i){On.renderbufferStorageMultisample(e,t,n,r,i)},glShaderSource:function(e,t,n,r){var i=vn.getSource(e,t,n,r);On.shaderSource(vn.shaders[e],i)},glTexImage2D:function(e,t,n,r,i,a,o,u,s){if(vn.currentContext.version>=2)if(On.currentPixelUnpackBufferBinding)On.texImage2D(e,t,n,r,i,a,o,u,s);else if(s){var c=_n(u);On.texImage2D(e,t,n,r,i,a,o,u,c,s>>kn(c))}else On.texImage2D(e,t,n,r,i,a,o,u,null);else On.texImage2D(e,t,n,r,i,a,o,u,s?En(u,o,r,i,s):null)},glTexImage3D:function(e,t,n,r,i,a,o,u,s,c){if(On.currentPixelUnpackBufferBinding)On.texImage3D(e,t,n,r,i,a,o,u,s,c);else if(c){var l=_n(s);On.texImage3D(e,t,n,r,i,a,o,u,s,l,c>>kn(l))}else On.texImage3D(e,t,n,r,i,a,o,u,s,null)},glTexParameteri:function(e,t,n){On.texParameteri(e,t,n)},glTexStorage2D:function(e,t,n,r,i){On.texStorage2D(e,t,n,r,i)},glTexStorage3D:function(e,t,n,r,i,a){On.texStorage3D(e,t,n,r,i,a)},glTexSubImage2D:function(e,t,n,r,i,a,o,u,s){if(vn.currentContext.version>=2)if(On.currentPixelUnpackBufferBinding)On.texSubImage2D(e,t,n,r,i,a,o,u,s);else if(s){var c=_n(u);On.texSubImage2D(e,t,n,r,i,a,o,u,c,s>>kn(c))}else On.texSubImage2D(e,t,n,r,i,a,o,u,null);else{var l=null;s&&(l=En(u,o,i,a,s)),On.texSubImage2D(e,t,n,r,i,a,o,u,l)}},glTexSubImage3D:function(e,t,n,r,i,a,o,u,s,c,l){if(On.currentPixelUnpackBufferBinding)On.texSubImage3D(e,t,n,r,i,a,o,u,s,c,l);else if(l){var f=_n(c);On.texSubImage3D(e,t,n,r,i,a,o,u,s,c,f,l>>kn(f))}else On.texSubImage3D(e,t,n,r,i,a,o,u,s,c,null)},glUniform1f:function(e,t){On.uniform1f(xn(e),t)},glUniform1i:function(e,t){On.uniform1i(xn(e),t)},glUniform1ui:function(e,t){On.uniform1ui(xn(e),t)},glUniform2f:function(e,t,n){On.uniform2f(xn(e),t,n)},glUniform2fv:function(e,t,n){if(vn.currentContext.version>=2)On.uniform2fv(xn(e),M,n>>2,2*t);else{if(t<=144)for(var r=Sn[2*t-1],i=0;i<2*t;i+=2)r[i]=M[n+4*i>>2],r[i+1]=M[n+(4*i+4)>>2];else r=M.subarray(n>>2,n+8*t>>2);On.uniform2fv(xn(e),r)}},glUniform4fv:function(e,t,n){if(vn.currentContext.version>=2)On.uniform4fv(xn(e),M,n>>2,4*t);else{if(t<=72){var r=Sn[4*t-1],i=M;n>>=2;for(var a=0;a<4*t;a+=4){var o=n+a;r[a]=i[o],r[a+1]=i[o+1],r[a+2]=i[o+2],r[a+3]=i[o+3]}}else r=M.subarray(n>>2,n+16*t>>2);On.uniform4fv(xn(e),r)}},glUniformMatrix4fv:function(e,t,n,r){if(vn.currentContext.version>=2)On.uniformMatrix4fv(xn(e),!!n,M,r>>2,16*t);else{if(t<=18){var i=Sn[16*t-1],a=M;r>>=2;for(var o=0;o<16*t;o+=16){var u=r+o;i[o]=a[u],i[o+1]=a[u+1],i[o+2]=a[u+2],i[o+3]=a[u+3],i[o+4]=a[u+4],i[o+5]=a[u+5],i[o+6]=a[u+6],i[o+7]=a[u+7],i[o+8]=a[u+8],i[o+9]=a[u+9],i[o+10]=a[u+10],i[o+11]=a[u+11],i[o+12]=a[u+12],i[o+13]=a[u+13],i[o+14]=a[u+14],i[o+15]=a[u+15]}}else i=M.subarray(r>>2,r+64*t>>2);On.uniformMatrix4fv(xn(e),!!n,i)}},glUseProgram:function(e){e=vn.programs[e],On.useProgram(e),On.currentProgram=e},glVertexAttribIPointer:function(e,t,n,r,i){On.vertexAttribIPointer(e,t,n,r,i)},glVertexAttribPointer:function(e,t,n,r,i,a){On.vertexAttribPointer(e,t,n,!!r,i,a)},glViewport:function(e,t,n,r){On.viewport(e,t,n,r)},gmtime_r:xe,is_electron:function(){return/electron/i.test(navigator.userAgent)},localtime_r:function(e,t){Tn();var n=new Date(1e3*L[e>>2]);L[t>>2]=n.getSeconds(),L[t+4>>2]=n.getMinutes(),L[t+8>>2]=n.getHours(),L[t+12>>2]=n.getDate(),L[t+16>>2]=n.getMonth(),L[t+20>>2]=n.getFullYear()-1900,L[t+24>>2]=n.getDay();var r=new Date(n.getFullYear(),0,1),i=(n.getTime()-r.getTime())/864e5|0;L[t+28>>2]=i,L[t+36>>2]=-60*n.getTimezoneOffset();var a=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=r.getTimezoneOffset(),u=0|(a!=o&&n.getTimezoneOffset()==Math.min(o,a));L[t+32>>2]=u;var s=L[Wn()+(u?4:0)>>2];return L[t+40>>2]=s,t},mktime:function(e){Tn();var t=new Date(L[e+20>>2]+1900,L[e+16>>2],L[e+12>>2],L[e+8>>2],L[e+4>>2],L[e>>2],0),n=L[e+32>>2],r=t.getTimezoneOffset(),i=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),u=Math.min(o,a);if(n<0)L[e+32>>2]=Number(a!=o&&u==r);else if(n>0!=(u==r)){var s=Math.max(o,a),c=n>0?u:s;t.setTime(t.getTime()+6e4*(c-r))}L[e+24>>2]=t.getDay();var l=(t.getTime()-i.getTime())/864e5|0;return L[e+28>>2]=l,L[e>>2]=t.getSeconds(),L[e+4>>2]=t.getMinutes(),L[e+8>>2]=t.getHours(),L[e+12>>2]=t.getDate(),L[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},setTempRet0:function(e){},strftime_l:function(e,t,n,r){return Pn(e,t,n,r)},time:function(e){var t=Date.now()/1e3|0;return e&&(L[e>>2]=t),t}};!function(){var e={env:Vn,wasi_snapshot_preview1:Vn};function n(e,n){var r=e.exports;t.asm=r,$((y=t.asm.memory).buffer),j=t.asm.__indirect_function_table,function(e){X.unshift(e)}(t.asm.__wasm_call_ctors),ue()}function i(e){n(e.instance)}function a(t){return(h||"function"!==typeof fetch?Promise.resolve().then((function(){return pe(ce)})):fetch(ce,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ce+"'";return e.arrayBuffer()})).catch((function(){return pe(ce)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){v("failed to asynchronously prepare wasm: "+e),se(e)}))}if(oe(),t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(o){return v("Module.instantiateWasm callback failed with error: "+o),!1}(h||"function"!==typeof WebAssembly.instantiateStreaming||he(ce)||"function"!==typeof fetch?a(i):fetch(ce,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(i,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),a(i)}))}))).catch(r)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.__wasm_call_ctors).apply(null,arguments)};var Un=t._malloc=function(){return(Un=t._malloc=t.asm.malloc).apply(null,arguments)},zn=t.___errno_location=function(){return(zn=t.___errno_location=t.asm.__errno_location).apply(null,arguments)},qn=t._free=function(){return(qn=t._free=t.asm.free).apply(null,arguments)};t._main=function(){return(t._main=t.asm.main).apply(null,arguments)};var Gn=t.___getTypeName=function(){return(Gn=t.___getTypeName=t.asm.__getTypeName).apply(null,arguments)};t.___embind_register_native_and_builtin_types=function(){return(t.___embind_register_native_and_builtin_types=t.asm.__embind_register_native_and_builtin_types).apply(null,arguments)};var Kn,Wn=t.__get_tzname=function(){return(Wn=t.__get_tzname=t.asm._get_tzname).apply(null,arguments)},Hn=t.__get_daylight=function(){return(Hn=t.__get_daylight=t.asm._get_daylight).apply(null,arguments)},Qn=t.__get_timezone=function(){return(Qn=t.__get_timezone=t.asm._get_timezone).apply(null,arguments)},$n=t.stackAlloc=function(){return($n=t.stackAlloc=t.asm.stackAlloc).apply(null,arguments)},Yn=t._memalign=function(){return(Yn=t._memalign=t.asm.memalign).apply(null,arguments)};function Xn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Jn(e){function r(){Kn||(Kn=!0,t.calledRun=!0,w||(t.noFSInit||Ne.init.initialized||Ne.init(),Ne.ignorePermissions=!1,ve(X),ve(J),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),er&&function(e){var n=t._main,r=(e=e||[]).length+1,i=$n(4*(r+1));L[i>>2]=H(l);for(var a=1;a<r;a++)L[(i>>2)+a]=H(e[a-1]);L[(i>>2)+r]=0;try{var o=n(r,i);Zn(o,!0)}catch(u){return be(u)}}(e),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)re(t.postRun.shift());ve(Z)}()))}e=e||c,ie>0||(!function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)ne(t.preRun.shift());ve(Y)}(),ie>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),r()}),1)):r()))}function Zn(e,n){b=e,te()||(ee=!0),function(e){b=e,te()||(t.onExit&&t.onExit(e),w=!0);f(e,new Xn(e))}(e)}if(t.dynCall_ji=function(){return(t.dynCall_ji=t.asm.dynCall_ji).apply(null,arguments)},t.dynCall_jjj=function(){return(t.dynCall_jjj=t.asm.dynCall_jjj).apply(null,arguments)},t.dynCall_viij=function(){return(t.dynCall_viij=t.asm.dynCall_viij).apply(null,arguments)},t.dynCall_jii=function(){return(t.dynCall_jii=t.asm.dynCall_jii).apply(null,arguments)},t.dynCall_jiii=function(){return(t.dynCall_jiii=t.asm.dynCall_jiii).apply(null,arguments)},t.dynCall_viiij=function(){return(t.dynCall_viiij=t.asm.dynCall_viiij).apply(null,arguments)},t.dynCall_viijjiii=function(){return(t.dynCall_viijjiii=t.asm.dynCall_viijjiii).apply(null,arguments)},t.dynCall_iiiiji=function(){return(t.dynCall_iiiiji=t.asm.dynCall_iiiiji).apply(null,arguments)},t.dynCall_iiiijii=function(){return(t.dynCall_iiiijii=t.asm.dynCall_iiiijii).apply(null,arguments)},t.dynCall_iiffj=function(){return(t.dynCall_iiffj=t.asm.dynCall_iiffj).apply(null,arguments)},t.dynCall_jijjiii=function(){return(t.dynCall_jijjiii=t.asm.dynCall_jijjiii).apply(null,arguments)},t.dynCall_vij=function(){return(t.dynCall_vij=t.asm.dynCall_vij).apply(null,arguments)},t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.dynCall_jiji).apply(null,arguments)},t.dynCall_iiiijj=function(){return(t.dynCall_iiiijj=t.asm.dynCall_iiiijj).apply(null,arguments)},t.dynCall_viijj=function(){return(t.dynCall_viijj=t.asm.dynCall_viijj).apply(null,arguments)},t.dynCall_viiijjjj=function(){return(t.dynCall_viiijjjj=t.asm.dynCall_viiijjjj).apply(null,arguments)},t.dynCall_vijjiii=function(){return(t.dynCall_vijjiii=t.asm.dynCall_vijjiii).apply(null,arguments)},t.dynCall_viiiji=function(){return(t.dynCall_viiiji=t.asm.dynCall_viiiji).apply(null,arguments)},t.dynCall_viiijii=function(){return(t.dynCall_viiijii=t.asm.dynCall_viiijii).apply(null,arguments)},t.dynCall_iiiiiij=function(){return(t.dynCall_iiiiiij=t.asm.dynCall_iiiiiij).apply(null,arguments)},t.dynCall_viji=function(){return(t.dynCall_viji=t.asm.dynCall_viji).apply(null,arguments)},t.dynCall_vijii=function(){return(t.dynCall_vijii=t.asm.dynCall_vijii).apply(null,arguments)},t.dynCall_vijij=function(){return(t.dynCall_vijij=t.asm.dynCall_vijij).apply(null,arguments)},t.dynCall_vijiii=function(){return(t.dynCall_vijiii=t.asm.dynCall_vijiii).apply(null,arguments)},t.dynCall_vijiiif=function(){return(t.dynCall_vijiiif=t.asm.dynCall_vijiiif).apply(null,arguments)},t.dynCall_viiiij=function(){return(t.dynCall_viiiij=t.asm.dynCall_viiiij).apply(null,arguments)},t.dynCall_viiiiji=function(){return(t.dynCall_viiiiji=t.asm.dynCall_viiiiji).apply(null,arguments)},t.dynCall_iiiji=function(){return(t.dynCall_iiiji=t.asm.dynCall_iiiji).apply(null,arguments)},t.dynCall_viiijj=function(){return(t.dynCall_viiijj=t.asm.dynCall_viiijj).apply(null,arguments)},t.dynCall_viijii=function(){return(t.dynCall_viijii=t.asm.dynCall_viijii).apply(null,arguments)},t.dynCall_iiiiij=function(){return(t.dynCall_iiiiij=t.asm.dynCall_iiiiij).apply(null,arguments)},t.dynCall_iiiiijj=function(){return(t.dynCall_iiiiijj=t.asm.dynCall_iiiiijj).apply(null,arguments)},t.dynCall_iiiiiijj=function(){return(t.dynCall_iiiiiijj=t.asm.dynCall_iiiiiijj).apply(null,arguments)},t.dynCall_jijiii=function(){return(t.dynCall_jijiii=t.asm.dynCall_jijiii).apply(null,arguments)},t.dynCall_jijiiii=function(){return(t.dynCall_jijiiii=t.asm.dynCall_jijiiii).apply(null,arguments)},t.dynCall_jijii=function(){return(t.dynCall_jijii=t.asm.dynCall_jijii).apply(null,arguments)},t.dynCall_jijiiiiii=function(){return(t.dynCall_jijiiiiii=t.asm.dynCall_jijiiiiii).apply(null,arguments)},t.dynCall_jijj=function(){return(t.dynCall_jijj=t.asm.dynCall_jijj).apply(null,arguments)},t.dynCall_iijijjji=function(){return(t.dynCall_iijijjji=t.asm.dynCall_iijijjji).apply(null,arguments)},t.dynCall_iiiij=function(){return(t.dynCall_iiiij=t.asm.dynCall_iiiij).apply(null,arguments)},t.dynCall_iiji=function(){return(t.dynCall_iiji=t.asm.dynCall_iiji).apply(null,arguments)},t.dynCall_jijij=function(){return(t.dynCall_jijij=t.asm.dynCall_jijij).apply(null,arguments)},t.dynCall_iijijji=function(){return(t.dynCall_iijijji=t.asm.dynCall_iijijji).apply(null,arguments)},t.dynCall_jij=function(){return(t.dynCall_jij=t.asm.dynCall_jij).apply(null,arguments)},t.addRunDependency=oe,t.removeRunDependency=ue,t.FS_createPath=Ne.createPath,t.FS_createDataFile=Ne.createDataFile,t.FS_createPreloadedFile=Ne.createPreloadedFile,t.FS_createLazyFile=Ne.createLazyFile,t.FS_createDevice=Ne.createDevice,t.FS_unlink=Ne.unlink,t.FS=Ne,t.GL=vn,ae=function e(){Kn||Jn(),Kn||(ae=e)},t.run=Jn,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();var er=!0;return t.noInitialRun&&(er=!1),Jn(),fn=function(){},t.ready}}(),Ox=function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lx=function(e){return""===e||e.endsWith("/")||(e+="/"),function(t){return e+t}},Rx=function(e){return function(t){return e[t]}},Mx=function(){var e=a(l().mark((function e(t){var n,r,i,a,o,u,c=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,Ox();case 3:if(e.sent){e.next=9;break}return null===(r=n.info)||void 0===r||r.call(n,'The platform does not support SIMD. Using "BanubaSDK.wasm"'),e.abrupt("return",t);case 9:null===(i=n.info)||void 0===i||i.call(n,'The platform supports SIMD. Going to use "BanubaSDK.simd.wasm"');case 10:if(u=t("BanubaSDK.simd.wasm")){e.next=14;break}return null===(a=n.warn)||void 0===a||a.call(n,'"BanubaSDK.simd.wasm" is missing in the "locateFile" option. Using "BanubaSDK.wasm" as a fallback'),e.abrupt("return",t);case 14:return e.next=16,fetch(u,{method:"HEAD"}).then((function(e){return e.ok}));case 16:if(e.sent){e.next=20;break}return null===(o=n.warn)||void 0===o||o.call(n,'Unable to fetch "BanubaSDK.simd.wasm" from the "'.concat(u,'". Using "BanubaSDK.wasm" as a fallback')),e.abrupt("return",t);case 20:return e.abrupt("return",(function(e){var n=s(e.split("."),2),r=n[0],i=n[1];if("wasm"!==i)return t(e);var a=[r,"simd",i].join(".");return t(a)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fx=function(){var e=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=Lx(t)),"object"===typeof t&&(t=Rx(t)),e.next=4,Mx(t,n);case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jx=function(){var e=[];return{start:function(){e.push([])},add:function(t){var n=e[e.length-1];n&&n.push(t)},remove:function(t){var n=e[e.length-1];if(n){var r=n.findIndex((function(e){return e===t}));-1!==r&&n.splice(r,1)}},end:function(){var t=e.pop();if(t){var n,r=na(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isDeleted()||i.delete()}}catch(a){r.e(a)}finally{r.f()}}}}}(),Bx=function(){function e(){Xi(this,e)}return Zi(e,[{key:"register",value:function(e){jx.add(e)}},{key:"unregister",value:function(){}}]),e}(),Vx=function(e){return jx.remove(e),e},Ux=function(e){try{jx.start();var t=e();return null!=(n=t)&&"object"===typeof n&&["isAliasOf","clone","delete","isDeleted","deleteLater"].every((function(e){return e in n}))?Vx(t):t}finally{jx.end()}var n};function zx(e){var t,n=function(t){for(var n in xx)if(t.includes(n)){var r=e[xx[n]];if("function"===typeof r)return void r.call(e,t)}var i=e[xx.DEBUG];"function"===typeof i&&i.call(e,t)};return{logLevel:null!==(t=Object.keys(xx).reverse().find((function(t){return"function"===typeof e[xx[t]]})))&&void 0!==t?t:"ERROR",print:n,printErr:n}}function qx(e){return Gx.apply(this,arguments)}function Gx(){return Gx=a(l().mark((function e(t){var n,r,i,a,o,u,s,c,f,d,h,p,v,m,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clientToken,r=t.locateFile,i=void 0===r?"":r,a=t.canvas,o=void 0===a?Kx():a,u=t.logger,s=void 0===u?{warn:console.warn,error:console.error}:u,c=SE(t,BE),e.next=3,Fx(i,s);case 3:return d=e.sent,h=zx(s),p=h.logLevel,v=h.print,m=h.printErr,e.next=7,new Promise((function(e,t){return Px(CE({locateFile:d,FinalizationGroup:Bx,print:v,printErr:m,onAbort:function(e){e instanceof WebAssembly.CompileError&&t(new Error('Failed to compile "BanubaSDK.wasm": the file "'.concat(d("BanubaSDK.wasm"),'" is invalid. This error is usually caused by misconfigured "locateFile" option, see https://docs.banuba.com/face-ar-sdk-v1/generated/typedoc/modules.html#SDKOptions. Original Error: ')+e))}},c)).then(e,t)}));case 7:y=e.sent,e.prev=8,Ux((function(){y.UtilityManager.initialize(new y.VectorString,n),y.UtilityManager.setLogLevel(y.SeverityLevel[p])})),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(8),"number"===typeof e.t0&&(e.t0=new Error(y.getExceptionMessage(e.t0))),e.t0;case 16:return y.createContext(o,!0,!0,{alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!0,stencil:!1}),y.canvas=o,"undefined"===typeof WebGL2RenderingContext&&(["WEBGL_depth_texture","ANGLE_depth_texture","GL_ANGLE_depth_texture","OES_texture_half_float"].every((function(e){var t;return null===(t=y.canvas.getContext("webgl"))||void 0===t?void 0:t.getExtension(e)}))||null===(f=s.warn)||void 0===f||f.call(s,"Depth textures are not supported on the current device.")),e.abrupt("return",y);case 20:case"end":return e.stop()}}),e,null,[[8,12]])}))),Gx.apply(this,arguments)}function Kx(){var e=document.createElement("canvas");return e.style.maxWidth="100%",e.style.objectFit="cover",e}(Sx=xx||(xx={})).ERROR="error",Sx.WARNING="warn",Sx.INFO="info",Sx.DEBUG="debug";var Wx,Hx,Qx=new qE("(function () {\n   'use strict';\n\n   // DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n\n   // aliases for shorter compressed code (most minifers don't do this)\n   var u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n   // fixed length extra bits\n   var fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n   // fixed distance extra bits\n   // see fleb note\n   var fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n   // code length index map\n   var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n   // get base, reverse index map from extra bits\n   var freb = function (eb, start) {\n       var b = new u16(31);\n       for (var i = 0; i < 31; ++i) {\n           b[i] = start += 1 << eb[i - 1];\n       }\n       // numbers here are at max 18 bits\n       var r = new u32(b[30]);\n       for (var i = 1; i < 30; ++i) {\n           for (var j = b[i]; j < b[i + 1]; ++j) {\n               r[j] = ((j - b[i]) << 5) | i;\n           }\n       }\n       return [b, r];\n   };\n   var _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n   // we can ignore the fact that the other numbers are wrong; they never happen anyway\n   fl[28] = 258, revfl[258] = 28;\n   var _b = freb(fdeb, 0), fd = _b[0];\n   // map of value to reverse (assuming 16 bits)\n   var rev = new u16(32768);\n   for (var i = 0; i < 32768; ++i) {\n       // reverse table algorithm from SO\n       var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n       x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n       x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n       rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n   }\n   // create huffman tree from u8 \"map\": index -> code length for code index\n   // mb (max bits) must be at most 15\n   // TODO: optimize/split up?\n   var hMap = (function (cd, mb, r) {\n       var s = cd.length;\n       // index\n       var i = 0;\n       // u16 \"map\": index -> # of codes with bit length = index\n       var l = new u16(mb);\n       // length of cd must be 288 (total # of codes)\n       for (; i < s; ++i)\n           ++l[cd[i] - 1];\n       // u16 \"map\": index -> minimum code for bit length = index\n       var le = new u16(mb);\n       for (i = 0; i < mb; ++i) {\n           le[i] = (le[i - 1] + l[i - 1]) << 1;\n       }\n       var co;\n       if (r) {\n           // u16 \"map\": index -> number of actual bits, symbol for code\n           co = new u16(1 << mb);\n           // bits to remove for reverser\n           var rvb = 15 - mb;\n           for (i = 0; i < s; ++i) {\n               // ignore 0 lengths\n               if (cd[i]) {\n                   // num encoding both symbol and bits read\n                   var sv = (i << 4) | cd[i];\n                   // free bits\n                   var r_1 = mb - cd[i];\n                   // start value\n                   var v = le[cd[i] - 1]++ << r_1;\n                   // m is end value\n                   for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                       // every 16 bit value starting with the code yields the same result\n                       co[rev[v] >>> rvb] = sv;\n                   }\n               }\n           }\n       }\n       else {\n           co = new u16(s);\n           for (i = 0; i < s; ++i) {\n               if (cd[i]) {\n                   co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n               }\n           }\n       }\n       return co;\n   });\n   // fixed length tree\n   var flt = new u8(288);\n   for (var i = 0; i < 144; ++i)\n       flt[i] = 8;\n   for (var i = 144; i < 256; ++i)\n       flt[i] = 9;\n   for (var i = 256; i < 280; ++i)\n       flt[i] = 7;\n   for (var i = 280; i < 288; ++i)\n       flt[i] = 8;\n   // fixed distance tree\n   var fdt = new u8(32);\n   for (var i = 0; i < 32; ++i)\n       fdt[i] = 5;\n   // fixed length map\n   var flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n   // fixed distance map\n   var fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n   // find max of array\n   var max = function (a) {\n       var m = a[0];\n       for (var i = 1; i < a.length; ++i) {\n           if (a[i] > m)\n               m = a[i];\n       }\n       return m;\n   };\n   // read d, starting at bit p and mask with m\n   var bits = function (d, p, m) {\n       var o = (p / 8) | 0;\n       return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n   };\n   // read d, starting at bit p continuing for at least 16 bits\n   var bits16 = function (d, p) {\n       var o = (p / 8) | 0;\n       return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n   };\n   // get end of byte\n   var shft = function (p) { return ((p + 7) / 8) | 0; };\n   // typed array slice - allows garbage collector to free original reference,\n   // while being more compatible than .slice\n   var slc = function (v, s, e) {\n       if (s == null || s < 0)\n           s = 0;\n       if (e == null || e > v.length)\n           e = v.length;\n       // can't use .constructor in case user-supplied\n       var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n       n.set(v.subarray(s, e));\n       return n;\n   };\n   // error codes\n   var ec = [\n       'unexpected EOF',\n       'invalid block type',\n       'invalid length/literal',\n       'invalid distance',\n       'stream finished',\n       'no stream handler',\n       ,\n       'no callback',\n       'invalid UTF-8 data',\n       'extra field too long',\n       'date not in range 1980-2099',\n       'filename too long',\n       'stream finishing',\n       'invalid zip data'\n       // determined by unknown compression method\n   ];\n   var err = function (ind, msg, nt) {\n       var e = new Error(msg || ec[ind]);\n       e.code = ind;\n       if (Error.captureStackTrace)\n           Error.captureStackTrace(e, err);\n       if (!nt)\n           throw e;\n       return e;\n   };\n   // expands raw DEFLATE data\n   var inflt = function (dat, buf, st) {\n       // source length\n       var sl = dat.length;\n       if (!sl || (st && st.f && !st.l))\n           return buf || new u8(0);\n       // have to estimate size\n       var noBuf = !buf || st;\n       // no state\n       var noSt = !st || st.i;\n       if (!st)\n           st = {};\n       // Assumes roughly 33% compression ratio average\n       if (!buf)\n           buf = new u8(sl * 3);\n       // ensure buffer can fit at least l elements\n       var cbuf = function (l) {\n           var bl = buf.length;\n           // need to increase size to fit\n           if (l > bl) {\n               // Double or set to necessary, whichever is greater\n               var nbuf = new u8(Math.max(bl * 2, l));\n               nbuf.set(buf);\n               buf = nbuf;\n           }\n       };\n       //  last chunk         bitpos           bytes\n       var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n       // total bits\n       var tbts = sl * 8;\n       do {\n           if (!lm) {\n               // BFINAL - this is only 1 when last chunk is next\n               final = bits(dat, pos, 1);\n               // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n               var type = bits(dat, pos + 1, 3);\n               pos += 3;\n               if (!type) {\n                   // go to end of byte boundary\n                   var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                   if (t > sl) {\n                       if (noSt)\n                           err(0);\n                       break;\n                   }\n                   // ensure size\n                   if (noBuf)\n                       cbuf(bt + l);\n                   // Copy over uncompressed data\n                   buf.set(dat.subarray(s, t), bt);\n                   // Get new bitpos, update byte count\n                   st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                   continue;\n               }\n               else if (type == 1)\n                   lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n               else if (type == 2) {\n                   //  literal                            lengths\n                   var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                   var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                   pos += 14;\n                   // length+distance tree\n                   var ldt = new u8(tl);\n                   // code length tree\n                   var clt = new u8(19);\n                   for (var i = 0; i < hcLen; ++i) {\n                       // use index map to get real code\n                       clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                   }\n                   pos += hcLen * 3;\n                   // code lengths bits\n                   var clb = max(clt), clbmsk = (1 << clb) - 1;\n                   // code lengths map\n                   var clm = hMap(clt, clb, 1);\n                   for (var i = 0; i < tl;) {\n                       var r = clm[bits(dat, pos, clbmsk)];\n                       // bits read\n                       pos += r & 15;\n                       // symbol\n                       var s = r >>> 4;\n                       // code length to copy\n                       if (s < 16) {\n                           ldt[i++] = s;\n                       }\n                       else {\n                           //  copy   count\n                           var c = 0, n = 0;\n                           if (s == 16)\n                               n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                           else if (s == 17)\n                               n = 3 + bits(dat, pos, 7), pos += 3;\n                           else if (s == 18)\n                               n = 11 + bits(dat, pos, 127), pos += 7;\n                           while (n--)\n                               ldt[i++] = c;\n                       }\n                   }\n                   //    length tree                 distance tree\n                   var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                   // max length bits\n                   lbt = max(lt);\n                   // max dist bits\n                   dbt = max(dt);\n                   lm = hMap(lt, lbt, 1);\n                   dm = hMap(dt, dbt, 1);\n               }\n               else\n                   err(1);\n               if (pos > tbts) {\n                   if (noSt)\n                       err(0);\n                   break;\n               }\n           }\n           // Make sure the buffer can hold this + the largest possible addition\n           // Maximum chunk size (practically, theoretically infinite) is 2^17;\n           if (noBuf)\n               cbuf(bt + 131072);\n           var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n           var lpos = pos;\n           for (;; lpos = pos) {\n               // bits read, code\n               var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n               pos += c & 15;\n               if (pos > tbts) {\n                   if (noSt)\n                       err(0);\n                   break;\n               }\n               if (!c)\n                   err(2);\n               if (sym < 256)\n                   buf[bt++] = sym;\n               else if (sym == 256) {\n                   lpos = pos, lm = null;\n                   break;\n               }\n               else {\n                   var add = sym - 254;\n                   // no extra bits needed if less\n                   if (sym > 264) {\n                       // index\n                       var i = sym - 257, b = fleb[i];\n                       add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                       pos += b;\n                   }\n                   // dist\n                   var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                   if (!d)\n                       err(3);\n                   pos += d & 15;\n                   var dt = fd[dsym];\n                   if (dsym > 3) {\n                       var b = fdeb[dsym];\n                       dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                   }\n                   if (pos > tbts) {\n                       if (noSt)\n                           err(0);\n                       break;\n                   }\n                   if (noBuf)\n                       cbuf(bt + 131072);\n                   var end = bt + add;\n                   for (; bt < end; bt += 4) {\n                       buf[bt] = buf[bt - dt];\n                       buf[bt + 1] = buf[bt + 1 - dt];\n                       buf[bt + 2] = buf[bt + 2 - dt];\n                       buf[bt + 3] = buf[bt + 3 - dt];\n                   }\n                   bt = end;\n               }\n           }\n           st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n           if (lm)\n               final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n       } while (!final);\n       return bt == buf.length ? buf : slc(buf, 0, bt);\n   };\n   // empty\n   var et = /*#__PURE__*/ new u8(0);\n   // read 2 bytes\n   var b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n   // read 4 bytes\n   var b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\n   var b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n   /**\n    * Expands DEFLATE data with no wrapper\n    * @param data The data to decompress\n    * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n    * @returns The decompressed version of the data\n    */\n   function inflateSync(data, out) {\n       return inflt(data, out);\n   }\n   // text decoder\n   var td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n   // text decoder stream\n   var tds = 0;\n   try {\n       td.decode(et, { stream: true });\n       tds = 1;\n   }\n   catch (e) { }\n   // decode UTF8\n   var dutf8 = function (d) {\n       for (var r = '', i = 0;;) {\n           var c = d[i++];\n           var eb = (c > 127) + (c > 223) + (c > 239);\n           if (i + eb > d.length)\n               return [r, slc(d, i - 1)];\n           if (!eb)\n               r += String.fromCharCode(c);\n           else if (eb == 3) {\n               c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                   r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n           }\n           else if (eb & 1)\n               r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n           else\n               r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n       }\n   };\n   /**\n    * Converts a Uint8Array to a string\n    * @param dat The data to decode to string\n    * @param latin1 Whether or not to interpret the data as Latin-1. This should\n    *               not need to be true unless encoding to binary string.\n    * @returns The original UTF-8/Latin-1 string\n    */\n   function strFromU8(dat, latin1) {\n       if (latin1) {\n           var r = '';\n           for (var i = 0; i < dat.length; i += 16384)\n               r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n           return r;\n       }\n       else if (td)\n           return td.decode(dat);\n       else {\n           var _a = dutf8(dat), out = _a[0], ext = _a[1];\n           if (ext.length)\n               err(8);\n           return out;\n       }\n   }\n   // skip local zip header\n   var slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n   // read zip header\n   var zh = function (d, b, z) {\n       var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n       var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n       return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n   };\n   // read zip64 extra field\n   var z64e = function (d, b) {\n       for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n           ;\n       return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n   };\n   /**\n    * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n    * performance with more than one file.\n    * @param data The raw compressed ZIP file\n    * @param opts The ZIP extraction options\n    * @returns The decompressed files\n    */\n   function unzipSync(data, opts) {\n       var files = {};\n       var e = data.length - 22;\n       for (; b4(data, e) != 0x6054B50; --e) {\n           if (!e || data.length - e > 65558)\n               err(13);\n       }\n       var c = b2(data, e + 8);\n       if (!c)\n           return {};\n       var o = b4(data, e + 16);\n       var z = o == 4294967295;\n       if (z) {\n           e = b4(data, e - 12);\n           if (b4(data, e) != 0x6064B50)\n               err(13);\n           c = b4(data, e + 32);\n           o = b4(data, e + 48);\n       }\n       var fltr = opts && opts.filter;\n       for (var i = 0; i < c; ++i) {\n           var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n           o = no;\n           if (!fltr || fltr({\n               name: fn,\n               size: sc,\n               originalSize: su,\n               compression: c_2\n           })) {\n               if (!c_2)\n                   files[fn] = slc(data, b, b + sc);\n               else if (c_2 == 8)\n                   files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));\n               else\n                   err(14, 'unknown compression type ' + c_2);\n           }\n       }\n       return files;\n   }\n\n   // prettier-ignore\n   const unzip = (data) => unzipSync(data, {\n       filter: ({ name, size }) => !( // skip:\n       size === 0 // empty files and folders\n           || name.startsWith(\"__MACOSX/\") // __MACOSX archive-specific folder\n       )\n   });\n   onmessage = ({ data: request }) => {\n       let response;\n       try {\n           response = {\n               id: request.id,\n               data: unzip(request.data),\n           };\n       }\n       catch (error) {\n           response = {\n               id: request.id,\n               error: error.message,\n           };\n       }\n       postMessage(response);\n   };\n\n})();\n"),$x=function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={id:zE(),data:new Uint8Array(t)};Qx.addEventListener("message",(function t(i){var a=i.data;a.id===r.id&&(Qx.removeEventListener("message",t),"error"in a&&n(new Error(a.error)),"data"in a&&e(a.data))})),Qx.postMessage(r,[t])})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yx="/",Xx=function(){function e(t){Xi(this,e),Object.defineProperty(this,"_source",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_fs",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_mountpoint",{enumerable:!0,configurable:!0,writable:!0,value:Yx}),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._source=t}return Zi(e,[{key:"_fetch",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){if(e.ok)return e.blob();throw new Error("".concat(e.status,": Failed to fetch ").concat(t))})).then((function(e){if(e.size>0)return e;throw new Error("The source must not be empty. Received ".concat(e.size," bytes size source."))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unzip",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type.includes("zip")){e.next=2;break}throw new TypeError('The source type must be "application/zip"-like. Received: "'.concat(t.type,'".'));case 2:return e.next=4,t.arrayBuffer().then($x).then((function(e){return Object.entries(e)})).then((function(e){return Object.fromEntries(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=a(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof(t=this._source)&&(t=new Request(t)),!(t instanceof Request)){e.next=6;break}return e.next=5,this._fetch(t);case 5:t=e.sent;case 6:if(!(t instanceof Blob)){e.next=10;break}return e.next=9,this._unzip(t);case 9:t=e.sent;case 10:if(!(t instanceof Object&&t.constructor===Object)){e.next=13;break}return e.next=13,Promise.all(Object.entries(t).map((function(e){var t=s(e,2),r=t[0],i=t[1];return n.writeFile(r,i)})));case 13:return this._source=null,e.abrupt("return",this._data);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_fsWriteFile",value:function(e,t){this._fs&&(e="".concat(this._mountpoint).concat(e.startsWith("/")?e.substring(1):e),Wx.write(this._fs,e,t))}},{key:"mount",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yx;this._fs=e,this._mountpoint=n.endsWith("/")?n:"".concat(n,"/"),Object.entries(this._data).forEach((function(e){var n=s(e,2),r=n[0],i=n[1];return t._fsWriteFile(r,i)}))}},{key:"unmount",value:function(){this._fs=null,this._mountpoint=Yx}},{key:"writeFile",value:function(){var e=a(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Uint8Array,!(n instanceof Blob)){e.next=7;break}return e.next=4,n.arrayBuffer();case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=n;case 8:e.t2=e.t1,r=new e.t0(e.t2),this._data[t]=r,this._fsWriteFile(t,this._data[t]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"preload",value:function(){var e=a(l().mark((function e(t){var n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,Promise.all(t.map((function(e){return r.preload(e)})));case 3:return e.abrupt("return",e.sent);case 4:return n=new this(t),e.next=7,n.load();case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();(Hx=Wx||(Wx={})).write=function(e,t,n){var r=t.split("/");""===r[0]&&r.shift(),r.length>1&&r.reduce((function(t,n){return Hx.exists(e,t)||e.mkdir(t),"".concat(t,"/").concat(n)})),e.writeFile(t,n)},Hx.exists=function(e,t){try{return e.lstat(t),!0}catch(n){if(44===n.errno||"ENOENT"===n.code)return!1;throw n}};var Jx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return console.warn(e)};return function(n,r,i){var a=i.value;if("function"!==typeof a)throw new TypeError("Only functions can be marked as deprecated");return CE(CE({},i),{},{deprecationWarning:function(){t.call(this,"DEPRECATION: ".concat(n.constructor.name,".").concat(r,"() is deprecated. ").concat(e));for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return a.call.apply(a,[this].concat(o))}})}};function Zx(){try{return new EventTarget}catch(pw){return document.createDocumentFragment()}}var eS=function(){function e(){Xi(this,e),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._emitter=Zx()}return Zi(e,[{key:"addEventListener",value:function(){var e;(e=this._emitter).addEventListener.apply(e,arguments)}},{key:"removeEventListener",value:function(){var e;(e=this._emitter).removeEventListener.apply(e,arguments)}},{key:"dispatchEvent",value:function(){var e,t;return null===(t=(e=this._emitter).dispatchEvent.apply(e,arguments))||void 0===t||t}},{key:"removeAllEventListeners",value:function(){this._emitter=Zx()}}]),e}(),tS=function(){function e(t){Xi(this,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"effects/".concat(Nx())}),Object.defineProperty(this,"_player",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_bundle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._bundle=new rS(t)}return Zi(e,[{key:"_load",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bundle.load();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_bind",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._bundle.load();case 2:this._player=t,this._bundle.mount(this._player._sdk.FS,this.name);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_unbind",value:function(){this._bundle.unmount(),this._player=null}},{key:"writeFile",value:function(){var e=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._bundle.writeFile(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"callJsMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this._player){var n=this._player._effectManager;return Ux((function(){return n.current().callJsMethod(e,t)}))}console.warn("The method won't evaluate: the effect is not applied to a player.")}},{key:"evalJs",value:function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._player){e.next=3;break}return console.warn("The script won't evaluate: the effect is not applied to a player."),e.abrupt("return");case 3:return n=this._player._effectManager,e.abrupt("return",new Promise((function(e){Ux((function(){return n.current().evalJs(t,e)}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"preload",value:function(){var e=a(l().mark((function e(t){var n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(t)){e.next=4;break}return e.next=3,Promise.all(t.map((function(e){return r.preload(e)})));case 3:return e.abrupt("return",e.sent);case 4:return n=new this(t),e.next=7,n._load();case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();gx([Jx("Please, use Effect.evalJs() instead.")],tS.prototype,"callJsMethod",null);var nS,rS=function(e){aa(n,e);var t=la(n);function n(){return Xi(this,n),t.apply(this,arguments)}return Zi(n,[{key:"_unzip",value:function(){var e=a(l().mark((function e(t){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(oa(n.prototype),"_unzip",this).call(this,t);case 2:return r=e.sent,i=Object.keys(r),a=i.map((function(e){return e.split("/").find(Boolean)})),o=a[0],a.every((function(e){return e===o}))&&(r=Object.fromEntries(Object.entries(r).map((function(e){var t=s(e,2),n=t[0],r=t[1];return[n.replace("".concat(o,"/"),""),r]})))),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Xx),iS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xi(this,e),Object.defineProperty(this,"_id",{enumerable:!0,configurable:!0,writable:!0,value:aS()}),Object.defineProperty(this,"_sdk",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_free",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inuse",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._sdk=t,this._free=new Array(n).fill(null).map((function(){return{id:NaN,ptr:NaN,length:0}}))}return Zi(e,[{key:"get",value:function(e){var t=this._free.shift();return t?(this._inuse.push(t),t.length!==e.length&&(this._sdk._free(t.ptr),t.ptr=this._sdk._malloc(e.length),t.length=e.length),this._sdk.HEAP8.set(e,t.ptr),t.id=this._id(),t):null}},{key:"release",value:function(e){for(var t,n=e.id,r=null;(t=this._inuse[0])&&t.id<=n;)this._free.push(r=this._inuse.shift());return r}},{key:"reset",value:function(){var e,t=this;(e=this._free).push.apply(e,ja(this._inuse.splice(0,this._inuse.length))),this._free.forEach((function(e){t._sdk._free(e.ptr),e.id=NaN,e.ptr=NaN,e.length=0}))}}]),e}(),aS=function(){var e=0;return function(){return++e}},oS={devicePixelRatio:"undefined"!==typeof devicePixelRatio?devicePixelRatio:1,faceSearchMode:"GOOD",consistencyMode:"SYNCHRONOUS",cameraOrientation:0,maxFaces:1,logger:console},uS=nS=function(e){aa(n,e);var t=la(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xi(this,n),r=t.call(this),Object.defineProperty(ra(r),"_sdk",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_preferences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_meta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_memory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_effectManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(ra(r),"_state",{enumerable:!0,configurable:!0,writable:!0,value:"paused"}),Object.defineProperty(ra(r),"_frames",{enumerable:!0,configurable:!0,writable:!0,value:NE(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}),r._sdk=e,r._preferences=CE(CE({},oS),{},{fps:30},i),r._meta={width:r._sdk.canvas.width,height:r._sdk.canvas.height},r._memory=new iS(r._sdk,3),r._player=Ux((function(){return r._sdk.EffectPlayer.create(new r._sdk.EffectPlayerConfiguration(r._meta.width,r._meta.height,!0,r._sdk.FaceSearchMode[r._preferences.faceSearchMode],!1,!1))})),r._player.surfaceCreated(r._sdk.canvas.width,r._sdk.canvas.height),r._player.setMaxFaces(r._preferences.maxFaces),r._player.setRenderConsistencyMode(r._sdk.ConsistencyMode[r._preferences.consistencyMode]),r._player.addFrameDurationListener((function(e,t){return r.dispatchEvent(new CustomEvent(nS.FRAME_PROCESSED_EVENT,{detail:{instantDuration:e,averagedDuration:t}}))}),(function(e,t){return r.dispatchEvent(new CustomEvent(nS.FRAME_RECEIVED_EVENT,{detail:{instantDuration:e,averagedDuration:t}}))}),(function(e,t){return r.dispatchEvent(new CustomEvent(nS.FRAME_RENDERED_EVENT,{detail:{instantDuration:e,averagedDuration:t}}))})),r._player.addFrameDataListener((function(e){Ux((function(){r.dispatchEvent(new CustomEvent(nS.FRAME_DATA_EVENT,{detail:e})),e.delete()}))})),r._effectManager=r._player.effectManager(),r._effectManager.addEffectActivatedListener((function(){Ux((function(){var e=r._effectManager.current();r.dispatchEvent(new CustomEvent(nS.EFFECT_ACTIVATED_EVENT,{detail:e})),e.delete()}))})),r.setVolume(0),r}return Zi(n,[{key:"isPlaying",get:function(){return"playing"===this._state}},{key:"use",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._frames=e[Symbol.asyncIterator](t)}},{key:"applyEffect",value:function(){var e=a(l().mark((function e(t){var n,r,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,r=t.name,e.next=4,t._bind(n);case 4:return e.abrupt("return",new Promise((function(e){i.addEventListener(nS.EFFECT_ACTIVATED_EVENT,(function(t){var n=t.detail;n=Vx(n.clone()),e(n),nx((function(){return n.delete()}))}),{once:!0}),i.addEventListener(nS.EFFECT_ACTIVATED_EVENT,(function e(i){if(i.detail.url()==="/".concat(r))return;n.removeEventListener(nS.EFFECT_ACTIVATED_EVENT,e),t._unbind()})),Ux((function(){i._effectManager.load(r)}))})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearEffect",value:function(){var e=a(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.addEventListener(nS.EFFECT_ACTIVATED_EVENT,(function(){return e()}),{once:!0}),Ux((function(){t._effectManager.load("")}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"callJsMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ux((function(){return t._effectManager.current().callJsMethod(e,n)}))}},{key:"setVolume",value:function(e){this._effectManager.setEffectVolume(e),this.dispatchEvent(new CustomEvent("volumechange",{detail:e}))}},{key:"_setSurfaceSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._preferences.devicePixelRatio,r=Math.round(window.devicePixelRatio),i=screen.width*r,a=screen.height*r,o=Math.max(1,i/e),u=Math.max(1,a/t),s=Math.max(o,u);e*=n=Math.min(n,s),t*=n,this._sdk.setCanvasSize(e,t),this._effectManager.setEffectSize(e,t),this._player.surfaceChanged(e,t)}},{key:"_pushFrame",value:function(e){var t=this,n=e.data,r=e.width,i=e.height,a=e.format,o=void 0===a?"RGBA":a,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=this._memory.get(n);c&&(c.meta={width:r,height:i},Ux((function(){var e=t._sdk.FrameData.makeFromBpc8(c.ptr,r,i,t._sdk.CameraOrientation["DEG_".concat(t._preferences.cameraOrientation)],t._sdk.PixelFormat[o],!1,0);if(u.length>0){var n,a=new t._sdk.VectorFeatureParameter,l=na(u);try{for(l.s();!(n=l.n()).done;){var f=s(n.value,4),d=f[0],h=void 0===d?0:d,p=f[1],v=void 0===p?0:p,m=f[2],y=void 0===m?0:m,g=f[3],b=void 0===g?0:g;a.push_back(new t._sdk.FeatureParameter(h,v,y,b))}}catch(w){l.e(w)}finally{l.f()}e.addFeatureParameters(a)}t._player.pushFrameDataWithNumber(e,c.id),t._player.recognizerProcessFromBuffer()})))}},{key:"_draw",value:function(){try{var e=this._player.draw();if(-1===e)return e;var t=this._memory.release({id:e});if(!t)return e;var n=this._meta,r=t.meta;return n.width===r.width&&n.height===r.height||this._setSurfaceSize(n.width=r.width,n.height=r.height),e}catch(i){throw this._memory.reset(),i}}},{key:"play",value:function(){var e=a(l().mark((function e(){var t,n,r=this,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},"undefined"!==typeof(n=t.fps)&&(this._preferences.fps=n),"pausing"===this._state&&(this._state="playing"),"playing"!==this._state){e.next=7;break}return e.abrupt("return");case 7:this._state="playing";case 8:a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("playing"!==r._state){e.next=8;break}return e.next=3,r._frames.next(r._preferences.fps);case 3:t=e.sent,(n=t.value)?r._pushFrame(n):r._state="paused",e.next=0;break;case 8:case"end":return e.stop()}}),e)})))(),function(){var e=0;tx((function t(n){var i,a,o,u;if("playing"===r._state){var s=1e3/r._preferences.fps;if(n-e>s-.1*s){e=n;try{r._draw()}catch(c){if(c instanceof WebAssembly.RuntimeError)throw r._state="paused",c;r.clearEffect(),null===(a=(i=r._preferences.logger).warn)||void 0===a||a.call(i,"The effect was force cleared due to the exception:"),null===(u=(o=r._preferences.logger).error)||void 0===u||u.call(o,c)}}tx(t)}}))}();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"playing"===this._state&&(this._state="pausing");case 1:if("pausing"!==this._state){e.next=6;break}return e.next=4,new Promise((function(e){return tx(e)}));case 4:e.next=1;break;case 6:if("paused"===this._state){e.next=8;break}throw new Error("The pause request was canceled");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pause();case 2:return this.removeAllEventListeners(),e.next=5,this.clearEffect();case 5:for(t in this._player.surfaceDestroyed(),this._player.delete(),this._effectManager.delete(),this._memory.reset(),this)t.startsWith("_")&&Object.defineProperty(this,t,{get:function(){throw new Error("The player is destroyed.")},set:function(){throw new Error("The player is destroyed.")}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"create",value:function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qx(t);case 2:return n=e.sent,e.abrupt("return",new this(n,t));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(eS);Object.defineProperty(uS,"FRAME_RECEIVED_EVENT",{enumerable:!0,configurable:!0,writable:!0,value:"framereceived"}),Object.defineProperty(uS,"FRAME_PROCESSED_EVENT",{enumerable:!0,configurable:!0,writable:!0,value:"frameprocessed"}),Object.defineProperty(uS,"FRAME_RENDERED_EVENT",{enumerable:!0,configurable:!0,writable:!0,value:"framerendered"}),Object.defineProperty(uS,"FRAME_DATA_EVENT",{enumerable:!0,configurable:!0,writable:!0,value:"framedata"}),Object.defineProperty(uS,"EFFECT_ACTIVATED_EVENT",{enumerable:!0,configurable:!0,writable:!0,value:"effectactivated"}),gx([Jx("Please, use Effect.evalJs() instead.")],uS.prototype,"callJsMethod",null),uS=nS=gx([function e(t,n,r){if(r){var i=r.value;return"function"!==typeof i||i===t.constructor?r:CE(CE({},r),{},{value:function(){var e,t=this;try{for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];if(!((e=i.call.apply(i,[this].concat(r)))instanceof Promise))return e}catch(o){throw"number"===typeof o&&(o=new Error(this._sdk.getExceptionMessage(o))),o}return e.catch((function(e){throw"number"===typeof e&&(e=new Error(t._sdk.getExceptionMessage(e))),e}))}})}var a=t.prototype,o=Object.getOwnPropertyDescriptors(a);for(var u in o)Object.defineProperty(a,u,e(a,u,o[u]));return t}],uS);new WeakMap;var sS="undefined"!==typeof MediaStream?MediaStream:function(){return Zi((function e(){throw Xi(this,e),new Error("The environment does not support MediaStream API")}))}(),cS=function(e){aa(n,e);var t=la(n);function n(e){var r;Xi(this,n),r=t.call(this);var i=n.cache.get(e);if(!i||!i.active){var a=e._sdk.canvas;if((a.getContext("webgl2").getContextAttributes()||{}).alpha){var o=a,u=document.createElement("canvas"),s=Ax(u,{alpha:!1}),c="undefined"!==typeof WebGL2RenderingContext;e.addEventListener(uS.FRAME_RENDERED_EVENT,(function(){var e=0,t=o.width,n=o.height;if(c){var r=[n,-n];e=r[0],n=r[1]}s.drawImage(o,0,e,t,n)})),a=u}a.captureStream().getTracks().forEach((function(e){return r.addTrack(e)})),n.cache.set(e,ra(r))}return ca(r,n.cache.get(e))}return Zi(n,[{key:"getVideoTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getVideoTracks()[e]}},{key:"getAudioTrack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getAudioTracks()[e]}},{key:"stop",value:function(){this.getTracks().forEach((function(e){return e.stop()}))}}]),n}(sS);Object.defineProperty(cS,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new WeakMap});"undefined"!==typeof MediaRecorder&&MediaRecorder;var lS,fS,dS,hS,pS,vS,mS,yS=n(648),gS=n(270),bS=n(741),wS=n(27),_S=(lS=Mt.bound,fS=Mt.bound,dS=function(){function e(){var t=this;Xi(this,e),this.servers={iceServers:[{urls:["stun:stun1.1.google.com:19302","stun:stun2.1.google.com:19302"]}],iceCandidatePoolSize:10},this.banubaToken="Nj5zrHfvddGN8K6jIi2IKjRKfEC8pkAjGbiOTzWJ2EKEs13Mym0zOW7EHrveGuV/7+kbPBOsL7kdVHTiShT3G/xpk4LUduCZB9k3KPi/wgYZ0ekTND2jhCfl+0SF2+P3VF+hP5tQpLUR0lnFViMbUBzoiUwHRvBUvMn0ysSOsUgjNS0kVWHFPRrAJUqdTOBvS6xperlRuouIadHr1HjReRUnJhOXReS+VkGA02qbr1DVHPM9mNWrJo4Q4NISoGqqlno/v/QTw7GdmNZ17N/jr/o+tVQFgU1I9vHqnspMggUcdXHwv/tQKaRX8jO526FpBBPSW7L0tX0fyubhbT3YIvNIi5TA1RAKTD55q1/E41ZLR30x40mEyhUPrZIdI3sJOv88hSuPyyCxjNiVeAQHKqYp+ZC8D96kDBZeipUbP48Yj1RJwhacyb/VXEZyFvCnMELOzblMH9nxM4Iqj2NCq9K+8Xln5dm22Fo2a7R8sBb25gIsdGjQZhgzj7Jb6xVFATNEG7Zx/FOQLPyHiB2HYO7zaxxvahEXdcFdATWDLXu8QojlpAfxsBfK/1Hy7lBPEqk7/Da25ATAa+ftKjdP231GOcBhfu+vbCRkcuJuy5jwUnJnn7V0R+9SzC2xJ2IyaXeB26wabG+Bkt8R0WwQ2tP+1LhkwF1Af68QhPQNvs4wMWIqaE0sVABgXkG5ZCTzSuL6H6+95f5VCKkENOBdM61gEor3UpEFqApHZ/t9M0Ut8s/3Xd/8Zi9JpX5MgRYmHLR9Wo8nrE/UW37GhcaeegoA358ClyGGuPL4W5EN07BtzYSamiGprteWHCWP34pQBNK2IeAII7qLPROkNJ8ZoR6A1wwWuEcGD2tqJ61Bj0lfRAYGabRRqm79jfkdyT06Q2XNDyxolMd0DIDniTpIdH9bmvIJgHfDJT3XMy988yd6TekBI+8jQg8Eq+fFflS/tERfpuyVufFzgfHsmiksUDIu6nsTGsiOw+GI7X0Q44k44urHyYZSaUTTndCj2b8cVwEtBzqlcBgyZybtDYRabrtu19Mf+KA8shAx4808u8AJzbqLigUFaPwYKQwBSaelCahJx+Xqqm+jg9ujbBYlYL40uHB5hi6AwTRBc1px07ZqXmLQu3whsgk/oGsvGw6YEMtvcmtQXruV49KRlGqgRBQTI4Gn1CBVshibzeAt+B1BuVVRrihEkvi1rQQRfdmC75OEJZwYwDUPn46hqtfmo/ZrUIzfvWaG3deAU7ErpOazBxJRKgZbRQQKAsK+iDwgC7FysK4vyPAIa+l/GjzXBfQ13rjsKKbaPnsdXY3+E0JV1aYoEaa8smjRZXqOzgDItybHJ9m6soLUJu1dymLpd/5QKeMCS7y6darXEtjtBiOgmi7aC7LmaqvAcsu64LEhl+YYqElEncncuGDl2ZoUadljU+Ksafs0ZGc6ISHvY9zl2hrYlZyMZYtSGM+QuxknMapbK97xFa/iUmT+rvWjVpPEbA6z7GW/qvtMaC1eju7TXQA9gAXVB0PFzaAr0CtOEvOie9r/qIDAUeUqqOCH3TB+47fv1+k/hbaYB0SexR1f3A4Q1WGQ7gd2EJqnVKCn978P/chI9D4YE3ELIjCcgSB+v+UHr/hdDke0q/Z9HohHs+HywLiCrdEq0PG1whD7k+KWiyQZRAdy4o0eUoZs6xK5U2jSbRyi6RT7oBSZ9jg9ydZxecxlWv1lCVb0kvcjA7XHD8yAl19rWemDKe4RsaLk9w0+KlKamuXR2A78cAcB1CS/oAT2dA9Oi/G1yNTXhcz6q/4THKYUI4oGjOlcYAsJlGXWKLzOKj5IRhKnOt+tEmUpIHWqN3bTFeVjxMQhXAQ8CKvYJ8VhhyT98+dh3jdSFfgZ0ti7SEwS1Lgi0IplwxXrjIcqZC4Pzda0FF2m4xIX3zWZlktcOJJ/CbD5IVlhooe9AhT639ld2Ia+nWNxKDA3NxjPHXctEid3sYGZfSRUdBncKc+dinDE71DQ1Vf7D445gB6YTy1BhYNS5cl2vOdkndKHs5k1QDPadXnU1L1inF/DAb2ZUzBx3WIOieGvBfgLb/HvVQkgVsKDn0mPzpOj",Yi(this,"connection",hS,this),Yi(this,"localStream",pS,this),Yi(this,"remoteStream",vS,this),this.firebaseConfig={apiKey:"AIzaSyCiJ90Y8v_CyUNFTWrK6iLRb9wuQ7MYTLQ",authDomain:"test-banuba.firebaseapp.com",projectId:"test-banuba",storageBucket:"test-banuba.appspot.com",messagingSenderId:"357402802026",appId:"1:357402802026:web:aa163fc9e1b21ec80a9713",measurementId:"G-189RCJFZZ3"},this.app=void 0,Yi(this,"addBlur",mS,this),this.createOffer=a(l().mark((function e(){var n,r,i,a,o,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.app.collection("calls").doc(),r=n.collection("offers"),i=n.collection("answers"),a=n.id,t.connection.onicecandidate=function(e){e.candidate&&r.add(e.candidate.toJSON())},e.next=7,t.connection.createOffer();case 7:return o=e.sent,e.next=10,t.connection.setLocalDescription(o);case 10:return u={sdp:null===o||void 0===o?void 0:o.sdp,type:null===o||void 0===o?void 0:o.type},e.next=13,n.set({offer:u});case 13:return n.onSnapshot((function(e){var n=e.data();!t.connection.currentRemoteDescription&&null!==n&&void 0!==n&&n.answer&&t.connection.setRemoteDescription(new RTCSessionDescription(n.answer))})),i.onSnapshot((function(e){e.docChanges().map((function(e){"added"===e.type&&t.connection.addIceCandidate(new RTCIceCandidate(e.doc.data()))}))})),e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),this.add=function(){var e=a(l().mark((function e(n){var r,i,a,o,u,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.app.collection("calls").doc(n),i=r.collection("answers"),a=r.collection("offers"),t.connection.onicecandidate=function(e){e.candidate&&i.add(e.candidate.toJSON())},e.next=6,r.get();case 6:return o=e.sent.data(),u=o.offer,e.next=10,t.connection.setRemoteDescription(new RTCSessionDescription(u));case 10:return e.next=12,t.connection.createAnswer();case 12:return s=e.sent,e.next=15,t.connection.setLocalDescription(s);case 15:return c={type:s.type,sdp:s.sdp},e.next=18,r.update({answer:c});case 18:a.onSnapshot((function(e){e.docChanges().map((function(e){"added"===e.type&&t.connection.addIceCandidate(new RTCIceCandidate(e.doc.data()))}))}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ho.initializeApp(this.firebaseConfig),this.app=Ho.firestore(),this.connection.ontrack=function(e){console.log(e.track),t.remoteStream&&(t.remoteStream.getVideoTracks().length?(t.remoteStream.removeTrack(t.remoteStream.getVideoTracks()[0]),t.remoteStream.addTrack(e.track)):t.remoteStream.addTrack(e.track))}}return Zi(e,[{key:"setStream",value:function(){var e=a(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getTracks().map((function(e){var t;return null===(t=r.connection)||void 0===t?void 0:t.addTrack(e)})),"local"!==n){e.next=4;break}return this.localStream=t,e.abrupt("return",this.localStream);case 4:return this.remoteStream=t,e.abrupt("return",this.remoteStream);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reloadTrack",value:function(e){var t,n,r="audio"===e?null===(t=this.localStream)||void 0===t?void 0:t.getAudioTracks()[0]:null===(n=this.localStream)||void 0===n?void 0:n.getVideoTracks()[0];return!!r&&(r.enabled=!r.enabled,r.enabled)}}]),e}(),hS=ea(dS.prototype,"connection",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new RTCPeerConnection(this.servers)}}),pS=ea(dS.prototype,"localStream",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vS=ea(dS.prototype,"remoteStream",[Le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea(dS.prototype,"setStream",[lS],Object.getOwnPropertyDescriptor(dS.prototype,"setStream"),dS.prototype),mS=ea(dS.prototype,"addBlur",[fS],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=a(l().mark((function t(n){var r,i,a,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uS.create({clientToken:e.banubaToken,locateFile:{"BanubaSDK.data":yS,"BanubaSDK.wasm":gS,"BanubaSDK.simd.wasm":bS}});case 2:if(r=t.sent,i=new cS(r),!e.localStream){t.next=16;break}return r.use(new Ex(e.localStream)),t.next=8,r.applyEffect(new tS(wS));case 8:return t.next=10,r.play();case 10:return a=e.localStream.getAudioTracks()[0],o=i.getVideoTrack(),e.localStream=new MediaStream([a,o]),n.srcObject=new MediaStream([a,o]),t.next=16,e.connection.getSenders()[1].replaceTrack(o);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),ea(dS.prototype,"reloadTrack",[Mt],Object.getOwnPropertyDescriptor(dS.prototype,"reloadTrack"),dS.prototype),dS),kS=new _S,ES=n(694),xS=n.n(ES),SS="button_button__0On-O",TS="button_inactive__GEhVX",CS=function(e){var t=e.handleClick,n=e.Icon,r=e.text,i=e.isEnabled;return(0,Wi.jsxs)("button",{className:xS()(SS,ta({},TS,!i)),type:"button",onClick:t,children:[n?(0,Wi.jsx)(n,{}):null,r]})};CS.defaultProps={Icon:function(){return(0,Wi.jsx)("span",{})},text:""};var IS=CS,AS=n(125),DS=Jr((function(){var e,n,r,i,o,u,c=(0,t.useRef)(null),f=(0,t.useRef)(null),d=s((0,t.useState)(!1),2),h=d[0],p=d[1],v=s((0,t.useState)(!1),2),m=v[0],y=v[1],g=s((0,t.useState)(""),2),b=g[0],w=g[1],_=kS.reloadTrack,k=kS.setStream,E=kS.createOffer,x=kS.add,S=kS.addBlur,T=function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=k,e.t1=kS,e.next=5,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 5:return e.t2=e.sent,e.next=8,e.t0.call.call(e.t0,e.t1,e.t2,"local");case 8:return t=e.sent,e.next=11,k.call(kS,new MediaStream,"remote");case 11:n=e.sent,c.current&&(c.current.srcObject=t,p(!0),y(!0)),f.current&&(f.current.srcObject=n),e.next=19;break;case 16:e.prev=16,e.t3=e.catch(0),Bi.error(e.t3.message,{theme:"dark"});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),C=(0,t.useCallback)(a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=c.current)||void 0===t||!t.srcObject){e.next=4;break}y(_.call(kS,"video")),e.next=6;break;case 4:return e.next=6,T();case 6:case"end":return e.stop()}}),e)}))),[]),I=(0,t.useCallback)((function(){return p(_.call(kS,"audio"))}),[]),A=function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.bind(kS)();case 2:return t=e.sent,w(t),e.next=6,navigator.clipboard.writeText(t);case 6:Bi.info("Room Id copied to the clipboard!",{theme:"dark"});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.call(kS,b);case 2:setTimeout((function(){Bi.success("Connected!",{theme:"dark"})}),3e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Wi.jsxs)("div",{className:Vi,children:[(0,Wi.jsxs)("div",{className:Ui,children:[(0,Wi.jsxs)("div",{className:zi,children:[(0,Wi.jsx)("video",{ref:c,poster:AS,autoPlay:!0,muted:!0}),null!==(e=c.current)&&void 0!==e&&e.srcObject?(0,Wi.jsx)("span",{children:"You"}):null]}),(0,Wi.jsxs)("div",{className:zi,children:[(0,Wi.jsx)("video",{ref:f,placeholder:AS,autoPlay:!0}),null!==(n=f.current)&&void 0!==n&&n.srcObject?(0,Wi.jsx)("span",{children:"Guest"}):null]})]}),(0,Wi.jsxs)("div",{className:qi,children:[(0,Wi.jsx)(IS,{isEnabled:!(!m||null===(r=c.current)||void 0===r||!r.srcObject),handleClick:C,Icon:Hi}),(0,Wi.jsx)(IS,{isEnabled:!(!h||null===(i=c.current)||void 0===i||!i.srcObject),handleClick:I,Icon:Qi}),(0,Wi.jsx)(IS,{isEnabled:!0,handleClick:function(){return S.call(kS,c.current)},text:"Blur"}),null!==(o=c.current)&&void 0!==o&&o.srcObject?(0,Wi.jsx)(IS,{isEnabled:!0,handleClick:A,Icon:$i}):null]}),null!==(u=c.current)&&void 0!==u&&u.srcObject?(0,Wi.jsxs)("div",{className:Ki,children:[(0,Wi.jsx)("input",{placeholder:"Room id",className:Gi,type:"text",defaultValue:b,onChange:function(e){return w(e.target.value)}}),(0,Wi.jsx)(IS,{isEnabled:!0,handleClick:D,text:"Connect"})]}):null,(0,Wi.jsx)(Ci,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0})]})})),NS=DS,PS=function(){return(0,Wi.jsx)("div",{className:"wrapper",children:(0,Wi.jsx)("div",{className:"container",children:(0,Wi.jsx)(NS,{})})})},OS=document.getElementById("root");(0,r.s)(OS).render((0,Wi.jsx)(t.StrictMode,{children:(0,Wi.jsx)(PS,{})}))}()}();
//# sourceMappingURL=main.07fd08cd.js.map